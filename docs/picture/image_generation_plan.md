| ID | File Name | Proposed Image Filename | Relative Link Path | Prompt | Insertion Point |
|---|---|---|---|---|---|
| 1 | test_ts_study_000.md | test_ts_study_000_input_output_types.png | ./picture/test_ts_study_000_input_output_types.png | **Theme**: Preparation Toolbox<br><br>**Labels to Render**:<br>- Preparation: "æº–å‚™"<br>- Tools: "é“å…·"<br><br>**Visual Details**:<br>1. Core Concept: Getting ready for the journey.<br>2. Metaphor: A neatly organized toolbox with essential tools (VS icon, Git logo, Test tube).<br>3. Action: A hand picking up a tool.<br>4. Layout: Top-down view or isometric, clean and organized. | ### 2) å–ã‚Šå‡ºã—ã™ãæ³¨æ„âš ï¸ |
| 2 | docs/clean_cs_study_004.md | clean_cs_study_004_gateway_metaphor.png | ./picture/clean_cs_study_004_gateway_metaphor.png | **Theme**: The Boundary Gateway\n\n**Labels to Render**:\n- Changes: "å¤‰ã‚ã‚Šã‚„ã™ã„"\n- Core: "å¤‰ãˆãŸããªã„"\n- Boundary: "å¢ƒç•Œ"\n\n**Visual Details**:\n1. Core Concept: Separation of volatile elements from stable core.\n2. Metaphor: A sturdy, modern gate or wall separating a stormy, chaotic side (representing UI/DB changes) from a calm, orderly garden (representing Core/Rules).\n3. Action: The gate stands firm, protecting the garden.\n4. Layout: Split composition, chaotic left, calm right. | ## 1) å¢ƒç•Œã£ã¦ãªã«ï¼Ÿã„ã¡ã°ã‚“ã‚«ãƒ³ã‚¿ãƒ³ãªèª¬æ˜ğŸ©ğŸšª |
| 3 | docs/clean_cs_study_004.md | clean_cs_study_004_tangled_mess.png | ./picture/clean_cs_study_004_tangled_mess.png | **Theme**: Spaghetti Code Chaos\n\n**Labels to Render**:\n- UI Logic: "UIãƒ­ã‚¸ãƒƒã‚¯"\n- DB Logic: "DBå‡¦ç†"\n- Business Logic: "æ¥­å‹™ãƒ«ãƒ¼ãƒ«"\n- Chaos: "ã”ã¡ã‚ƒæ··ãœ"\n\n**Visual Details**:\n1. Core Concept: Lack of separation leads to entanglement.\n2. Metaphor: A tangled knot of wires or yarn balls of different colors (representing UI, DB, Logic) all mixed up.\n3. Action: Sparks or confusion marks around the knot.\n4. Layout: Centralized, chaotic knot. | ## 2) å¢ƒç•ŒãŒãªã„ã¨ä½•ãŒã¤ã‚‰ã„ã®ï¼ŸğŸ˜µâ€ğŸ’«ğŸ’¥ï¼ˆã‚ã‚‹ã‚ã‚‹ï¼‰ |
| 4 | docs/clean_cs_study_004.md | clean_cs_study_004_data_filter.png | ./picture/clean_cs_study_004_data_filter.png | **Theme**: Data Crossing the Boundary\n\n**Labels to Render**:\n- Simple Data: "å˜ç´”ãªãƒ‡ãƒ¼ã‚¿"\n- Heavy Object: "é‡ã„ä¾å­˜"\n- Boundary: "å¢ƒç•Œ"\n- Pass: "é€šéOK"\n- Stop: "é€šéNG"\n\n**Visual Details**:\n1. Core Concept: Filtering what crosses the boundary.\n2. Metaphor: A security scanner or gate. Small, neat boxes (Simple Data) pass through easily. Large, complex machinery or heavy rocks (Heavy Objects like DB/HTTP) are stopped.\n3. Action: Green light for boxes, red stop sign for machinery.\n4. Layout: Flow from left to right through a gate. | ### ãƒ«ãƒ¼ãƒ«Aï¼šå¢ƒç•Œã‚’ã¾ãŸãã®ã¯ã€Œãƒ‡ãƒ¼ã‚¿ã€ä¸­å¿ƒğŸ“¦ |
| 5 | docs/clean_cs_study_004.md | clean_cs_study_004_three_gates.png | ./picture/clean_cs_study_004_three_gates.png | **Theme**: Three Types of Boundaries\n\n**Labels to Render**:\n- Core: "ä¸­å¿ƒ"\n- API: "APIå¢ƒç•Œ"\n- DB: "DBå¢ƒç•Œ"\n- External: "å¤–éƒ¨APIå¢ƒç•Œ"\n\n**Visual Details**:\n1. Core Concept: Different interfaces for different external concerns.\n2. Metaphor: A central fortress or hub (Core) with three distinct gates or ports facing outwards.\n3. Action: Connectors plugging into the ports.\n4. Layout: Central hub with 3 radiating connections (Top, Bottom-Left, Bottom-Right). | ## 4) å¢ƒç•Œã«ã¯â€œç¨®é¡â€ãŒã‚ã‚‹ã‚ˆğŸ§°âœ¨ï¼ˆã¾ãšã¯3ã¤è¦šãˆã‚ˆï¼‰ |
| 6 | docs/clean_cs_study_004.md | clean_cs_study_004_input_output_windows.png | ./picture/clean_cs_study_004_input_output_windows.png | **Theme**: Input and Output Boundaries\n\n**Labels to Render**:\n- Input Boundary: "å…¥åŠ›å¢ƒç•Œ"\n- Output Boundary: "å‡ºåŠ›å¢ƒç•Œ"\n- Use Case: "ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹"\n- Request: "ä¾é ¼"\n- Result: "çµæœ"\n\n**Visual Details**:\n1. Core Concept: Direction of data flow into and out of the use case.\n2. Metaphor: A service counter or ticket booth. One window labeled "Input" where a request is handed in. Another window labeled "Output" where a result is handed out.\n3. Action: Hand passing paper in, hand receiving package out.\n4. Layout: Side view of a counter with two windows. | ## 5) â€œå…¥åŠ›å¢ƒç•Œ/å‡ºåŠ›å¢ƒç•Œâ€ã£ã¦ä½•ï¼Ÿï¼ˆè¶…ã‚„ã•ã—ãï¼‰ğŸ”Œâ¬…ï¸â¡ï¸ |
| 7 | docs/clean_cs_study_004.md | clean_cs_study_004_ripple_protection.png | ./picture/clean_cs_study_004_ripple_protection.png | **Theme**: Boundary as Ripple Protection\n\n**Labels to Render**:\n- Change: "å¤‰æ›´ã®æ³¢"\n- Boundary: "é˜²æ³¢å ¤"\n- Protected Area: "å®ˆã‚‰ã‚ŒãŸé ˜åŸŸ"\n- Safe: "å®‰å…¨"\n\n**Visual Details**:\n1. Core Concept: Stopping the propagation of changes.\n2. Metaphor: A breakwater or sea wall protecting a calm harbor.\n3. Action: Large waves crashing against the wall on the outside, while the water inside remains perfectly still.\n4. Layout: Split composition, stormy sea vs calm harbor separated by a wall. | ### è³ªå•â‘¡ï¼šãã‚ŒãŒå¤‰ã‚ã£ãŸã‚‰ã€ã©ã“ã¾ã§æ³¢åŠã—ã¦ã»ã—ã„ï¼ŸğŸŒŠ |
| 8 | docs/clean_cs_study_005.md | clean_cs_study_005_restaurant_metaphor.png | ./picture/clean_cs_study_005_restaurant_metaphor.png | **Theme**: The Restaurant Metaphor\n\n**Labels to Render**:\n- Use Case: "ã‚·ã‚§ãƒ• (UseCase)"\n- Controller: "åº—å“¡ (Controller)"\n- Presenter: "ç››ã‚Šä»˜ã‘ (Presenter)"\n- Input Port: "æ³¨æ–‡å£"\n- Output Port: "é…è†³å£"\n\n**Visual Details**:\n1. Core Concept: Roles in Ports & Adapters.\n2. Metaphor: A kitchen scene.\n   - Chef (UseCase) cooking diligently in the center.\n   - Waiter (Controller) taking an order and passing a slip to the Chef via a window (Input Port).\n   - Plating Staff (Presenter) receiving the dish from another window (Output Port) and arranging it beautifully on a plate.\n3. Action: Flow from Waiter -> Chef -> Plater.\n4. Layout: Side view of a kitchen with windows. | ### ãŸã¨ãˆè©±ğŸ³âœ¨ |
| 9 | docs/clean_cs_study_005.md | clean_cs_study_005_hexagonal_plugs.png | ./picture/clean_cs_study_005_hexagonal_plugs.png | **Theme**: Hexagonal Architecture Plugs\n\n**Labels to Render**:\n- Core: "ä¸­å¿ƒ (Core)"\n- Port: "ãƒãƒ¼ãƒˆ (Port)"\n- Adapter: "ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼"\n- UI: "ç”»é¢"\n- DB: "DB"\n\n**Visual Details**:\n1. Core Concept: Pluggable architecture.\n2. Metaphor: A central hexagonal unit (Core) with specific socket shapes (Ports) on its sides.\n3. Action: Different external modules (UI, DB, API) have matching plugs (Adapters) connecting into the sockets.\n4. Layout: Isometric view of a hexagon with plugs connecting. | ## 5.1 Ports & Adapters ã£ã¦çµå±€ãªã«ï¼ŸğŸ§©ğŸ”Œ |
| 10 | docs/clean_cs_study_005.md | clean_cs_study_005_port_adapter_closeup.png | ./picture/clean_cs_study_005_port_adapter_closeup.png | **Theme**: Port and Adapter Connection\n\n**Labels to Render**:\n- Port (Interface): "ãƒãƒ¼ãƒˆ (I/F)"\n- Adapter (Implementation): "ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ (å®Ÿè£…)"\n- Dependency: "ä¾å­˜ã®å‘ã"\n\n**Visual Details**:\n1. Core Concept: Interface vs Implementation dependency.\n2. Metaphor: A close-up of a wall socket (Port/Interface) and a plug (Adapter/Implementation) about to connect.\n3. Action: An arrow showing the dependency points from the Plug TO the Socket.\n4. Layout: Zoomed in side view. | ## 5.3 ç™»å ´äººç‰©ã¾ã¨ã‚ï¼ˆæœ€çŸ­ã§è¿·å­ã‚’é˜²ãï¼‰ğŸ§­ğŸ’¡ |
| 11 | docs/clean_cs_study_005.md | clean_cs_study_005_fat_vs_thin_controller.png | ./picture/clean_cs_study_005_fat_vs_thin_controller.png | **Theme**: Fat vs Thin Controller\n\n**Labels to Render**:\n- Fat Controller: "å¤ªã£ãŸController"\n- Thin Controller: "è–„ã„Controller"\n- Logic: "ãƒ­ã‚¸ãƒƒã‚¯"\n- DB: "DBå‡¦ç†"\n- Clean: "å¤‰æ›ã ã‘"\n\n**Visual Details**:\n1. Core Concept: Controller responsibility.\n2. Metaphor:\n   - Left: A bloated, sweating character (Fat Controller) carrying too many heavy boxes labeled "Logic", "DB", "Validation".\n   - Right: A fit, agile character (Thin Controller) just passing a single light envelope (Request) to the next person.\n3. Action: Comparison side-by-side.\n4. Layout: Split view. | ## 5.6 â€œè–„ã„Controllerâ€ãŒæ­£ç¾©ãªç†ç”±ğŸª¶ğŸ’– |
| 12 | docs/clean_cs_study_005.md | clean_cs_study_005_dto_contamination.png | ./picture/clean_cs_study_005_dto_contamination.png | **Theme**: DTO Contamination Warning\n\n**Labels to Render**:\n- App Request: "ã‚¢ãƒ—ãƒªã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ"\n- HTTP DTO: "HTTPã®DTO"\n- Mix: "æ··ãœã‚‹ãªå±é™º"\n- Pure: "ç´”ç²‹"\n\n**Visual Details**:\n1. Core Concept: Keeping Application Models separate from Infrastructure Models.\n2. Metaphor: Two distinct liquids.\n   - Left: A blue liquid (App Request) and a red liquid (HTTP DTO) being kept in separate beakers.\n   - Right (Crossed out): Pouring them together into a purple mess.\n3. Action: A warning sign over the mixed beaker.\n4. Layout: Comparison or Warning style. | ### ã¤ã¾ãšãâ‘¡ï¼šRequest/Response ãŒ HTTP DTO ã¨æ··ã–ã‚‹ğŸ±ğŸ’¥ |
| 13 | docs/clean_cs_study_006.md | clean_cs_study_006_reference_shield.png | ./picture/clean_cs_study_006_reference_shield.png | **Theme**: Project Reference Shield\n\n**Labels to Render**:\n- Structure: "æ§‹é€ "\n- Protect: "å®ˆã‚‹"\n- No Entry: "å‚ç…§ä¸å¯"\n- Domain: "ãƒ‰ãƒ¡ã‚¤ãƒ³"\n\n**Visual Details**:\n1. Core Concept: Project references prevent bad dependencies.\n2. Metaphor: A sturdy shield or barrier labeled "Project Reference" protecting a glowing gem (Domain).\n3. Action: Dirty mud or arrows (representing bad dependencies) bouncing off the shield.\n4. Layout: Protective barrier style. | ## 6-1. ãªã‚“ã§ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ†å‰²ã€ãŒãã‚“ãªã«å¤§äº‹ãªã®ï¼ŸğŸ¤”ğŸ”§ |
| 14 | docs/clean_cs_study_006.md | clean_cs_study_006_dependency_arrows.png | ./picture/clean_cs_study_006_dependency_arrows.png | **Theme**: Dependency Direction Arrows\n\n**Labels to Render**:\n- WebApi: "Web"\n- Infra: "è©³ç´° (Infra)"\n- App: "ã‚¢ãƒ—ãƒª (App)"\n- Domain: "ä¸­å¿ƒ (Domain)"\n- Direction: "ä¾å­˜ã®å‘ã"\n\n**Visual Details**:\n1. Core Concept: All dependencies point inward.\n2. Metaphor: A concentric target or gravity well.\n   - Outer ring: WebApi / Infra.\n   - Middle ring: Application.\n   - Center: Domain.\n3. Action: Large, clear arrows flowing from the outer rings towards the center. No arrows pointing out.\n4. Layout: Concentric circles or layered target. | ## 6-4. å‚ç…§æ–¹å‘ï¼ˆä¾å­˜ã®çŸ¢å°ï¼‰ã‚’â€œæš—è¨˜â€ã—ã‚ˆã†â¡ï¸ğŸ§  |
| 15 | docs/clean_cs_study_006.md | clean_cs_study_006_sorting_bins.png | ./picture/clean_cs_study_006_sorting_bins.png | **Theme**: Sorting Code into Layers\n\n**Labels to Render**:\n- Domain: "ãƒ‰ãƒ¡ã‚¤ãƒ³"\n- Application: "ã‚¢ãƒ—ãƒª"\n- Infrastructure: "ã‚¤ãƒ³ãƒ•ãƒ©"\n- WebApi: "Web"\n\n**Visual Details**:\n1. Core Concept: Categorizing code components.\n2. Metaphor: A sorting station with 4 distinct colored bins/boxes.\n   - Domain Bin: Contains gems (Entities).\n   - App Bin: Contains envelopes (Use Cases).\n   - Infra Bin: Contains tools/databases.\n   - Web Bin: Contains interface screens.\n3. Action: A hand placing an item into the correct bin.\n4. Layout: Isometric view of 4 bins. | ## 6-5. å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã€Œå…¥ã‚Œã¦ã„ã„ã‚‚ã®ï¼ãƒ€ãƒ¡ãªã‚‚ã®ã€ä»•åˆ†ã‘ğŸ±ğŸ§¼ |
| 16 | docs/clean_cs_study_006.md | clean_cs_study_006_building_skeleton.png | ./picture/clean_cs_study_006_building_skeleton.png | **Theme**: Project Structure Skeleton\n\n**Labels to Render**:\n- Skeleton: "éª¨æ ¼"\n- Domain: "ä¸­å¿ƒ"\n- App: "ã‚¢ãƒ—ãƒª"\n- Infra: "åŸºç›¤"\n- Web: "å…¥å£"\n\n**Visual Details**:\n1. Core Concept: Establishing the structural frame first.\n2. Metaphor: The steel skeleton of a building under construction. The 4 main pillars (Domain, App, Infra, Web) are clearly visible and connected correctly.\n3. Action: Construction in progress, solid foundation.\n4. Layout: Architectural or construction view. | ## 6-6. ãƒãƒ³ã‚ºã‚ªãƒ³ï¼šSolutionã‚’ä½œã£ã¦ã€Œå‚ç…§ã ã‘ã€å®Œæˆã•ã›ã‚ˆã†ğŸ› ï¸âœ¨ |
| 17 | docs/clean_cs_study_006.md | clean_cs_study_006_pollution_warning.png | ./picture/clean_cs_study_006_pollution_warning.png | **Theme**: Dependency Pollution Warning\n\n**Labels to Render**:\n- Domain: "ãƒ‰ãƒ¡ã‚¤ãƒ³ (ç´”ç²‹)"\n- EF Core: "EF Core (æ±šæŸ“)"\n- HTTP: "HTTP (æ±šæŸ“)"\n- Stop: "ä¾µå…¥ç¦æ­¢"\n\n**Visual Details**:\n1. Core Concept: Keeping the Domain pure.\n2. Metaphor: A pristine lake (Domain). Toxic green sludge (EF Core) and gray smoke (HTTP) trying to enter.3. Action: A "STOP" sign or barrier preventing the pollution from touching the water.\n4. Layout: Warning or barrier scene. | ## 6-8. â€œã‚ˆãã‚ã‚‹äº‹æ•…â€ ã‚’å…ˆã«æ½°ã—ã¦ãŠãğŸ©ºğŸ’¥ |
| 18 | docs/clean_cs_study_007.md | clean_cs_study_007_heavy_vs_light_theme.png | ./picture/clean_cs_study_007_heavy_vs_light_theme.png | **Theme**: Heavy vs Light Theme\n\n**Labels to Render**:\n- Too Big: "é‡ã™ãã‚‹é¡Œæ"\n- Good Size: "ä¸åº¦ã„ã„é¡Œæ"\n- Learn: "å­¦ã³"\n- Overwhelmed: "æŒ«æŠ˜"\n\n**Visual Details**:\n1. Core Concept: Choosing the right size for a learning project.\n2. Metaphor:\n   - Left: A character being crushed under a giant boulder labeled "Complex App".\n   - Right: A character successfully lifting a dumbbell labeled "Memo App" and smiling.\n3. Action: Comparison of struggle vs success.\n4. Layout: Split view. | ## 1) é¡Œæé¸ã³ã£ã¦ã€ãªã‚“ã§ãã‚“ãªã«å¤§äº‹ï¼ŸğŸ˜³ğŸ’¡ |
| 19 | docs/clean_cs_study_007.md | clean_cs_study_007_theme_checklist.png | ./picture/clean_cs_study_007_theme_checklist.png | **Theme**: Good Theme Checklist\n\n**Labels to Render**:\n- 8-10 Cases: "8-10å€‹"\n- Rules: "ãƒ«ãƒ¼ãƒ«ã‚ã‚Š"\n- No External: "å¤–éƒ¨ãªã—"\n- No Auth: "èªè¨¼ãªã—"\n- Simple UI: "ç”»é¢ã‚·ãƒ³ãƒ—ãƒ«"\n\n**Visual Details**:\n1. Core Concept: Criteria for a good learning theme.\n2. Metaphor: A clipboard or checklist with 5 items checked off in green.\n3. Action: A hand holding a pen, ticking the last box.\n4. Layout: Close-up of a checklist. | ## 2) â€œè‰¯ã„é¡Œæâ€ã®æ¡ä»¶ï¼ˆã“ã‚Œã ã‘å®ˆã‚Œã°å‹ã¦ã‚‹ï¼‰ğŸ†âœ¨ |
| 20 | docs/clean_cs_study_007.md | clean_cs_study_007_scope_bouncer.png | ./picture/clean_cs_study_007_scope_bouncer.png | **Theme**: Scope Bouncer\n\n**Labels to Render**:\n- In Scope: "In Scope (ã‚„ã‚‹)"\n- Out of Scope: "Out of Scope (ã‚„ã‚‰ãªã„)"\n- Auth: "èªè¨¼"\n- Realtime: "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ "\n- Memo CRUD: "ãƒ¡ãƒ¢CRUD"\n\n**Visual Details**:\n1. Core Concept: Strictly defining what to include and exclude.\n2. Metaphor: A bouncer (Security Guard) at a club entrance.\n   - Letting in "Memo CRUD" (Simple character).\n   - Stopping "Auth" and "Realtime" (Flashy/complex characters) at the velvet rope.\n3. Action: Bouncer hand blocking the path.\n4. Layout: Entrance scene. | ### 4-1) ã‚¹ã‚³ãƒ¼ãƒ—å®£è¨€ï¼ˆIn scope / Out of scopeï¼‰ã‚’ä½œã‚‹âœï¸âœ¨ |
| 21 | docs/clean_cs_study_007.md | clean_cs_study_007_walking_skeleton.png | ./picture/clean_cs_study_007_walking_skeleton.png | **Theme**: The Walking Skeleton\n\n**Labels to Render**:\n- Walking Skeleton: "æ­©ãéª¸éª¨"\n- Vertical Slice: "ç¸¦ã«è²«é€š"\n- UI: "UI"\n- Logic: "ãƒ­ã‚¸ãƒƒã‚¯"\n- DB: "DB"\n\n**Visual Details**:\n1. Core Concept: Building a minimal end-to-end feature first.\n2. Metaphor: A cartoon skeleton walking confidently. The bones are labeled UI, Logic, DB, representing the bare minimum structure needed to move.\n3. Action: Walking forward.\n4. Layout: Full body character view. | ## 6) å„ªå…ˆé †ä½ã‚’ä»˜ã‘ã‚‹ï¼ˆå®Œèµ°ã—ã‚„ã™ã„é †ï¼‰ğŸƒâ€â™€ï¸ğŸ’¨ |
| 22 | docs/clean_cs_study_007.md | clean_cs_study_007_domain_dictionary.png | ./picture/clean_cs_study_007_domain_dictionary.png | **Theme**: Domain Dictionary\n\n**Labels to Render**:\n- Dictionary: "ç”¨èªé›†"\n- Memo: "Memo"\n- Title: "Title"\n- Shared Language: "å…±é€šè¨€èª"\n\n**Visual Details**:\n1. Core Concept: Defining terms clearly.\n2. Metaphor: An open book or dictionary with clear definitions. Glowing light coming from the pages.\n3. Action: Words floating out of the book, clearly defined.\n4. Layout: Open book on a desk. | ## 7) ç”¨èªé›†ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ç”¨èªï¼‰ã‚’ä½œã‚‹ğŸ“˜âœ¨ |
| 23 | docs/clean_cs_study_007.md | clean_cs_study_007_sealed_feature_box.png | ./picture/clean_cs_study_007_sealed_feature_box.png | **Theme**: Sealed Out-of-Scope Box\n\n**Labels to Render**:\n- Out of Scope: "Out of Scope"\n- Future: "å°†æ¥ã®æ©Ÿèƒ½"\n- Locked: "å°å°"\n\n**Visual Details**:\n1. Core Concept: Delaying complex features.\n2. Metaphor: A sturdy wooden chest or box wrapped in chains and a padlock.\n3. Action: The box is securely locked, containing "Future Features".\n4. Layout: Isometric view of a locked chest. | ## 10) ãƒŸãƒ‹èª²é¡Œï¼ˆã“ã®ç« ã®å®¿é¡Œï¼‰ğŸ§¸ğŸ“ |
| 24 | docs/clean_cs_study_008.md | clean_cs_study_008_aging_identity.png | ./picture/clean_cs_study_008_aging_identity.png | **Theme**: Identity vs State\n\n**Labels to Render**:\n- Identity: "åŒä¸€æ€§ (ID)"\n- State: "çŠ¶æ…‹ (State)"\n- Time: "æ™‚é–“çµŒé"\n\n**Visual Details**:\n1. Core Concept: Identity persists even as state changes.\n2. Metaphor: A person aging.\n   - Left: A young version of a character holding an ID card.\n   - Right: An older version of the same character holding the exact same ID card.\n3. Action: An arrow showing the transition over time, highlighting that the ID card remains unchanged.\n4. Layout: Before and After style. | ## 1. Entityã£ã¦ãªã«ï¼Ÿã„ã¡ã°ã‚“çŸ­ã„ç­”ãˆ ğŸ’¡ |
| 25 | docs/clean_cs_study_008.md | clean_cs_study_008_open_box_vs_vault.png | ./picture/clean_cs_study_008_open_box_vs_vault.png | **Theme**: Data Box vs Rich Model\n\n**Labels to Render**:\n- Data Box: "ãƒ‡ãƒ¼ã‚¿ç®± (Setter)"\n- Rich Model: "æŒ¯ã‚‹èˆã„ (Method)"\n- Public: "èª°ã§ã‚‚å¤‰æ›´"\n- Private: "ãƒ«ãƒ¼ãƒ«ã§ä¿è­·"\n\n**Visual Details**:\n1. Core Concept: Encapsulation.\n2. Metaphor:\n   - Left: An open cardboard box where anyone is throwing items in randomly (Data Box).\n   - Right: A secure vault or safe where items must be passed through a specific slot or guard (Rich Model).\n3. Action: Chaos vs Order.\n4. Layout: Split view. | ## 2. ã€Œãƒ‡ãƒ¼ã‚¿ç®±Entityã€ã«ãªã‚ŠãŒã¡ãªå±é™ºãƒ‘ã‚¿ãƒ¼ãƒ³ âš ï¸ğŸ˜µâ€ğŸ’« |
| 26 | docs/clean_cs_study_008.md | clean_cs_study_008_memo_blueprint.png | ./picture/clean_cs_study_008_memo_blueprint.png | **Theme**: Memo Entity Blueprint\n\n**Labels to Render**:\n- Entity: "Memo Entity"\n- Identity: "ID: Guid"\n- State: "Title / IsArchived"\n- Behavior: "Rename() / Archive()"\n\n**Visual Details**:\n1. Core Concept: Structure of the Memo Entity.\n2. Metaphor: An architectural blueprint or x-ray of a "Memo" object.\n   - Core: Glowing ID.\n   - Body: Title and IsArchived properties.\n   - Arms/Tools: Rename and Archive methods attached to the body.\n3. Action: Static structural view.\n4. Layout: Blueprint style. | ## 3. ä»Šå›ã®é¡Œæï¼šMemo Entity ğŸ“âœ¨ |
| 27 | docs/clean_cs_study_008.md | clean_cs_study_008_identical_twins.png | ./picture/clean_cs_study_008_identical_twins.png | **Theme**: Entity Equality (Identity)\n\n**Labels to Render**:\n- Same State: "ä¸­èº«ã¯åŒã˜"\n- Different ID: "IDã¯é•ã†"\n- Result: "åˆ¥äºº (Not Equal)"\n\n**Visual Details**:\n1. Core Concept: Identity determines equality, not state.\n2. Metaphor: Identical twins.\n   - Two characters look exactly the same (Same State).\n   - But they have different name tags (ID: A vs ID: B).\n3. Action: An "â‰ " (Not Equal) sign between them.\n4. Layout: Comparison side-by-side. | ## 6. Entityã®â€œç­‰ä¾¡æ€§â€ã£ã¦ã©ã†è€ƒãˆã‚‹ï¼Ÿâš–ï¸âœ¨ |
| 28 | docs/clean_cs_study_008.md | clean_cs_study_008_class_vs_record.png | ./picture/clean_cs_study_008_class_vs_record.png | **Theme**: Class (Entity) vs Record (Value Object)\n\n**Labels to Render**:\n- Entity (Class): "Entity (Class)"\n- VO (Record): "VO (Record)"\n- Identity: "IDé‡è¦–"\n- Value: "å€¤é‡è¦–"\n\n**Visual Details**:\n1. Core Concept: Distinct usage of Class and Record.\n2. Metaphor:\n   - Entity: A unique handcrafted statue (Unique ID).\n   - Record: Two identical coins (Value Equality - if they look same, they are equal value).\n3. Action: Comparison.\n4. Layout: Split view. | ### Q1. record ã§Entityä½œã£ã¡ã‚ƒãƒ€ãƒ¡ï¼Ÿ |
| 29 | docs/clean_cs_study_008.md | clean_cs_study_008_touch_stamp.png | ./picture/clean_cs_study_008_touch_stamp.png | **Theme**: Touch Method\n\n**Labels to Render**:\n- Method: "Touch()"\n- Effect: "UpdatedAt æ›´æ–°"\n- Stamp: "ç¢ºèªæ¸ˆ"\n\n**Visual Details**:\n1. Core Concept: Updating a timestamp via a method.\n2. Metaphor: A hand using a rubber stamp to mark a document with a date.\n3. Action: Stamping "Touched".\n4. Layout: Close-up of stamping action. | ### èª²é¡ŒAï¼šæŒ¯ã‚‹èˆã„ã‚’è¿½åŠ ã—ã‚ˆã† âœï¸ |
| 30 | docs/clean_cs_study_009.md | clean_cs_study_009_string_hell.png | ./picture/clean_cs_study_009_string_hell.png | **Theme**: String Hell vs Value Object Order\n\n**Labels to Render**:\n- String Hell: "Stringåœ°ç„"\n- Confusion: "æ··ä¹±"\n- Value Object: "Value Object"\n- Clear: "æ˜ç¢º"\n\n**Visual Details**:\n1. Core Concept: Using primitive strings for everything leads to confusion.\n2. Metaphor:\n   - Left: A tangled mess of identical gray strings labeled "Email", "Name", "Address" all knotted together.\n   - Right: Neatly stacked, distinct colored blocks labeled "Email", "Name", "Address".\n3. Action: Comparison of chaos vs order.\n4. Layout: Split view. | ### stringåœ°ç„ã®ä¾‹ğŸ§µğŸ”¥ |
| 31 | docs/clean_cs_study_009.md | clean_cs_study_009_vo_three_pillars.png | ./picture/clean_cs_study_009_vo_three_pillars.png | **Theme**: The Three Rules of Value Objects\n\n**Labels to Render**:\n- Name: "åå‰ (Name)"\n- Immutable: "ä¸å¤‰ (Immutable)"\n- Equality: "ç­‰ä¾¡ (Equality)"\n- VO: "VO"\n\n**Visual Details**:\n1. Core Concept: The three essential characteristics of a Value Object.\n2. Metaphor: A stable Greek temple or tripod supported by three strong pillars.\n   - Pillar 1: Meaningful Name.\n   - Pillar 2: Immutability (Ice/Stone).\n   - Pillar 3: Equality (Scale).\n3. Action: Supporting the "VO" roof.\n4. Layout: Structural view. | ## VOã®â€œ3ã¤ã®ãƒ«ãƒ¼ãƒ«â€ğŸŒŸï¼ˆã“ã“è¶…é‡è¦ï¼ï¼‰ |
| 32 | docs/clean_cs_study_009.md | clean_cs_study_009_entity_vs_vo_comparison.png | ./picture/clean_cs_study_009_entity_vs_vo_comparison.png | **Theme**: Entity vs Value Object Comparison\n\n**Labels to Render**:\n- Entity: "Entity (ID)"\n- Unique: "å”¯ä¸€ç„¡äºŒ"\n- VO: "VO (Value)"\n- Interchangeable: "äº¤æ›å¯èƒ½"\n\n**Visual Details**:\n1. Core Concept: Identity vs Value Equality.\n2. Metaphor:\n   - Entity: A unique, handcrafted statue or artwork with a serial number (Identity matters).\n   - VO: A pile of identical gold coins. One coin is as good as another (Value matters).\n3. Action: Highlighting the serial number vs the pile.\n4. Layout: Split view. | ## Entityã¨VOã®é•ã„âš–ï¸ï¼ˆè¿·ã„ãƒã‚¤ãƒ³ãƒˆæ½°ã™ã‚ˆã€œï¼ï¼‰ |
| 33 | docs/clean_cs_study_009.md | clean_cs_study_009_molding_press.png | ./picture/clean_cs_study_009_molding_press.png | **Theme**: Value Object Validation/Normalization\n\n**Labels to Render**:\n- Raw String: "ç”Ÿãƒ‡ãƒ¼ã‚¿ (String)"\n- Logic: "æ¤œè¨¼ãƒ»æ­£è¦åŒ–"\n- Valid VO: "æ­£ã—ã„VO"\n- Error: "ã‚¨ãƒ©ãƒ¼"\n\n**Visual Details**:\n1. Core Concept: The constructor ensures validity and normalization.\n2. Metaphor: A manufacturing press or molding machine.\n   - Input: Messy raw material (String).\n   - Process: The machine (Constructor) trims and shapes it.\n   - Output: A perfect, shiny product (VO).\n   - Rejection: Bad material is ejected as "Error".\n3. Action: Manufacturing process.\n4. Layout: Process flow left to right. | ## 2) Titleï¼šç©ºç¦æ­¢ãƒ»é•·ã•åˆ¶é™ãƒ»trimğŸ“âœ¨ |
| 34 | docs/clean_cs_study_009.md | clean_cs_study_009_equality_scale.png | ./picture/clean_cs_study_009_equality_scale.png | **Theme**: Value Equality Scale\n\n**Labels to Render**:\n- VO A: "VO (A)"\n- VO B: "VO (B)"\n- Equal: "ç­‰ä¾¡ (Equal)"\n\n**Visual Details**:\n1. Core Concept: Two distinct instances with the same value are considered equal.\n2. Metaphor: A balance scale.\n   - Left Pan: Object A (e.g., a blue cube).\n   - Right Pan: Object B (an identical blue cube).\n3. Action: The scale is perfectly balanced.\n4. Layout: Front view of a scale. | ## 4) DateRangeï¼šé–‹å§‹ <= çµ‚äº† ã®ä¸å¤‰æ¡ä»¶ğŸ“…âœ… |
| 35 | docs/clean_cs_study_009.md | clean_cs_study_009_purification_funnel.png | ./picture/clean_cs_study_009_purification_funnel.png | **Theme**: Data Purification Funnel\n\n**Labels to Render**:\n- DTO (String): "å¤– (DTO/String)"\n- Boundary: "å¢ƒç•Œ"\n- VO (Domain): "ä¸­ (VO/Domain)"\n- Pure: "ç´”ç²‹"\n\n**Visual Details**:\n1. Core Concept: Converting external primitive data to internal Value Objects at the boundary.\n2. Metaphor: A funnel or filter system.\n   - Top: Dirty water or mixed gravel (DTOs/Strings) pouring in.\n   - Filter: The boundary layer.\n   - Bottom: Clean, sparkling water or sorted gems (VOs) dripping out into the Domain container.\n3. Action: Filtering/Converting.\n4. Layout: Vertical flow top to bottom. | ## UseCaseã‚„Controllerã«ã©ã†ã¤ãªãï¼ŸğŸ”Œâœ¨ |
| 36 | docs/clean_cs_study_010.md | clean_cs_study_010_two_secure_entrances.png | ./picture/clean_cs_study_010_two_secure_entrances.png | **Theme**: Two Secure Entrances for Invariants\n\n**Labels to Render**:\n- Creation: "ç”Ÿæˆ (Create)"\n- Update: "æ›´æ–° (Update)"\n- Invariant: "ä¸å¤‰æ¡ä»¶"\n- Guard: "ã‚¬ãƒ¼ãƒ‰"\n\n**Visual Details**:\n1. Core Concept: Checking rules at creation and modification.\n2. Metaphor: A secure building with exactly two entrances.\n   - Door 1: "Factory/Constructor". A guard checks ID.\n   - Door 2: "Method Call". A guard checks permissions.\n3. Action: Guards stopping invalid entry.\n4. Layout: Building facade. | ## 2) ã€Œå…¥å£ã§å®ˆã‚‹ã€ã£ã¦ã©ã“ã®ã“ã¨ï¼ŸğŸšªğŸ‘€ |
| 37 | docs/clean_cs_study_010.md | clean_cs_study_010_exception_vs_result.png | ./picture/clean_cs_study_010_exception_vs_result.png | **Theme**: Exception vs Result Pattern\n\n**Labels to Render**:\n- Exception: "ä¾‹å¤– (Exception)"\n- Result: "çµæœ (Result)"\n- Stop: "ç·Šæ€¥åœæ­¢"\n- Report: "å ±å‘Š"\n\n**Visual Details**:\n1. Core Concept: Two ways to handle errors.\n2. Metaphor:\n   - Exception: A referee blowing a loud whistle and stopping the game (Explosion/Halt).\n   - Result: A messenger handing over a sealed envelope marked "Success" or "Failure" (Calm/Controlled).\n3. Action: Comparison of chaos vs control.\n4. Layout: Split view. | ## 4) å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯2ã¤ã‚ã‚‹ã‚ˆâœŒï¸ï¼ˆåˆå¿ƒè€…ã¯AãŒãƒ©ã‚¯âœ¨ï¼‰ |
| 38 | docs/clean_cs_study_010.md | clean_cs_study_010_shape_sorter.png | ./picture/clean_cs_study_010_shape_sorter.png | **Theme**: Value Object Shape Sorter\n\n**Labels to Render**:\n- String: "String"\n- MemoTitle: "MemoTitle"\n- Invalid: "ä¸æ­£ãªå€¤"\n- Blocked: "å…¥ã‚‰ãªã„"\n\n**Visual Details**:\n1. Core Concept: Types prevent invalid data.\n2. Metaphor: A toddler's shape sorter toy.\n   - The hole is shaped like a Star (MemoTitle).\n   - A Square block (Invalid String) tries to enter but physically cannot fit.\n3. Action: Rejection due to shape mismatch.\n4. Layout: Close-up of the toy. | ## 6) ã‚³ãƒ¼ãƒ‰ï¼šValue Object ã§ã€Œã‚¿ã‚¤ãƒˆãƒ«ã®ä¸å¤‰æ¡ä»¶ã€ã‚’å°ã˜è¾¼ã‚ã‚‹ğŸ’ğŸ”’ |
| 39 | docs/clean_cs_study_010.md | clean_cs_study_010_locked_state.png | ./picture/clean_cs_study_010_locked_state.png | **Theme**: State Change Protection\n\n**Labels to Render**:\n- Entity: "Memo"\n- State: "Archived"\n- Action: "Rename()"\n- Blocked: "å¤‰æ›´ä¸å¯"\n\n**Visual Details**:\n1. Core Concept: Current state blocks certain actions.\n2. Metaphor: A treasure chest wrapped in chains (Archived state).\n   - A hand tries to use a key labeled "Rename".\n   - The keyhole is blocked by the chains.\n3. Action: Attempt failed.\n4. Layout: Close-up of the locked chest. | ## 7) ã‚³ãƒ¼ãƒ‰ï¼šEntityï¼ˆMemoï¼‰å´ã§ã‚‚ã€ŒçŠ¶æ…‹å¤‰æ›´ã®å…¥å£ã€ã‚’å®ˆã‚‹ğŸ‘‘ğŸš§ |
| 40 | docs/clean_cs_study_010.md | clean_cs_study_010_validation_layers.png | ./picture/clean_cs_study_010_validation_layers.png | **Theme**: Validation Layers\n\n**Labels to Render**:\n- Outer: "å¤–å´ (å½¢å¼)"\n- Inner: "å†…å´ (æ„å‘³)"\n- Controller: "Controller"\n- Domain: "Domain"\n\n**Visual Details**:\n1. Core Concept: Different layers check different things.\n2. Metaphor: Airport security.\n   - Checkpoint 1 (Outer): Scanning the ticket QR code (Format check).\n   - Checkpoint 2 (Inner): Immigration officer checking the passport validity (Business rule).\n3. Action: Passenger passing through checkpoints.\n4. Layout: Sequential flow. | ## 8) â€œå¤–å´ã®Validationâ€ã¨â€œå†…å´ã®Invariantâ€ã¯å½¹å‰²ãŒé•ã†ã‚ˆğŸ§ ğŸ§¼ |
| 41 | docs/clean_cs_study_010.md | clean_cs_study_010_open_backdoor.png | ./picture/clean_cs_study_010_open_backdoor.png | **Theme**: The Open Backdoor Accident\n\n**Labels to Render**:\n- Front: "æ­£é¢ (Controller)"\n- Back: "è£å£ (Batch/Test)"\n- Domain: "Domain"\n- Guard: "è­¦å‚™å“¡"\n\n**Visual Details**:\n1. Core Concept: Relying only on Controller validation leaves the Domain vulnerable.\n2. Metaphor: A house.\n   - Front door is heavily guarded by a security guard (Controller Validation).\n   - Back door is missing entirely, and a thief (Batch Process) is walking in freely.\n   - The Domain (Valuables) is unprotected inside.\n3. Action: Sneaking in the back.\n4. Layout: House cross-section. | ## 10) ã‚ˆãã‚ã‚‹äº‹æ•…ãƒ‘ã‚¿ãƒ¼ãƒ³é›†ğŸš‘ğŸ’¥ï¼ˆè¶…ã‚ã‚‹ã‚ã‚‹ï¼‰ |
| 42 | docs/clean_cs_study_011.md | clean_cs_study_011_decision_flowchart.png | ./picture/clean_cs_study_011_decision_flowchart.png | **Theme**: Entity vs VO Decision Flowchart<br><br>**Labels to Render**:<br>- Individual?: "å€‹ä½“è­˜åˆ¥ï¼Ÿ"<br>- Same Value = Same?: "ä¸­èº«åŒã˜=åŒã˜ï¼Ÿ"<br>- Replaceable?: "äº¤æ›å¯èƒ½ï¼Ÿ"<br>- Entity: "Entity"<br>- VO: "VO"<br><br>**Visual Details**:<br>1. Core Concept: Flowchart for decision making.<br>2. Metaphor: A clean flowchart path.<br>3. Action: Flowing from top to bottom with Yes/No branches leading to "Entity" or "VO" bins.<br>4. Layout: Vertical flowchart. | ## 2) è¿·ã£ãŸã¨ãã®åˆ¤æ–­ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆğŸ§­ğŸ¤” |
| 43 | docs/clean_cs_study_011.md | clean_cs_study_011_tag_strategies.png | ./picture/clean_cs_study_011_tag_strategies.png | **Theme**: Tag Implementation Strategies<br><br>**Labels to Render**:<br>- Plan A (VO): "Aæ¡ˆ (VO/Simple)"<br>- Plan B (Entity): "Bæ¡ˆ (Entity/Master)"<br>- Shared: "å…±æœ‰"<br>- Independent: "ç‹¬ç«‹"<br><br>**Visual Details**:<br>1. Core Concept: Two ways to model Tags.<br>2. Metaphor:<br>   - Plan A: Simple sticky notes attached directly to a Memo.<br>   - Plan B: A central Tag Library (Master) with strings connecting to multiple Memos.<br>3. Action: Comparison.<br>4. Layout: Split view. | ## 4) ã„ã¡ã°ã‚“è¿·ã†ã‚„ã¤ï¼šTag ã¯ Entityï¼ŸVOï¼ŸğŸ·ï¸ğŸ˜µâ€ğŸ’« |
| 44 | docs/clean_cs_study_011.md | clean_cs_study_011_vo_guard.png | ./picture/clean_cs_study_011_vo_guard.png | **Theme**: Value Object Guard<br><br>**Labels to Render**:<br>- Raw String: "String"<br>- VO Guard: "VOä½œæˆ (Guard)"<br>- Valid: "OK"<br>- Invalid: "Error"<br><br>**Visual Details**:<br>1. Core Concept: Constructor as a gatekeeper.<br>2. Metaphor: A security gate (Constructor).<br>   - Good data (Correct length) passes through and becomes a Gem (VO).<br>   - Bad data (Empty/Too long) is stopped by a shield.<br>3. Action: Filtering process.<br>4. Layout: Left to right flow. | ## 5) C#ã§ VO ã‚’ä½œã‚‹ï¼ˆã„ã¡ã°ã‚“å®Ÿç”¨çš„ãªå½¢ï¼‰ğŸ› ï¸ğŸ’ |
| 45 | docs/clean_cs_study_011.md | clean_cs_study_011_entity_rule_keeper.png | ./picture/clean_cs_study_011_entity_rule_keeper.png | **Theme**: Entity Rule Keeper<br><br>**Labels to Render**:<br>- Entity: "Memo Entity"<br>- Rules: "ãƒ«ãƒ¼ãƒ« (Rename/AddTag)"<br>- State: "State (Tags)"<br>- Protect: "ä¿è­·"<br><br>**Visual Details**:<br>1. Core Concept: Entity managing its own state.<br>2. Metaphor: A King (Entity) holding a Rule Book (Methods) and protecting a Treasure Chest (Internal State/Tags).<br>3. Action: The King stops an external hand from touching the Treasure directly.<br>4. Layout: Character centered action. | ## 6) Entity ã‚’ã€Œä¸»å½¹ã€ã«ã™ã‚‹ï¼ˆãƒ‡ãƒ¼ã‚¿ç®±å’æ¥­ğŸ“âœ¨ï¼‰ğŸªªğŸ‘‘ |
| 46 | docs/clean_cs_study_011.md | clean_cs_study_011_classification_examples.png | ./picture/clean_cs_study_011_classification_examples.png | **Theme**: Entity vs VO Classification Examples<br><br>**Labels to Render**:<br>- VO Bin: "VO (Value)"<br>- Entity Bin: "Entity (Identity)"<br>- Money: "Money"<br>- Email: "Email"<br>- User: "User"<br><br>**Visual Details**:<br>1. Core Concept: Sorting common objects.<br>2. Metaphor: Two baskets labeled VO and Entity.<br>   - Money and Email icons going into VO basket.<br>   - User profile icon going into Entity basket.<br>3. Action: Sorting.<br>4. Layout: Sorting scene. | ## 7) ä»•åˆ†ã‘ç·´ç¿’å•é¡Œï¼ˆã“ã“ã§èº«ä½“ã«å…¥ã‚Œã‚‹ï¼ï¼‰ğŸ‹ï¸â€â™€ï¸âœ¨ |
| 47 | docs/clean_cs_study_011.md | clean_cs_study_011_ai_assistant.png | ./picture/clean_cs_study_011_ai_assistant.png | **Theme**: AI as Design Assistant<br><br>**Labels to Render**:<br>- Developer: "äººé–“ (åˆ¤æ–­)"<br>- AI: "AI (å£æ‰“ã¡)"<br>- Options: "é¸æŠè‚¢ A/B"<br><br>**Visual Details**:<br>1. Core Concept: AI provides options, Human decides.<br>2. Metaphor: A robot (AI) presenting two different blueprints (Option A and B) to a human engineer.<br>3. Action: Human pointing to one blueprint.<br>4. Layout: Interaction scene. | ## 8) AIï¼ˆCopilot / Codexï¼‰ã«æ‰‹ä¼ã‚ã›ã‚‹ã‚„ã‚Šæ–¹ğŸ¤–âœ¨ |
| 48 | docs/clean_cs_study_012.md | clean_cs_study_012_anemic_symptoms.png | ./picture/clean_cs_study_012_anemic_symptoms.png | **Theme**: Anemic Domain Symptoms<br><br>**Labels to Render**:<br>- Anemic Entity: "è²§è¡€Entity"<br>- Getter/Setter: "Get/Set"<br>- Logic Runaway: "ãƒ­ã‚¸ãƒƒã‚¯å®¶å‡ºä¸­"<br>- Service: "Service"<br><br>**Visual Details**:<br>1. Core Concept: Entity losing its logic.<br>2. Metaphor: A pale, shivering character (Entity) holding only an empty bag labeled "Get/Set".<br>3. Action: Vital energy (Logic/Rules) is flying away from the Entity towards a bloated monster labeled "Service".<br>4. Layout: Flow from left (Entity) to right (Service). | ## 1) ã€Œè²§è¡€ãƒ‰ãƒ¡ã‚¤ãƒ³ã€ã£ã¦ãªã«ï¼ŸğŸ©¸ğŸ˜µâ€ğŸ’« |
| 49 | docs/clean_cs_study_012.md | clean_cs_study_012_scattered_logic.png | ./picture/clean_cs_study_012_scattered_logic.png | **Theme**: The Chaos of Scattered Logic<br><br>**Labels to Render**:<br>- Rule: "Titleå¿…é ˆ"<br>- Controller: "Controller"<br>- UseCase: "UseCase"<br>- Service: "Service"<br>- Duplicate: "é‡è¤‡"<br><br>**Visual Details**:<br>1. Core Concept: Duplication of the same rule.<br>2. Metaphor: The same "Title Required" warning sign is plastered everywhere.<br>   - On the Controller wall.<br>   - On the UseCase desk.<br>   - On the Service floor.<br>3. Action: A maintenance worker looking exhausted trying to update all of them.<br>4. Layout: Chaotic scene. | ## 2) ãªã‚“ã§å›°ã‚‹ã®ï¼ŸğŸ˜‡ğŸ’¥ï¼ˆâ€œåœ°å‘³ã«æ­»ã¬â€ãƒã‚¤ãƒ³ãƒˆï¼‰ |
| 50 | docs/clean_cs_study_012.md | clean_cs_study_012_clean_responsibilities.png | ./picture/clean_cs_study_012_clean_responsibilities.png | **Theme**: Correct Responsibility Division<br><br>**Labels to Render**:<br>- Entity: "Entity (å®ˆå‚™)"<br>- UseCase: "UseCase (å¸ä»¤å¡”)"<br>- Adapter: "Adapter (é€šè¨³)"<br>- Outside: "å¤–å´"<br><br>**Visual Details**:<br>1. Core Concept: Team roles.<br>2. Metaphor: Sports team.<br>   - Entity: A strong defender protecting the goal (State).<br>   - UseCase: A captain pointing fingers, giving orders (Orchestration).<br>   - Adapter: A translator talking to the fans/media (External Interface).<br>3. Action: Teamwork.<br>4. Layout: 3 distinct characters. | ## 3) ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­çš„ã€Œæ­£ã—ã„åˆ†æ‹…ã€ğŸ’¡â­• |
| 51 | docs/clean_cs_study_012.md | clean_cs_study_012_rule_placement.png | ./picture/clean_cs_study_012_rule_placement.png | **Theme**: Rule Placement Decision Tree<br><br>**Labels to Render**:<br>- Rule: "Rule"<br>- Meaning?: "æ„å‘³ï¼Ÿ"<br>- Procedure?: "æ‰‹é †ï¼Ÿ"<br>- Cross-Entity?: "è¤‡æ•°ï¼Ÿ"<br>- Entity: "Entity"<br>- UseCase: "UseCase"<br>- DomainService: "DomainService"<br><br>**Visual Details**:<br>1. Core Concept: Sorting rules.<br>2. Metaphor: A mechanical sorting machine.<br>   - Input: A ball labeled "Rule".<br>   - Gate 1: "Is it intrinsic meaning?" -> Yes -> Entity Bin.<br>   - Gate 2: "Is it app procedure?" -> Yes -> UseCase Bin.<br>   - Gate 3: "Is it cross-entity?" -> Yes -> DomainService Bin.<br>3. Action: Sorting ball.<br>4. Layout: Flowchart style. | ## 4) ãƒ«ãƒ¼ãƒ«ã®ç½®ãå ´æ‰€ï¼šè¿·ã‚ãªã„åˆ¤æ–­åŸºæº–âš–ï¸ğŸ§­ |
| 52 | docs/clean_cs_study_012.md | clean_cs_study_012_string_vs_vo.png | ./picture/clean_cs_study_012_string_vs_vo.png | **Theme**: From String to Value Object<br><br>**Labels to Render**:<br>- String: "String"<br>- VO: "Value Object"<br>- Weak: "å¼±ã„"<br>- Strong: "å¼·ã„"<br>- Shield: "ã‚¬ãƒ¼ãƒ‰"<br><br>**Visual Details**:<br>1. Core Concept: Strength of types.<br>2. Metaphor:<br>   - String: A flimsy paper shield that tears easily when hit by an arrow.<br>   - VO: A diamond-encrusted shield that deflects arrows (Invalid Data).<br>3. Action: Comparison of durability.<br>4. Layout: Split view. | ### 5-2) Step1ï¼šValue Objectã§ã€Œã‚¿ã‚¤ãƒˆãƒ«ã€ã‚’å‹ã«ã™ã‚‹ğŸ’ |
| 53 | docs/clean_cs_study_012.md | clean_cs_study_012_method_encapsulation.png | ./picture/clean_cs_study_012_method_encapsulation.png | **Theme**: Encapsulation with Methods<br><br>**Labels to Render**:<br>- Private Setter: "Setter (é–‰)"<br>- Method: "Method (é–‹)"<br>- Valid: "æ­£è¦ã®æ‰‹é †"<br>- Invalid: "ä¸æ­£ãªå¤‰æ›´"<br><br>**Visual Details**:<br>1. Core Concept: Controlling access.<br>2. Metaphor: A safe box.<br>   - The lid (Setter) is welded shut.<br>   - There is a specific coin slot (Method) that accepts only the right coin.<br>   - A crowbar (Invalid Change) tries to pry the lid but fails.<br>3. Action: Secure interaction.<br>4. Layout: Close-up of the safe. | ### 5-3) Step2ï¼šEntityã«â€œçŠ¶æ…‹å¤‰æ›´ãƒ¡ã‚½ãƒƒãƒ‰â€ã‚’ç”Ÿã‚„ã™ğŸŒ¿ğŸªª |
| 54 | docs/clean_cs_study_013.md | clean_cs_study_013_placement_logic.png | ./picture/clean_cs_study_013_placement_logic.png | **Theme**: Placement Logic<br><br>**Labels to Render**:<br>- Logic: "Logic"<br>- Entity: "Entity (1st)"<br>- VO: "VO (2nd)"<br>- DomainService: "DomainService (3rd)"<br>- UseCase: "UseCase (Other)"<br><br>**Visual Details**:<br>1. Core Concept: Filtering funnel for logic placement.<br>2. Metaphor: A funnel system.<br>   - Top Layer: "Entity Check". If yes, falls into Entity bin.<br>   - Second Layer: "VO Check". If yes, falls into VO bin.<br>   - Third Layer: "Domain Service Check". If yes, falls into DS bin.<br>   - Bottom: Everything else falls into UseCase bin.<br>3. Action: A ball dropping through filters.<br>4. Layout: Vertical funnel. | ## 3ç§’ã§ã‚ã‹ã‚‹ï¼ç½®ãå ´æ‰€ã®åˆ¤å®šãƒ•ãƒ­ãƒ¼ğŸ§­âœ¨ |
| 55 | docs/clean_cs_study_013.md | clean_cs_study_013_ds_vs_usecase.png | ./picture/clean_cs_study_013_ds_vs_usecase.png | **Theme**: Domain Service vs UseCase<br><br>**Labels to Render**:<br>- DomainService: "Domain Service"<br>- Pure Logic: "ç´”ç²‹ãƒ­ã‚¸ãƒƒã‚¯"<br>- UseCase: "Use Case"<br>- Coordination: "æ®µå–ã‚Š/IO"<br><br>**Visual Details**:<br>1. Core Concept: Separation of concerns.<br>2. Metaphor:<br>   - Domain Service: A wise scholar in a clean library (Pure Logic, No external noise).<br>   - UseCase: A busy site manager with a phone and blueprints (Coordinating DB, Email, and the Scholar).<br>3. Action: UseCase calling Domain Service for advice.<br>4. Layout: Two distinct environments. | ### â‘£ ã‚‚ã—ã€ŒDBä¿å­˜ã€ã€Œãƒ¡ãƒ¼ãƒ«é€ä¿¡ã€ã€Œå¤–éƒ¨APIã€ã¿ãŸã„ãªâ€œæ®µå–ã‚Šâ€ãªã‚‰ï¼ŸğŸ“¦ |
| 56 | docs/clean_cs_study_013.md | clean_cs_study_013_all_service_mistake.png | ./picture/clean_cs_study_013_all_service_mistake.png | **Theme**: The "All-Service" Mistake<br><br>**Labels to Render**:<br>- God Service: "å·¨å¤§Service"<br>- Anemic Entity: "è²§è¡€Entity"<br>- Logic: "Logic"<br><br>**Visual Details**:<br>1. Core Concept: Service bloating.<br>2. Metaphor: A giant, bloated monster (God Service) eating all the food (Logic).<br>   - Next to it, tiny skeletal figures (Entities) are starving.<br>3. Action: The monster growing bigger.<br>4. Layout: Contrast of size. | ## ã‚ˆãã‚ã‚‹äº‹æ•…ãƒ‘ã‚¿ãƒ¼ãƒ³ğŸ§¨ğŸ˜‡ |
| 57 | docs/clean_cs_study_013.md | clean_cs_study_013_money_transfer.png | ./picture/clean_cs_study_013_money_transfer.png | **Theme**: Money Transfer Domain Service<br><br>**Labels to Render**:<br>- Account A: "Account A"<br>- Account B: "Account B"<br>- Service: "Transfer Service"<br>- Money: "Money"<br><br>**Visual Details**:<br>1. Core Concept: Mediation between two entities.<br>2. Metaphor: A bridge or mediator.<br>   - Account A and Account B are separate islands.<br>   - The Transfer Service is a specialized bridge or drone carrying a Money bag from A to B.<br>3. Action: Moving money safely.<br>4. Layout: Connection between two points. | ## ãƒãƒ³ã‚ºã‚ªãƒ³ğŸ®ï¼šDomain ServiceãŒå¿…è¦ã«ãªã‚‹å…¸å‹ä¾‹ã€Œé€é‡‘ã€ğŸ’¸ğŸ¦ |
| 58 | docs/clean_cs_study_013.md | clean_cs_study_013_placement_quiz.png | ./picture/clean_cs_study_013_placement_quiz.png | **Theme**: Placement Quiz<br><br>**Labels to Render**:<br>- Email: "Emailé€ä¿¡"<br>- Currency: "é€šè²¨ãƒã‚§ãƒƒã‚¯"<br>- Transfer: "é€é‡‘"<br>- Search: "æ¤œç´¢"<br>- Bins: "UC / VO / DS"<br><br>**Visual Details**:<br>1. Core Concept: Categorizing tasks.<br>2. Metaphor: A sorting game.<br>   - Items: Envelope (Email), Coin (Currency), Arrows (Transfer), Magnifying Glass (Search).<br>   - Bins: UseCase, VO, Domain Service.<br>3. Action: Items floating towards correct bins.<br>4. Layout: Gamified sorting view. | ### èª²é¡Œ1ï¼šç½®ãå ´æ‰€ã‚¯ã‚¤ã‚ºğŸ§ ğŸ¯ |
| 59 | docs/clean_cs_study_014.md | clean_cs_study_014_failure_is_spec.png | ./picture/clean_cs_study_014_failure_is_spec.png | **Theme**: Failure is Not a Bug<br><br>**Labels to Render**:<br>- Empty Title: "ã‚¿ã‚¤ãƒˆãƒ«ç©º"<br>- Specification: "ä»•æ§˜ (No!)"<br>- DB Crash: "DBåœæ­¢"<br>- System Error: "éšœå®³ (Crash)"<br><br>**Visual Details**:<br>1. Core Concept: Distinguishing Business Logic failure vs System failure.<br>2. Metaphor:<br>   - Business Logic Failure: A polite concierge holding a sign saying \"No Empty Titles\" (Controlled, Expected).<br>   - System Failure: A server rack exploding with smoke and sparks (Uncontrolled, Unexpected).<br>3. Action: Contrast side-by-side.<br>4. Layout: Split view. | ## 1) ã¾ãšå¤§å‰æï¼šã€Œå¤±æ•—ã€ã¯ãƒã‚°ã˜ã‚ƒãªãã¦ä»•æ§˜ã‹ã‚‚ğŸ˜³ğŸ§© |
| 60 | docs/clean_cs_study_014.md | clean_cs_study_014_exception_vs_result.png | ./picture/clean_cs_study_014_exception_vs_result.png | **Theme**: Exception vs Result<br><br>**Labels to Render**:<br>- Result: "Result (æ‰‹ç´™)"<br>- Exception: "Exception (äº‹æ•…)"<br>- Expected: "æƒ³å®šå†…"<br>- Panic: "æƒ³å®šå¤–"<br><br>**Visual Details**:<br>1. Core Concept: Control flow strategies.<br>2. Metaphor:<br>   - Result: A mail carrier calmly delivering a \"Return to Sender\" envelope (Orderly).<br>   - Exception: A mail truck crashing into a wall and burning (Chaos).<br>3. Action: Delivery vs Crash.<br>4. Layout: Comparison. | ## 2) ã€Œä¾‹å¤–ã€ã£ã¦ã„ã¤ä½¿ã†ã®ï¼ŸğŸ¤”ğŸ’¥ï¼ˆè¶…ã ã„ã˜ï¼‰ |
| 61 | docs/clean_cs_study_014.md | clean_cs_study_014_vo_guard.png | ./picture/clean_cs_study_014_vo_guard.png | **Theme**: Value Object Guard<br><br>**Labels to Render**:<br>- Input: "Input Data"<br>- Guard: "Constructor"<br>- Too Long: "Too Long"<br>- Rejection: "Result.Fail"<br>- Gem: "VO"<br><br>**Visual Details**:<br>1. Core Concept: VO Constructor as a filter.<br>2. Metaphor: A castle gatekeeper.<br>   - A long snake (Too Long String) tries to enter but is handed a rejection slip.<br>   - A perfect diamond (Valid Data) is allowed in.<br>3. Action: Gatekeeper handing out a slip.<br>4. Layout: Gate entrance scene. | ## 4) Value Objectã§ã€Œå¤±æ•—ï¼ä»•æ§˜ã€ã‚’é–‰ã˜è¾¼ã‚ã‚‹ğŸ’ğŸ”’ |
| 62 | docs/clean_cs_study_014.md | clean_cs_study_014_entity_logic_error.png | ./picture/clean_cs_study_014_entity_logic_error.png | **Theme**: Entity Logic Error<br><br>**Labels to Render**:<br>- Entity: "Memo (Archived)"<br>- Action: "Rename()"<br>- Bounce: "å¤‰æ›´ä¸å¯"<br>- Result: "Result.Fail"<br><br>**Visual Details**:<br>1. Core Concept: State preventing action.<br>2. Metaphor: An Entity turned to stone (Archived).<br>   - A hammer labeled \"Rename\" hits the stone but bounces off with a spark.<br>   - A scroll pops up saying \"Cannot Rename\".<br>3. Action: Bouncing off.<br>4. Layout: Close-up action. | ## 5) Entityå´ã®å¤±æ•—ã‚‚ã€Œä»•æ§˜ã€ã¨ã—ã¦è¡¨ç¾ã™ã‚‹ğŸ‘‘âš™ï¸ |
| 63 | docs/clean_cs_study_014.md | clean_cs_study_014_usecase_flow.png | ./picture/clean_cs_study_014_usecase_flow.png | **Theme**: UseCase Error Handling Flow<br><br>**Labels to Render**:<br>- Input: "Input"<br>- Check: "VO Check"<br>- Fail Path: "Error Return"<br>- Success Path: "DB Save"<br>- Flow: "ã‚¹ãƒ ãƒ¼ã‚º"<br><br>**Visual Details**:<br>1. Core Concept: Linear flow with early return.<br>2. Metaphor: A pipeline with a divert valve.<br>   - Bad water (Invalid Input) is diverted early to a side pipe (Error Return).<br>   - Good water continues to the main tank (DB Save).<br>   - No explosions or leaks.<br>3. Action: Fluid flowing.<br>4. Layout: Pipeline diagram. | ## 6) UseCaseã§ã®ã€Œæµã—æ–¹ã€ğŸŒŠâ¡ï¸ï¼ˆä¾‹å¤–ã‚’å†…å´ã«æŒã¡è¾¼ã¾ãªã„ï¼‰ |
| 64 | docs/clean_cs_study_014.md | clean_cs_study_014_error_translation.png | ./picture/clean_cs_study_014_error_translation.png | **Theme**: Domain Error to User Error<br><br>**Labels to Render**:<br>- Code: "memo.title.empty"<br>- Translator: "Presenter"<br>- Message: "ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥ã‚Œã¦ã­"<br>- User: "User"<br><br>**Visual Details**:<br>1. Core Concept: Translating technical codes to user-friendly messages.<br>2. Metaphor: A translation booth.<br>   - Input: A card with a barcode/code \"memo.title.empty\".<br>   - Translator: A person looking up a dictionary.<br>   - Output: A speech bubble with polite text \"Please enter a title\".<br>3. Action: Translating.<br>4. Layout: Process flow. | ## 7) å¤–å´ï¼ˆPresenter/Controllerï¼‰ã§ â€œãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä¼ã‚ã‚‹å½¢â€ ã«å¤‰æ›ã™ã‚‹ğŸ¤ğŸª„ |
| 65 | docs/clean_cs_study_015.md | clean_cs_study_015_core_shield.png | ./picture/clean_cs_study_015_core_shield.png | **Theme**: The Core Shield<br><br>**Labels to Render**:<br>- Core: "Entities (Pure)"<br>- Shield: "No Dependency"<br>- Outside: "DB / Web"<br>- Attack: "Changes"<br><br>**Visual Details**:<br>1. Core Concept: Protection from External Changes.<br>2. Metaphor: A core crystal (Entities) protected by a force field.<br>   - Outside, storms are raging (DB changing from SQL to Mongo, Web Framework changing).<br>   - But the crystal remains calm and untouched.<br>3. Action: Storm bouncing off shield.<br>4. Layout: Center protection. | ## 1) ãªã‚“ã§â€œéä¾å­˜â€ãŒãã‚“ãªã«å¤§äº‹ãªã®ï¼ŸğŸ¤”ğŸ’­ |
| 66 | docs/clean_cs_study_015.md | clean_cs_study_015_pollution_warning.png | ./picture/clean_cs_study_015_pollution_warning.png | **Theme**: Pollution Warning<br><br>**Labels to Render**:<br>- Entity: "Entity"<br>- Graffiti: "[Key] / [JsonProp]"<br>- Sticker: "HttpContext"<br>- Messy: "æ±šæŸ“"<br><br>**Visual Details**:<br>1. Core Concept: Contaminated Entity.<br>2. Metaphor: An Entity that looks like a billboard, covered in stickers/graffiti: \"[Key]\", \"[JsonProperty]\", \"HttpContext\".<br>   - It looks messy and heavy.<br>3. Action: Visual chaos.<br>4. Layout: Close-up of dirty object. | ## 2) ã‚„ã£ã¡ã‚ƒãƒ€ãƒ¡ï¼EntitiesãŒæ±šã‚Œã‚‹å…¸å‹ãƒ‘ã‚¿ãƒ¼ãƒ³ğŸ§¯ğŸ’¥ |
| 67 | docs/clean_cs_study_015.md | clean_cs_study_015_pure_entity.png | ./picture/clean_cs_study_015_pure_entity.png | **Theme**: Pure Entity<br><br>**Labels to Render**:<br>- Entity: "Pure Entity"<br>- Rule Book: "Invariant"<br>- Pedestal: "Pure C#"<br>- Clean: "æ¸…æ½”"<br><br>**Visual Details**:<br>1. Core Concept: A clean, glowing Entity object.<br>2. Metaphor: No stickers. It holds a \"Rule Book\" (Invariants) and stands on a pedestal of \"Pure C#\".<br>3. Action: Glowing cleanly.<br>4. Layout: Hero shot. | ### âœ… ä¾‹ï¼šãƒ”ãƒ¥ã‚¢ãªEntityï¼ˆMemoï¼‰âœï¸âœ¨ |
| 68 | docs/clean_cs_study_015.md | clean_cs_study_015_persistence_mapping.png | ./picture/clean_cs_study_015_persistence_mapping.png | **Theme**: Persistence Mapping<br><br>**Labels to Render**:<br>- Domain: "Entity (Pure)"<br>- DB: "DB Record (Table)"<br>- Mapper: "Mapper"<br>- Action: "Convert"<br><br>**Visual Details**:<br>1. Core Concept: The Mapper Bridge.<br>2. Metaphor: A Translator/Mapper working at the border.<br>   - Left: Pure Entity (Clean).<br>   - Right: DB Record (Has ID, ForeignKeys, etc).<br>   - Action: The Mapper converting one to the other.<br>3. Action: Conversion process.<br>4. Layout: Left to Right flow. | ## 4) ã˜ã‚ƒã‚DBä¿å­˜ã¯ã©ã†ã™ã‚‹ã®ï¼Ÿâ¡ï¸ã€Œå¤–å´ã§ãƒãƒƒãƒ”ãƒ³ã‚°ã€ã™ã‚‹ğŸ—„ï¸ğŸ” |
| 69 | docs/clean_cs_study_015.md | clean_cs_study_015_dependency_direction.png | ./picture/clean_cs_study_015_dependency_direction.png | **Theme**: Dependency Direction<br><br>**Labels to Render**:<br>- Web: "Web"<br>- DB: "DB"<br>- Domain: "Domain"<br>- Arrow: "ä¾å­˜ã®å‘ã"<br><br>**Visual Details**:<br>1. Core Concept: One-Way Dependency.<br>2. Metaphor: Arrows showing dependency.<br>   - Web -> Domain<br>   - DB -> Domain<br>   - Domain -> (Nothing/Pure)<br>   - Visualizing the \"Inner Circle\" rule.<br>3. Action: Arrows pointing inward.<br>4. Layout: Concentric or target view. | ## 5) ã™ãã§ãã‚‹ï¼ãƒŸãƒ‹èª²é¡Œï¼ˆChapter 15ï¼‰ğŸ®ğŸ’ª |
| 70 | docs/clean_cs_study_016.md | clean_cs_study_016_dod_checklist.png | ./picture/clean_cs_study_016_dod_checklist.png | **Theme**: Entities Layer DoD Checklist<br><br>**Labels to Render**:<br>- Pure: "Pure Dependency"<br>- Strong: "Strong Model"<br>- Behavior: "Behavior Driven"<br>- Test: "Testable"<br>- Passed: "åˆæ ¼ (Done)"<br><br>**Visual Details**:<br>1. Core Concept: Quality criteria for Entities.<br>2. Metaphor: A clipboard with 4 big checkboxes: Pure Dependency, Strong Model, Behavior Driven, Testable. All checked with a green marker.<br>3. Action: Checking off items.<br>4. Layout: List view. | ## 16.2 Entitieså±¤ã€Œå®Œæˆã€ã®Definition of Doneâœ…ğŸ“ï¼ˆã“ã‚Œå…¨éƒ¨YESãªã‚‰åˆæ ¼ï¼ï¼‰ |
| 71 | docs/clean_cs_study_016.md | clean_cs_study_016_zero_dependency.png | ./picture/clean_cs_study_016_zero_dependency.png | **Theme**: Zero Dependency Scanner<br><br>**Labels to Render**:<br>- Scanner: "Dependency Scanner"<br>- Entity: "Entities Box"<br>- EF Core: "EF Core"<br>- HTTP: "HTTP"<br>- Safe: "All Clear"<br><br>**Visual Details**:<br>1. Core Concept: Automated check for dependencies.<br>2. Metaphor: A scanner (magnifying glass) scanning the \"Entities\" box.<br>   - It beeps RED when it finds \"EntityFrameworkCore\" or \"HttpClient\".<br>   - It glows GREEN when it sees only \"System\" and \"Collections\".<br>3. Action: Scanning.<br>4. Layout: Inspection scene. | ## 16.3 ä¾å­˜ã‚¼ãƒ­ãƒã‚§ãƒƒã‚¯ğŸ”âœ¨ï¼ˆ3åˆ†ã§ã§ãã‚‹ã‚„ã¤ï¼‰ |
| 72 | docs/clean_cs_study_016.md | clean_cs_study_016_anemic_vs_rich.png | ./picture/clean_cs_study_016_anemic_vs_rich.png | **Theme**: Anemic vs Rich Model<br><br>**Labels to Render**:<br>- Anemic: "è²§è¡€ (Data Box)"<br>- Rich: "ãƒªãƒƒãƒ (Actor)"<br>- Rules: "ãƒ«ãƒ¼ãƒ« (Script)"<br>- Public Set: "Public Set"<br><br>**Visual Details**:<br>1. Core Concept: Passive vs Active Entity.<br>2. Metaphor:<br>   - Left: A cardboard box (Data Box) labeled \"Public Setters\" with contents spilling out.<br>   - Right: A stage actor (Rich Behavior) performing an action (\"Rename\"), holding a script (Rules).<br>3. Action: Comparison.<br>4. Layout: Split view. | ## 16.4 â€œãƒ‡ãƒ¼ã‚¿ç®±â€ã«ãªã£ã¦ãªã„ï¼ŸğŸ“¦â¡ï¸ğŸ­ï¼ˆã‚ˆãã‚ã‚‹å´©ã‚Œæ–¹ï¼‰ |
| 73 | docs/clean_cs_study_016.md | clean_cs_study_016_invariant_guards.png | ./picture/clean_cs_study_016_invariant_guards.png | **Theme**: The Three Guards of Invariants<br><br>**Labels to Render**:<br>- Gate 1: "Constructor"<br>- Gate 2: "Method"<br>- Gate 3: "Factory"<br>- Guard: "Guard"<br><br>**Visual Details**:<br>1. Core Concept: Protecting state at all entry points.<br>2. Metaphor: A castle with 3 guarded gates.<br>   - Gate 1: \"Constructor\" (Creation).<br>   - Gate 2: \"Method\" (Update).<br>   - Gate 3: \"Factory\" (Complex Creation).<br>   - Guards stop invalid data from entering.<br>3. Action: Guarding.<br>4. Layout: Castle view. | ## 16.5 ä¸å¤‰æ¡ä»¶ã¯â€œå…¥å£ã§å¿…ãšâ€å®ˆã‚‹ğŸš§ğŸ’ï¼ˆ3ã¤ã®å…¥å£ã ã‘è¦šãˆã‚ˆï¼‰ |
| 74 | docs/clean_cs_study_016.md | clean_cs_study_016_minimal_domain.png | ./picture/clean_cs_study_016_minimal_domain.png | **Theme**: Minimal Pure Domain<br><br>**Labels to Render**:<br>- Sphere: "Pure Domain"<br>- Memo: "Memo"<br>- Title: "Title"<br>- Tag: "Tag"<br>- Outside: "No Connection"<br><br>**Visual Details**:<br>1. Core Concept: Self-contained domain model.<br>2. Metaphor: A tiny, self-contained ecosystem inside a glass sphere.<br>   - It contains \"Memo\", \"Title\", \"TagName\" interacting perfectly without any wires connecting to the outside world (DB/Web).<br>3. Action: Floating in void.<br>4. Layout: Sphere concept. | ## 16.6 Entitiesã ã‘ã§å‹•ãâ€œè¶…ãƒŸãƒ‹â€å®Ÿè£…ä¾‹ğŸ§ªâœ¨ï¼ˆãƒ¡ãƒ¢é¡Œæï¼‰ |
| 75 | docs/clean_cs_study_016.md | clean_cs_study_016_pure_testing.png | ./picture/clean_cs_study_016_pure_testing.png | **Theme**: Fast & Pure Testing<br><br>**Labels to Render**:<br>- Car: "Unit Test"<br>- Track: "Pure Logic Track"<br>- Speed: "0.01s"<br>- Obstacles: "No DB / No I/O"<br><br>**Visual Details**:<br>1. Core Concept: Speed of pure tests.<br>2. Metaphor: A race car (Unit Test) speeding on a track.<br>   - The track is smooth and clean (No IO/DB obstacles).<br>   - The lap time is \"0.01s\".<br>3. Action: Racing.<br>4. Layout: Track view. | ## 16.7 Entitiesã ã‘ã®ãƒ†ã‚¹ãƒˆâœ…ğŸ§ªï¼ˆé€Ÿãã¦æ°—æŒã¡ã„ã„ã‚„ã¤ğŸ°ï¼‰ |
| 76 | docs/clean_cs_study_017.md | clean_cs_study_017_recipe_vs_ingredient.png | ./picture/clean_cs_study_017_recipe_vs_ingredient.png | **Theme**: Recipe vs Ingredient<br><br>**Labels to Render**:<br>- Entity: "Entity (Ingredient)"<br>- UseCase: "UseCase (Recipe)"<br>- Chef: "Chef"<br>- Dish: "Dish (Result)"<br><br>**Visual Details**:<br>1. Core Concept: UseCase uses Entities to achieve a goal.<br>2. Metaphor:<br>   - Entity: A high-quality Steak (Raw Material/Rule).<br>   - UseCase: A Chef following a Recipe to cook the Steak (Procedure/Application).<br>3. Action: Cooking process.<br>4. Layout: Kitchen scene. | ## 1) Use Caseã‚’ã²ã¨ã“ã¨ã§è¨€ã†ã¨ï¼ŸğŸ§ ğŸ’¡ |
| 77 | docs/clean_cs_study_017.md | clean_cs_study_017_fat_controller.png | ./picture/clean_cs_study_017_fat_controller.png | **Theme**: The Fat Controller<br><br>**Labels to Render**:<br>- Controller: "Controller (Fat)"<br>- Validation: "Validation"<br>- DB: "DB Logic"<br>- Email: "Email"<br>- UseCase: "UseCase (Sad)"<br><br>**Visual Details**:<br>1. Core Concept: Overloaded Controller.<br>2. Metaphor: A bloated Controller eating everything (Validation, DB Logic, Email Logic).<br>   - It is huge and sweating.<br>   - Next to it, a slim UseCase is looking sad because it has no job.<br>3. Action: Gluttony.<br>4. Layout: Contrast of characters. | ### âŒäº‹æ•…1ï¼šControllerï¼ˆUIå´ï¼‰ãŒå¤ªã‚‹ğŸ” |
| 78 | docs/clean_cs_study_017.md | clean_cs_study_017_conductor.png | ./picture/clean_cs_study_017_conductor.png | **Theme**: The Conductor<br><br>**Labels to Render**:<br>- UseCase: "UseCase (Conductor)"<br>- Entity: "Entity (Musician)"<br>- Repo: "Repository (Musician)"<br>- Presenter: "Presenter (Audience)"<br><br>**Visual Details**:<br>1. Core Concept: Coordination role.<br>2. Metaphor: A Conductor (UseCase) in the center.<br>   - Input: Receiving a request note.<br>   - Action: Directing the Entity (Musician) and Repository.<br>   - Output: Handing the result to the Presenter.<br>   - Not playing the instruments itself, but coordinating.<br>3. Action: Conducting.<br>4. Layout: Orchestra metaphor. | ## 3) Use Caseã®â€œè²¬å‹™â€ã¯ã“ã“ã¾ã§ï¼âœ‹ğŸ“¦ |
| 79 | docs/clean_cs_study_017.md | clean_cs_study_017_clean_flow.png | ./picture/clean_cs_study_017_clean_flow.png | **Theme**: Clean Architecture Flow<br><br>**Labels to Render**:<br>- Controller: "Controller"<br>- InputPort: "Input Port"<br>- UseCase: "Interactor"<br>- OutputPort: "Output Port"<br>- Presenter: "Presenter"<br><br>**Visual Details**:<br>1. Core Concept: Unidirectional data flow.<br>2. Metaphor: A clean unidirectional flow diagram.<br>   - Controller -> Input Port -> UseCase Interactor -> Output Port -> Presenter.<br>   - Arrows crossing boundaries cleanly.<br>3. Action: Flowing right.<br>4. Layout: Linear process. | ## 4) Use Caseã®â€œå½¢â€ã‚’ã–ã£ãã‚Šæ´ã‚‚ã†âœï¸âœ¨ |
| 80 | docs/clean_cs_study_017.md | clean_cs_study_017_plug_socket.png | ./picture/clean_cs_study_017_plug_socket.png | **Theme**: The Repository Interface<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Plug: "Interface (IPort)"<br>- Wall: "Boundary"<br>- Socket: "Implementation"<br>- DB: "DB"<br><br>**Visual Details**:<br>1. Core Concept: Dependency Inversion.<br>2. Metaphor: A plug and socket.<br>   - UseCase holds the Plug (IMemoRepository).<br>   - Infrastructure provides the Socket (SqlMemoRepository).<br>   - UseCase doesn't know what's behind the wall (SQL, File, Memory), it just plugs in.<br>3. Action: Plugging in.<br>4. Layout: Side view of connection. | ## 5) ã¡ã„ã•ãªã‚³ãƒ¼ãƒ‰ã§â€œæ‰‹é †æ›¸æ„Ÿâ€ã‚’ä½“é¨“ã—ã‚ˆğŸ§ªğŸ“ |
| 81 | docs/clean_cs_study_017.md | clean_cs_study_017_dto_mistake.png | ./picture/clean_cs_study_017_dto_mistake.png | **Theme**: DTO Contamination<br><br>**Labels to Render**:<br>- Box: "API DTO"<br>- Soldiers: "JSON Attr / Web Context"<br>- UseCase: "UseCase"<br>- Attack: "Invasion"<br><br>**Visual Details**:<br>1. Core Concept: External details invading UseCase.<br>2. Metaphor: A Trojan Horse.<br>   - A box labeled \"API DTO\" enters the UseCase castle.<br>   - Inside the box, \"JSON Attributes\" and \"Web Context\" soldiers jump out and attack the UseCase.<br>3. Action: Surprise attack.<br>4. Layout: Castle invasion. | ### ğŸ˜µã€ŒUse Caseã«DTOï¼ˆAPIã®å½¢ï¼‰ã‚’ãã®ã¾ã¾æ¸¡ã—ã¦ã„ã„ï¼Ÿã€ |
| 82 | docs/clean_cs_study_018.md | clean_cs_study_018_input_port_contract.png | ./picture/clean_cs_study_018_input_port_contract.png | **Theme**: Input Port Interface Contract<br>**Labels to Render**:<br>- Controller: "Controller (Caller)"<br>- Input Port: "Input Port (Interface)"<br>- Use Case: "Use Case (Implementer)"<br>- Contract: "å¥‘ç´„ (Contract)"<br><br>**Visual Details**:<br>1. Core Concept: The Input Port defines the contract for interaction.<br>2. Metaphor: A legal contract document or a handshake agreement taking place through a window (the Interface).<br>- Left: Controller holding a request envelope.<br>- Middle: The specific shaped window (Input Port Interface).<br>- Right: Use Case waiting to receive it.<br>3. Action: Handing over the envelope through the matching window shape.<br>4. Layout: Left to Right flow. | ## 1) Input Portã£ã¦ãªã«ï¼Ÿï¼ˆä¸€è¨€ã§ï¼‰ğŸšªâœ¨ |
| 83 | docs/clean_cs_study_018.md | clean_cs_study_018_interface_benefits.png | ./picture/clean_cs_study_018_interface_benefits.png | **Theme**: Benefits of Input Port Interface<br>**Labels to Render**:<br>- Real: "æœ¬ç•ª (Real)"<br>- Test: "ãƒ†ã‚¹ãƒˆ (Mock)"<br>- Switch: "åˆ‡ã‚Šæ›¿ãˆ"<br>- Controller: "Controller"<br><br>**Visual Details**:<br>1. Core Concept: Decoupling allows swapping implementations.<br>2. Metaphor: A plug (Controller) connecting to a socket (Input Port).<br>   - Behind the socket, you can easily switch between a heavy machine (Real Implementation) and a lightweight dummy doll (Test Mock).<br>3. Action: A switch being toggled or the background machinery being swapped.<br>4. Layout: Split view or mechanical switch metaphor. | ## 2) ãªã‚“ã§Input PortãŒå¿…è¦ãªã®ï¼ŸğŸ¤”ğŸ’¡ |
| 84 | docs/clean_cs_study_018.md | clean_cs_study_018_one_port_per_usecase.png | ./picture/clean_cs_study_018_one_port_per_usecase.png | **Theme**: One Port Per Use Case<br>**Labels to Render**:<br>- Good: "OK (1å¯¾1)"<br>- Bad: "NG (ç¥Input)"<br>- Create: "Create"<br>- Update: "Update"<br>- Delete: "Delete"<br><br>**Visual Details**:<br>1. Core Concept: Specialization vs Generalization.<br>2. Metaphor:<br>   - Good: Three distinct, clearly labeled doors (Create, Update, Delete) with specific keys.<br>   - Bad: One giant, messy garage door labeled "DoEverything" with a pile of confused keys.<br>3. Action: Comparison of order vs chaos.<br>4. Layout: Split view. | ### ã‚³ãƒ„Aï¼š**â€œ1ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼1 Input Portâ€**ã«å¯„ã›ã‚‹ğŸ¯ |
| 85 | docs/clean_cs_study_018.md | clean_cs_study_018_request_model_envelope.png | ./picture/clean_cs_study_018_request_model_envelope.png | **Theme**: Single Request Model Argument<br>**Labels to Render**:<br>- RequestModel: "Request Model (1å€‹)"<br>- Arguments: "ãƒãƒ©ãƒãƒ©ã®å¼•æ•°"<br>- Clean: "ã‚¹ãƒƒã‚­ãƒª"<br>- Messy: "æ•£ã‚‰ã‹ã‚‹"<br><br>**Visual Details**:<br>1. Core Concept: Encapsulating arguments.<br>2. Metaphor:<br>   - Clean: A single, sealed envelope labeled "RequestModel".<br>   - Messy: A person trying to carry 10 different loose items (strings, ints, dates) and dropping them.<br>3. Action: Carrying ease vs struggle.<br>4. Layout: Comparison side-by-side. | ### ã‚³ãƒ„Cï¼šå¼•æ•°ã¯ **RequestModel 1å€‹**ã«ã™ã‚‹ã®ãŒæ‰±ã„ã‚„ã™ã„ğŸ“¨ |
| 86 | docs/clean_cs_study_018.md | clean_cs_study_018_forbidden_types.png | ./picture/clean_cs_study_018_forbidden_types.png | **Theme**: Forbidden External Types<br>**Labels to Render**:<br>- Input Port: "Input Port"<br>- HttpContext: "HttpContext"<br>- DbContext: "DbContext"<br>- Stop: "æŒè¾¼ç¦æ­¢"<br><br>**Visual Details**:<br>1. Core Concept: Boundary Enforcement.<br>2. Metaphor: Airport security scanner.<br>   - Items like "HttpContext" (Web badge) and "DbContext" (DB heavy gear) are being rejected/red-lighted at the scanner.<br>   - Only "Pure Data" (POCOs) is allowed through.<br>3. Action: Security rejection.<br>4. Layout: Inspection scene. | ### ã‚³ãƒ„Dï¼š**å¤–å´ã®å‹ã‚’æŒã¡è¾¼ã¾ãªã„**ï¼ˆè¶…é‡è¦ğŸ”¥ï¼‰ |
| 87 | docs/clean_cs_study_018.md | clean_cs_study_018_interactor_implementation.png | ./picture/clean_cs_study_018_interactor_implementation.png | **Theme**: Interactor Implementation<br>**Labels to Render**:<br>- Input Port: "Input Port (I/F)"<br>- Interactor: "Interactor (å®Ÿè£…)"<br>- Domain: "Domain"<br>- Output Port: "Output Port"<br><br>**Visual Details**:<br>1. Core Concept: The Interactor orchestrating the flow.<br>2. Metaphor: A conductor (Interactor) standing on a podium (Input Port implementation).<br>   - Directed by the Input Port score.<br>   - Waving baton to Domain (Musicians).<br>   - Signaling to Output Port (Audience).<br>3. Action: Orchestration.<br>4. Layout: Central character with connections. | ### 4-3) Interactor ãŒ Input Port ã‚’å®Ÿè£…ã™ã‚‹ğŸ§±âœ¨ |
| 88 | docs/clean_cs_study_018.md | clean_cs_study_018_controller_converter.png | ./picture/clean_cs_study_018_controller_converter.png | **Theme**: Controller as Converter<br>**Labels to Render**:<br>- API DTO: "API DTO (Web)"<br>- RequestModel: "Request Model (UseCase)"<br>- Controller: "Controller"<br>- Convert: "å¤‰æ›"<br><br>**Visual Details**:<br>1. Core Concept: Data transformation at the boundary.<br>2. Metaphor: A currency exchange booth or translator.<br>   - Input: "API DTO" (Foreign Currency/Web Json).<br>   - Process: The Controller (Clerk) stamping and exchanging it.<br>   - Output: "Request Model" (Local Currency/Domain Object).<br>   - Passing it through the window to the Use Case.<br>3. Action: Exchange/Translation.<br>4. Layout: Flow from left to right. | ### 4-4) Controllerï¼ˆå¤–å´ï¼‰ãŒ Input Port ã‚’å‘¼ã¶ğŸšªâ¡ï¸ğŸ”Œ |
| 89 | docs/clean_cs_study_019.md | clean_cs_study_019_request_model_definition.png | ./picture/clean_cs_study_019_request_model_definition.png | **Theme**: Request Model Definition<br>**Labels to Render**:<br>- UseCase: "Use Case (Inner)"<br>- RequestModel: "Request Model (Pure)"<br>- API DTO: "API DTO (Outer)"<br>- Separation: "åˆ†é›¢"<br><br>**Visual Details**:<br>1. Core Concept: Distinct models for distinct layers.<br>2. Metaphor: Two different boxes.<br>   - Outside box (DTO) is colorful and has stickers (JSON attributes).<br>   - Inside box (Request Model) is plain, clean white, and sturdy.<br>3. Action: A filter or wall separating them.<br>4. Layout: Split view. | ## 1) Request Modelã£ã¦ãªã«ï¼ŸğŸ¤”ğŸ“¦ |
| 90 | docs/clean_cs_study_019.md | clean_cs_study_019_independence.png | ./picture/clean_cs_study_019_independence.png | **Theme**: Independence from Frameworks<br>**Labels to Render**:<br>- Web: "Web (Json)"<br>- DB: "DB (Table)"<br>- UseCase: "Use Case"<br>- Safe: "Safe"<br><br>**Visual Details**:<br>1. Core Concept: Use Case doesn't care about external changes.<br>2. Metaphor: A person (Use Case) working calmly in a soundproof room.<br>   - Outside, there are loud construction noises (Web Framework changing, DB Schema changing).<br>   - The person inside doesn't hear a thing.<br>3. Action: Protection/Isolation.<br>4. Layout: Center focus with chaotic periphery. | ## 2) ãªã‚“ã§API DTOã¨åˆ†ã‘ã‚‹ã®ï¼ŸğŸ±â¡ï¸ğŸ§  |
| 91 | docs/clean_cs_study_019.md | clean_cs_study_019_model_contents.png | ./picture/clean_cs_study_019_model_contents.png | **Theme**: Contents of Request Model<br>**Labels to Render**:<br>- Request Model: "Request Model"<br>- Data: "Data (String/Int)"<br>- POCO: "POCO"<br>- No Logic: "No Logic"<br><br>**Visual Details**:<br>1. Core Concept: Simple data container.<br>2. Metaphor: A clean, transparent clipboard or envelope containing only data sheets.<br>   - No heavy machinery (Logic) or badges (Attributes) attached to it.<br>3. Action: Static display of clean content.<br>4. Layout: Close-up. | ## 3) â€œã„ã„Request Modelâ€ 7ã¤ã®ãƒ«ãƒ¼ãƒ«ğŸŒŸâœ… |
| 92 | docs/clean_cs_study_019.md | clean_cs_study_019_vo_in_request.png | ./picture/clean_cs_study_019_vo_in_request.png | **Theme**: Value Objects in Request Model<br>**Labels to Render**:<br>- Primitive: "Primitive (String)"<br>- VO: "Value Object (Strong)"<br>- Safety: "å®‰å…¨æ€§"<br>- Request: "Request"<br><br>**Visual Details**:<br>1. Core Concept: Strengthening the model with VOs.<br>2. Metaphor:<br>   - Level 1: A wooden crate (String properties).<br>   - Level 2: An armored chest (Value Object properties).<br>   - Highlighting that VOs provide better protection.<br>3. Action: Upgrade/Evolution.<br>4. Layout: Before and After. | ### 4-1. Entitieså´ï¼ˆã™ã§ã«ã‚ã‚‹æƒ³å®šã®VOï¼‰ğŸ’ |
| 93 | docs/clean_cs_study_019.md | clean_cs_study_019_conversion_boundary.png | ./picture/clean_cs_study_019_conversion_boundary.png | **Theme**: Conversion Boundary<br>**Labels to Render**:<br>- Web: "Web (Dirty)"<br>- Boundary: "Boundary (Filter)"<br>- UseCase: "Use Case (Clean)"<br>- Convert: "Convert"<br><br>**Visual Details**:<br>1. Core Concept: Stopping the "wave" of dirty data.<br>2. Metaphor: A water purification plant at the river's edge.<br>   - Dirty water (DTO) flows in.<br>   - It passes through a filtration system (Conversion code).<br>   - Clean water (Request Model) flows out into the reservoir (Use Case).<br>3. Action: Filtering flow.<br>4. Layout: Left to Right flow. | ### 5-2. Endpointã§å¤‰æ›ï¼ˆã“ã“ãŒâ€œå¢ƒç•Œâ€ğŸšªï¼‰ |
| 94 | docs/clean_cs_study_019.md | clean_cs_study_019_validation_placement.png | ./picture/clean_cs_study_019_validation_placement.png | **Theme**: Validation vs Invariant<br>**Labels to Render**:<br>- Adapter: "Adapter (Form Check)"<br>- Domain: "Domain (Rule)"<br>- Null Check: "Null Check"<br>- Business Rule: "Business Rule"<br><br>**Visual Details**:<br>1. Core Concept: Separating concerns.<br>2. Metaphor: Two checkpoints.<br>   - Checkpoint 1 (Adapter): A security guard checking ticket validity (Format).<br>   - Checkpoint 2 (Domain): A doctor checking health (Business Logic/Invariant).<br>3. Action: Sequential checking.<br>4. Layout: Process flow. | ## 6) ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ã©ã“ã§ã‚„ã‚‹ã®ï¼ŸğŸ›‘ğŸ§  |
| 95 | docs/clean_cs_study_020.md | clean_cs_study_020_interactor_role.png | ./picture/clean_cs_study_020_interactor_role.png | **Theme**: Interactor as Conductor<br>**Labels to Render**:<br>- Interactor: "Interactor"<br>- Entity: "Entity"<br>- Repository: "Repository"<br>- Output: "Output"<br><br>**Visual Details**:<br>1. Core Concept: Coordination.<br>2. Metaphor: A conductor standing on a podium.<br>   - Reading the score (Use Case Logic).<br>   - Directing the musicians (Entities and Repositories).<br>   - Not playing an instrument, just directing.<br>3. Action: Conducting with a baton.<br>4. Layout: Center character. | ## 1) Interactorã£ã¦ãªã«ï¼ŸğŸ§© |
| 96 | docs/clean_cs_study_020.md | clean_cs_study_020_dos_and_donts.png | ./picture/clean_cs_study_020_dos_and_donts.png | **Theme**: Interactor Do's and Don'ts<br>**Labels to Render**:<br>- Do: "OK (Flow)"<br>- Don't: "NG (HTTP/UI)"<br>- Clean: "Clean"<br>- Dirty: "Dirty"<br><br>**Visual Details**:<br>1. Core Concept: Keeping Interactor pure.<br>2. Metaphor:<br>   - Good Side: A clean, organized desk with a flowchart (Logic).<br>   - Bad Side: A desk cluttered with web cables, HTML tags, and SQL code (Infrastructure).<br>3. Action: Comparison.<br>4. Layout: Split view. | ## 3) InteractorãŒã€Œã‚„ã£ã¡ã‚ƒãƒ€ãƒ¡ã€âŒğŸ™ˆ |
| 97 | docs/clean_cs_study_020.md | clean_cs_study_020_file_structure.png | ./picture/clean_cs_study_020_file_structure.png | **Theme**: CreateMemo File Structure<br>**Labels to Render**:<br>- Core: "Core (Inner)"<br>- Adapters: "Adapters (Outer)"<br>- UseCases: "UseCases"<br>- Entities: "Entities"<br><br>**Visual Details**:<br>1. Core Concept: Separation of files.<br>2. Metaphor: A filing cabinet or folder structure.<br>   - A "Core" drawer containing "UseCases" and "Entities".<br>   - An "Adapters" drawer containing "Persistence" and "Presenters".<br>   - Clearly separated.<br>3. Action: Organized storage.<br>4. Layout: Tree or folder view. | ## 4-1. ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã‚¤ãƒ¡ãƒ¼ã‚¸ğŸ“âœ¨ |
| 98 | docs/clean_cs_study_020.md | clean_cs_study_020_interactor_flow.png | ./picture/clean_cs_study_020_interactor_flow.png | **Theme**: Interactor Execution Flow<br>**Labels to Render**:<br>- 1. Request: "1. Request"<br>- 2. Entity: "2. Entity Logic"<br>- 3. Repo: "3. Save"<br>- 4. Output: "4. Output"<br><br>**Visual Details**:<br>1. Core Concept: The step-by-step process.<br>2. Metaphor: A relay race or assembly line.<br>   - Step 1: Receiving the baton (Request).<br>   - Step 2: Running/Processing (Entity).<br>   - Step 3: Hitting a checkpoint (Repository).<br>   - Step 4: Passing the baton (Output).<br>3. Action: Sequential movement.<br>4. Layout: Left to Right flow. | # 5) ã„ã‚ˆã„ã‚ˆæœ¬ä½“ï¼šCreateMemoInteractorğŸ§±ğŸ”¥ |
| 99 | docs/clean_cs_study_020.md | clean_cs_study_020_inmemory_repo.png | ./picture/clean_cs_study_020_inmemory_repo.png | **Theme**: InMemory Repository<br>**Labels to Render**:<br>- Interface: "IMemoRepository"<br>- Implementation: "List<Memo>"<br>- Memory: "Memory"<br>- Fast: "Fast"<br><br>**Visual Details**:<br>1. Core Concept: Simple storage in memory.<br>2. Metaphor: A light, temporary shelf or clipboard (List in Memory) acting as a database.<br>   - Contrasted with a heavy iron vault (Real DB) which is not here.<br>   - Highlighting it's just a list in RAM.<br>3. Action: Putting an item on the shelf.<br>4. Layout: Simple object view. | # 6) å¤–å´ï¼šã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªRepoï¼ˆAdapterså´ï¼‰ğŸ—„ï¸âœ¨ |
| 100 | docs/clean_cs_study_020.md | clean_cs_study_020_presenter_handling.png | ./picture/clean_cs_study_020_presenter_handling.png | **Theme**: Presenter Handling<br>**Labels to Render**:<br>- Interactor: "Interactor"<br>- Output Port: "Output Port"<br>- Success: "Success"<br>- Failure: "Failure"<br><br>**Visual Details**:<br>1. Core Concept: Branching results.<br>2. Metaphor: A sorting chute.<br>   - Interactor drops the result.<br>   - Presenter (Output Port) sorts it into a "Green Box" (Success) or "Red Box" (Failure).<br>3. Action: Sorting.<br>4. Layout: Branching flow. | # 7) å¤–å´ï¼šPresenterï¼ˆOutputPortå®Ÿè£…ï¼‰ğŸ¤âœ¨ |
| 101 | docs/clean_cs_study_021.md | clean_cs_study_021_output_port_role.png | ./picture/clean_cs_study_021_output_port_role.png | **Theme**: Output Port Role<br>**Labels to Render**:<br>- UseCase: "Use Case (Caller)"<br>- Output Port: "Output Port (Interface)"<br>- Presenter: "Presenter (Implementer)"<br>- Result: "Result"<br><br>**Visual Details**:<br>1. Core Concept: Output Port as an interface for results.<br>2. Metaphor: A mail chute or delivery window.<br>   - Use Case drops a "Result" package into the chute (Output Port).<br>   - Presenter is waiting at the bottom to catch it.<br>   - Use Case doesn't see the Presenter.<br>3. Action: Dropping the package.<br>4. Layout: Vertical flow. | ## 1) Output Portã£ã¦ãªã«ï¼ŸğŸ¤” |
| 102 | docs/clean_cs_study_021.md | clean_cs_study_021_why_output_port.png | ./picture/clean_cs_study_021_why_output_port.png | **Theme**: Output Port vs Return<br>**Labels to Render**:<br>- Return: "Return (Coupled)"<br>- Output Port: "Output Port (Decoupled)"<br>- Flexibility: "Flexibility"<br>- Flow: "Control Flow"<br><br>**Visual Details**:<br>1. Core Concept: Inversion of Control.<br>2. Metaphor:<br>   - Return: A person (Use Case) handing a package directly to another person (Controller) who is waiting impatiently.<br>   - Output Port: A broadcaster (Use Case) speaking into a microphone. Multiple different receivers (Web, Console, Test) can listen without the broadcaster caring.<br>3. Action: Broadcasting.<br>4. Layout: Split view. | ## 2) ã€ŒUseCaseã®æˆ»ã‚Šå€¤ã€ã¯ã©ã†ã™ã‚‹ã®ï¼Ÿï¼ˆè¶…å¤§äº‹ï¼‰ğŸ§ ğŸ’¥ |
| 103 | docs/clean_cs_study_021.md | clean_cs_study_021_response_model.png | ./picture/clean_cs_study_021_response_model.png | **Theme**: Response Model Content<br>**Labels to Render**:<br>- Response Model: "Response Model"<br>- Data: "Pure Data"<br>- No Logic: "No Logic"<br>- Domain: "Domain Independent"<br><br>**Visual Details**:<br>1. Core Concept: Data structure for output.<br>2. Metaphor: A clean, printed report card or dashboard summary.<br>   - Contains only facts (Strings, Ints, Dates).<br>   - No "Entity" objects or "Database" rows attached.<br>3. Action: Static display of clean content.<br>4. Layout: Close-up. | ## 3) ResponseModelï¼ˆå‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ï¼‰ã£ã¦ãªã«ï¼ŸğŸ“¦âœ¨ |
| 104 | docs/clean_cs_study_021.md | clean_cs_study_021_presenter_impl.png | ./picture/clean_cs_study_021_presenter_impl.png | **Theme**: Presenter Implementation<br>**Labels to Render**:<br>- Response Model: "Response Model"<br>- Presenter: "Presenter"<br>- ViewModel: "ViewModel"<br>- Format: "Format"<br><br>**Visual Details**:<br>1. Core Concept: Formatting data for the UI.<br>2. Metaphor: A decorator.<br>   - Input: A plain box (Response Model).<br>   - Action: The Decorator (Presenter) wraps it in colorful paper and adds ribbons (Formatting dates, localized strings).<br>   - Output: A gift box (ViewModel).<br>3. Action: Decorating.<br>4. Layout: Process flow. | ## 4) å…·ä½“ä¾‹ï¼šãƒ¡ãƒ¢ä½œæˆï¼ˆCreateMemoï¼‰ã® Output Port ã‚’ä½œã‚‹âœï¸ğŸ“ |
| 105 | docs/clean_cs_study_021.md | clean_cs_study_021_controller_presenter.png | ./picture/clean_cs_study_021_controller_presenter.png | **Theme**: Controller and Presenter<br>**Labels to Render**:<br>- Controller: "Controller"<br>- Input: "Input"<br>- Presenter: "Presenter"<br>- Output: "Output"<br>- ViewModel: "ViewModel"<br><br>**Visual Details**:<br>1. Core Concept: Coordination in the Interface Layer.<br>2. Metaphor: A tag team.<br>   - Controller takes the order (Input).<br>   - Use Case cooks the food.<br>   - Presenter plates the food (Output).<br>   - Controller grabs the plated food (ViewModel) to serve.<br>3. Action: Passing the plate.<br>4. Layout: Cycle flow. | ## 5) ãªãœ Output Port ãŒåŠ¹ãã®ï¼Ÿï¼ˆ1ç•ªã®ã”è¤’ç¾ï¼‰ğŸâœ¨ |
| 106 | docs/clean_cs_study_021.md | clean_cs_study_021_common_mistakes.png | ./picture/clean_cs_study_021_common_mistakes.png | **Theme**: Output Port Mistakes<br>**Labels to Render**:<br>- Entity: "Entity Leak"<br>- HTTP: "HTTP Leak"<br>- Logic: "Logic in Presenter"<br>- Stop: "NG"<br><br>**Visual Details**:<br>1. Core Concept: Boundary violations.<br>2. Metaphor: A pipe system leaking.<br>   - Leak 1: "Entity" objects dripping out of the Output Port.<br>   - Leak 2: "HTTP Context" gas flowing back into the Output Port.<br>   - Leak 3: "Business Logic" gears grinding inside the Presenter.<br>3. Action: Leaking/Breaking.<br>4. Layout: Warning diagram. | ## 6) ã‚ˆãã‚ã‚‹ãƒŸã‚¹é›†ï¼ˆã“ã“è¸ã‚€ã¨å´©ã‚Œã‚‹ï¼‰ğŸ’£ğŸ˜‡ |
| 107 | docs/clean_cs_study_022.md | clean_cs_study_022_presenter_role.png | ./picture/clean_cs_study_022_presenter_role.png | **Theme**: Presenter Role<br>**Labels to Render**:<br>- UseCase: "Use Case (Fact)"<br>- Presenter: "Presenter (Format)"<br>- View: "View (UI)"<br>- JSON: "JSON"<br><br>**Visual Details**:<br>1. Core Concept: Formatting facts for display.<br>2. Metaphor: A chef plating a dish.<br>   - Use Case (Cook) hands over a raw cooked steak (Fact/Result).<br>   - Presenter (Chef) arranges it beautifully on a plate with garnish (Formatting).<br>   - View (Customer) sees the beautiful dish.<br>3. Action: Plating/Arranging.<br>4. Layout: Left to Right flow. | ## 1) PresenterãŒå¿…è¦ã«ãªã‚‹â€œã‚ã‚‹ã‚ã‚‹â€ğŸ˜‡ğŸ’¥ |
| 108 | docs/clean_cs_study_022.md | clean_cs_study_022_flow_map.png | ./picture/clean_cs_study_022_flow_map.png | **Theme**: Clean Architecture Flow Map<br>**Labels to Render**:<br>- Controller: "Controller"<br>- Interactor: "Interactor"<br>- Output Port: "Output Port"<br>- Presenter: "Presenter"<br>- View: "View"<br><br>**Visual Details**:<br>1. Core Concept: The complete loop.<br>2. Metaphor: A relay race track.<br>   - Controller starts -> Interactor runs -> Output Port handover -> Presenter finishes -> View displays.<br>   - Arrows showing the direction.<br>3. Action: Flowing.<br>4. Layout: Circular or Linear path. | ## 2) ä½ç½®é–¢ä¿‚ã‚’1æšã§ã‚¤ãƒ¡ãƒ¼ã‚¸ğŸ—ºï¸âœ¨ |
| 109 | docs/clean_cs_study_022.md | clean_cs_study_022_terminology.png | ./picture/clean_cs_study_022_terminology.png | **Theme**: Response Model vs ViewModel<br>**Labels to Render**:<br>- Response Model: "Response Model (Business)"<br>- ViewModel: "ViewModel (UI)"<br>- Presenter: "Presenter (Converter)"<br>- Independence: "Independence"<br><br>**Visual Details**:<br>1. Core Concept: Business data vs UI data.<br>2. Metaphor: Translation.<br>   - Left: A document in "Business Language" (Response Model).<br>   - Middle: A translator (Presenter).<br>   - Right: A document in "UI Language" (ViewModel).<br>   - Highlighting that they are different languages.<br>3. Action: Translating.<br>4. Layout: Split view. | ## 3) ä¼¼ã¦ã‚‹è¨€è‘‰ã®æ•´ç†ï¼ˆã“ã“è¶…å¤§äº‹ï¼‰ğŸ§ ğŸ’¡ |
| 110 | docs/clean_cs_study_022.md | clean_cs_study_022_controller_implementation.png | ./picture/clean_cs_study_022_controller_implementation.png | **Theme**: Controller Implementation<br>**Labels to Render**:<br>- Controller: "Controller"<br>- Input Port: "Input Port"<br>- Presenter: "Presenter"<br>- Response: "Response"<br><br>**Visual Details**:<br>1. Core Concept: Controller orchestration.<br>2. Metaphor: A traffic controller.<br>   - Signals "Go" to Input Port.<br>   - Checks "Status" from Presenter.<br>   - Returns "Result" to outside.<br>3. Action: Signaling.<br>4. Layout: Central controller. | ## 4-3) Controllerï¼ˆor Minimal APIï¼‰ï¼šPresenterã®çµæœã‚’è¿”ã™ã ã‘ğŸšªâœ¨ |
| 111 | docs/clean_cs_study_022.md | clean_cs_study_022_entity_leak.png | ./picture/clean_cs_study_022_entity_leak.png | **Theme**: Entity Leakage Danger<br>**Labels to Render**:<br>- Entity: "Entity"<br>- UI: "UI"<br>- Leak: "Leak"<br>- Private: "Private Info"<br><br>**Visual Details**:<br>1. Core Concept: Exposing internal details.<br>2. Metaphor: X-Ray vision.<br>   - Returning an Entity is like walking through an X-Ray machine.<br>   - The UI sees "Private Info" (Skeleton/Organs) that should be hidden.<br>   - Presenter puts clothes (DTO) on it to hide the internals.<br>3. Action: Revealing/Hiding.<br>4. Layout: Contrast view. | ### â‘  â€œEntityã‚’ãã®ã¾ã¾è¿”ã•ãªã„â€ğŸ™…â€â™€ï¸ğŸ’£ |
| 112 | docs/clean_cs_study_022.md | clean_cs_study_022_multi_device.png | ./picture/clean_cs_study_022_multi_device.png | **Theme**: Multi-Device Presenters<br>**Labels to Render**:<br>- UseCase: "Use Case"<br>- Web Presenter: "Web Presenter"<br>- Mobile Presenter: "Mobile Presenter"<br>- CLI Presenter: "CLI Presenter"<br><br>**Visual Details**:<br>1. Core Concept: Reusability.<br>2. Metaphor: A power generator (Use Case) with different adapters.<br>   - Adapter 1: Web plug.<br>   - Adapter 2: Mobile plug.<br>   - Adapter 3: Console plug.<br>   - All connected to the same core generator.<br>3. Action: Plugging in.<br>4. Layout: Hub and spoke. | ### â‘¢ â€œç”»é¢ãŒå¢—ãˆã‚‹æœªæ¥ã«å¼·ããªã‚‹â€ğŸ“±ğŸ’»ğŸ–¥ï¸ |
| 113 | docs/clean_cs_study_023.md | clean_cs_study_023_gateway_vs_repository.png | ./picture/clean_cs_study_023_gateway_vs_repository.png | **Theme**: Gateway vs Repository<br>**Labels to Render**:<br>- Gateway: "Gateway (All Exits)"<br>- Repository: "Repository (DB Only)"<br>- Mail: "Mail"<br>- API: "API"<br>- DB: "DB"<br><br>**Visual Details**:<br>1. Core Concept: Taxonomy.<br>2. Metaphor: A large building exit system.<br>   - The main gate is "Gateway".<br>   - It has multiple specific doors: "Mail", "API".<br>   - One specific heavy vault door is labeled "Repository" leading to "DB".<br>3. Action: Structure view.<br>4. Layout: Hierarchy or set diagram. | ## 2) Gateway ã¨ Repository ã£ã¦ä½•ãŒé•ã†ã®ï¼ŸğŸ¤”ğŸ”Œ |
| 114 | docs/clean_cs_study_023.md | clean_cs_study_023_why_interface.png | ./picture/clean_cs_study_023_why_interface.png | **Theme**: Why Interface?<br>**Labels to Render**:<br>- UseCase: "Use Case"<br>- Interface: "Interface (Request)"<br>- DB: "DB Implementation"<br>- Change: "DB Change"<br><br>**Visual Details**:<br>1. Core Concept: Protection from change.<br>2. Metaphor: A shock absorber.<br>   - "DB Change" (Explosion/Sparks) happens at the bottom.<br>   - The "Interface" (Shock Absorber) absorbs the impact.<br>   - The "Use Case" on top remains stable and shaking-free.<br>3. Action: Absorbing shock.<br>4. Layout: Vertical stack. | ## 3) ãªã‚“ã§ã‚ã–ã‚ã– interface ã‚’æŒŸã‚€ã®ï¼ŸğŸ˜µâ€ğŸ’«â¡ï¸ğŸ˜† |
| 115 | docs/clean_cs_study_023.md | clean_cs_study_023_placement_map.png | ./picture/clean_cs_study_023_placement_map.png | **Theme**: Repository Placement Map<br>**Labels to Render**:<br>- Core: "Core (Inner)"<br>- Infrastructure: "Infrastructure (Outer)"<br>- Interface: "Interface"<br>- Implementation: "Implementation"<br><br>**Visual Details**:<br>1. Core Concept: Where things live.<br>2. Metaphor: A castle map.<br>   - Inside the castle walls (Core): "IMemoRepository" (Interface scroll).<br>   - Outside the castle (Infrastructure): "EfCoreMemoRepository" (Worker building).<br>   - An arrow connecting them (Implementation).<br>3. Action: Map view.<br>4. Layout: Concentric circles or split territory. | ## 4) ç½®ãå ´æ‰€ãƒ«ãƒ¼ãƒ«ï¼ˆè¿·å­é˜²æ­¢ãƒãƒƒãƒ—ï¼‰ğŸ—ºï¸âœ¨ |
| 116 | docs/clean_cs_study_023.md | clean_cs_study_023_data_flow_dip.png | ./picture/clean_cs_study_023_data_flow_dip.png | **Theme**: Data Flow with DIP<br>**Labels to Render**:<br>- UseCase: "Use Case"<br>- Interface: "Repo Interface"<br>- Implementation: "Repo Impl"<br>- Control: "Call"<br>- Dependency: "Dependency"<br><br>**Visual Details**:<br>1. Core Concept: Inversion of Control.<br>2. Metaphor: Plugging in.<br>   - Use Case calls the Interface (Control Flow down).<br>   - Implementation points UP to the Interface (Dependency Flow up).<br>   - Highlighting the opposing arrows.<br>3. Action: Connection.<br>4. Layout: Vertical flow with arrows. | ## 5) å›³ã§ä¸€ç™ºï¼ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œï¼ˆè¶…ã ã„ã˜ï¼‰ğŸ§ ğŸ’¡ |
| 117 | docs/clean_cs_study_023.md | clean_cs_study_023_generic_repo_trap.png | ./picture/clean_cs_study_023_generic_repo_trap.png | **Theme**: Generic Repository Trap<br>**Labels to Render**:<br>- Generic Repo: "Generic Repo"<br>- UseCase: "Use Case"<br>- Logic: "Query Logic"<br>- Leak: "Leak"<br><br>**Visual Details**:<br>1. Core Concept: Leaky abstraction.<br>2. Metaphor: A Swiss Army Knife that is too heavy.<br>   - Use Case trying to use a giant, heavy "Generic Repository" tool with 100 blades (GetAll, Find, Query...).<br>   - It's clumsy and dangerous.<br>   - Contrast with a sleek, custom tool "IMemoRepo" with just 1 blade needed.<br>3. Action: Struggle.<br>4. Layout: Comparison. | ## 9) ã€ŒRepositoryã‚’æ±ç”¨åŒ–ã—ã™ãã€å•é¡Œã‚ã‚‹ã‚ã‚‹ğŸ˜‡ğŸ’¥ |
| 118 | docs/clean_cs_study_024.md | clean_cs_study_024_command_vs_query.png | ./picture/clean_cs_study_024_command_vs_query.png | **Theme**: Command vs Query<br>**Labels to Render**:<br>- Command: "Command (Write)"<br>- Query: "Query (Read)"<br>- State: "State Change"<br>- View: "View Data"<br><br>**Visual Details**:<br>1. Core Concept: Different purposes.<br>2. Metaphor: Two different counters.<br>   - Command Counter: "Edit/Update". A person filling out a form to change records. Strict rules.<br>   - Query Counter: "Info/View". A person just looking at a display board. Fast and easy.<br>3. Action: Distinct activities.<br>4. Layout: Split view. | ## 2) ã¾ãšçµè«–ğŸ’¡ï¼šèª­ã¿ğŸ“šã¨æ›¸ãâœï¸ã¯â€œç›®çš„ãŒåˆ¥â€ã ã‹ã‚‰åˆ†ã‘ã¦è€ƒãˆã‚‹ğŸ˜ |
| 119 | docs/clean_cs_study_024.md | clean_cs_study_024_read_model_projection.png | ./picture/clean_cs_study_024_read_model_projection.png | **Theme**: Read Model Projection<br>**Labels to Render**:<br>- DB/Entity: "DB / Entity"<br>- Projection: "Projection"<br>- ReadModel: "ReadModel"<br>- UI: "UI Optimized"<br><br>**Visual Details**:<br>1. Core Concept: Shaping data for the view.<br>2. Metaphor: A shadow puppet or projector.<br>   - Complex object (Entity/DB) is the source.<br>   - Light shines through it (Projection).<br>   - A simple, clear shadow (ReadModel) appears on the screen (UI).<br>   - The shadow is exactly the shape needed, hiding internal complexity.<br>3. Action: Projection.<br>4. Layout: Light path. | # 4-A) ã¾ãšã¯ â€œReadï¼ˆGetMemoï¼‰â€ ğŸ“šâœ¨ |
| 120 | docs/clean_cs_study_024.md | clean_cs_study_024_write_entity_guard.png | ./picture/clean_cs_study_024_write_entity_guard.png | **Theme**: Entity Guard in Write<br>**Labels to Render**:<br>- Command: "Command"<br>- Entity: "Entity"<br>- Rule: "Rule"<br>- DB: "DB"<br><br>**Visual Details**:<br>1. Core Concept: Logic resides in Entity.<br>2. Metaphor: A gatekeeper.<br>   - Command comes in.<br>   - Entity (Knight) checks the "Rule Book".<br>   - If valid, Entity updates itself and allows "Save" to DB.<br>   - If invalid, Entity blocks it.<br>3. Action: Guarding/Checking.<br>4. Layout: Flow with checkpoint. | # 4-B) æ¬¡ã« â€œWriteï¼ˆUpdateMemoï¼‰â€ âœï¸ğŸ”¥ |
| 121 | docs/clean_cs_study_024.md | clean_cs_study_024_cqs_evolution.png | ./picture/clean_cs_study_024_cqs_evolution.png | **Theme**: CQS Evolution<br>**Labels to Render**:<br>- Level 1: "Single Repo"<br>- Level 2: "Read / Write Split"<br>- Growth: "Growth"<br><br>**Visual Details**:<br>1. Core Concept: Refactoring for scale.<br>2. Metaphor: Evolution of a shop.<br>   - Level 1: One counter for everything (Single Repo).<br>   - Level 2: Separate "Order" (Write) and "Pickup" (Read) windows.<br>   - Highlighting improved flow.<br>3. Action: Splitting/Improving.<br>4. Layout: Before and After. | ## 6) ä¸­ç´šã«ä¸€æ­©ï¼šRead ã¨ Write ã‚’åˆ†ã‘ã‚‹ç‰ˆï¼ˆUseCaseãŒè‚²ã¡ã‚„ã™ã„ğŸŒ±ğŸ’–ï¼‰ |
| 122 | docs/clean_cs_study_024.md | clean_cs_study_024_io_review.png | ./picture/clean_cs_study_024_io_review.png | **Theme**: Interactor I/O Audit<br>**Labels to Render**:<br>- Interactor: "Interactor"<br>- I/O Call: "I/O Call"<br>- Too Many: "Too Many!"<br>- Optimized: "Optimized"<br><br>**Visual Details**:<br>1. Core Concept: Minimizing DB roundtrips.<br>2. Metaphor: A shopping trip.<br>   - Bad: Going to the store 5 times for 1 item each (N+1).<br>   - Good: Going once with a list (Optimized).<br>3. Action: Comparison of trips.<br>4. Layout: Split view. | ## 8) AIï¼ˆCopilot / Codexï¼‰ã«é ¼ã‚€ã¨æ—ã‚‹ãƒã‚¤ãƒ³ãƒˆğŸ¤–âœ¨ |
| 123 | docs/clean_cs_study_032.md | clean_cs_study_032_adapter_gate.png | ./picture/clean_cs_study_032_adapter_gate.png | **Theme**: Adapter Validation Gate<br><br>**Labels to Render**:<br>- Input: "Input Data"<br>- Adapter: "Adapter (Guard)"<br>- Format: "Format Check"<br>- Stop: "Stop (400)"<br><br>**Visual Details**:<br>1. Core Concept: Early rejection of bad formats.<br>2. Metaphor: A security gate (Adapter) at the entrance.<br>   - Guard checking a ticket (Input).<br>   - "Format Error" (Wrinkled ticket) is rejected immediately.<br>   - Valid ticket passes through.<br>3. Action: Rejection.<br>4. Layout: Entrance scene. | ### A. Adapterã§æ­¢ã‚ã‚‹ï¼ˆå½¢å¼ãƒ»ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ãƒã‚§ãƒƒã‚¯ï¼‰ğŸš§ğŸ“® |
| 124 | docs/clean_cs_study_032.md | clean_cs_study_032_domain_shield.png | ./picture/clean_cs_study_032_domain_shield.png | **Theme**: Domain Protection Shield<br><br>**Labels to Render**:<br>- Domain: "Domain (Core)"<br>- Invariant: "Invariant"<br>- Shield: "Absolute Guard"<br>- Safe: "Safe"<br><br>**Visual Details**:<br>1. Core Concept: The final line of defense.<br>2. Metaphor: A diamond (Domain) encased in a thick crystal shield.<br>   - An arrow (Invalid State) tries to penetrate but shatters against the shield.<br>   - The diamond inside remains perfect.<br>3. Action: Protection.<br>4. Layout: Center focus. | ### B. Domainã§å®ˆã‚‹ï¼ˆä¸å¤‰æ¡ä»¶ï¼å£Šã‚ŒãŸçŠ¶æ…‹ã‚’ä½œã‚Œãªã„ï¼‰ğŸ›¡ï¸ğŸ‘‘ |
| 125 | docs/clean_cs_study_032.md | clean_cs_study_032_rule_sorting.png | ./picture/clean_cs_study_032_rule_sorting.png | **Theme**: Rule Sorting System<br><br>**Labels to Render**:<br>- Rule: "Rule"<br>- Adapter: "Adapter (Format)"<br>- Domain: "Domain (Invariant)"<br>- UseCase: "UseCase (DB)"<br><br>**Visual Details**:<br>1. Core Concept: Classifying validation rules.<br>2. Metaphor: A sorting machine.<br>   - Balls labeled "Format", "Invariant", "DB Check" fall into corresponding bins (Adapter, Domain, UseCase).<br>3. Action: Sorting.<br>4. Layout: Funnel or sorting view. | ## 4) ãƒ«ãƒ¼ãƒ«è¡¨ï¼šã©ã“ã§æ­¢ã‚ã‚‹ï¼Ÿã©ã“ã§å®ˆã‚‹ï¼ŸğŸ§ ğŸ“‹âœ¨ |
| 126 | docs/clean_cs_study_032.md | clean_cs_study_032_minimal_api_pipeline.png | ./picture/clean_cs_study_032_minimal_api_pipeline.png | **Theme**: Minimal API Validation Pipeline<br><br>**Labels to Render**:<br>- Pipeline: "Minimal API Pipe"<br>- Validation: "AddValidation()"<br>- Handler: "Handler (Logic)"<br>- Eject: "ProblemDetails (400)"<br><br>**Visual Details**:<br>1. Core Concept: Automated validation step.<br>2. Metaphor: A factory conveyor belt.<br>   - Item passes through a scanner ("Validation").<br>   - Bad item is pushed off the belt ("Eject").<br>   - Good item reaches the worker ("Handler").<br>3. Action: Automated processing.<br>4. Layout: Horizontal flow. | ## 5) å®Ÿè£…ä¾‹ï¼ˆMinimal APIï¼‰ï¼šAdapterã§æ­¢ã‚ã‚‹ ğŸ›‘ğŸŒ· |
| 127 | docs/clean_cs_study_032.md | clean_cs_study_032_double_check.png | ./picture/clean_cs_study_032_double_check.png | **Theme**: Double Check Strategy<br><br>**Labels to Render**:<br>- User: "User"<br>- Adapter: "Adapter (Kind)"<br>- Domain: "Domain (Strict)"<br>- Match: "Synced"<br><br>**Visual Details**:<br>1. Core Concept: Redundant but useful checks.<br>2. Metaphor: Two filters.<br>   - Filter 1 (Adapter): Coarse mesh, catches big rocks (User errors), polite sign "Please fix".<br>   - Filter 2 (Domain): Fine mesh, catches everything (Strict rules).<br>3. Action: Filtering sequence.<br>4. Layout: Sequential view. | ## 7) ã€Œã˜ã‚ƒã‚é‡è¤‡ã—ãªã„ï¼Ÿã€å•é¡Œï¼šåŒã˜ãƒ«ãƒ¼ãƒ«ã‚’2å›æ›¸ã„ã¦OKï¼ŸğŸ¤”ğŸ’­ |
| 128 | docs/clean_cs_study_032.md | clean_cs_study_032_ai_mistake.png | ./picture/clean_cs_study_032_ai_mistake.png | **Theme**: AI Mistake - Annotation Pollution<br><br>**Labels to Render**:<br>- Domain: "Domain Object"<br>- Sticker: "[Required]"<br>- Robot: "AI"<br>- Messy: "Polluted"<br><br>**Visual Details**:<br>1. Core Concept: Annotations don't belong in Domain.<br>2. Metaphor: A robot (AI) pasting cheap stickers ("[Required]", "[MaxLength]") onto a high-quality sculpture (Domain).<br>   - The sculpture looks cheapened/messy.<br>3. Action: Pasting stickers.<br>4. Layout: Close-up. | ## 10) AIï¼ˆCopilot/Codexï¼‰ã«é ¼ã‚‹ã‚³ãƒ„ğŸ¤–ğŸ’ |
| 129 | docs/clean_cs_study_033.md | clean_cs_study_033_db_noise.png | ./picture/clean_cs_study_033_db_noise.png | **Theme**: DB Noise vs Core Silence<br><br>**Labels to Render**:<br>- Core: "Core (Zen)"<br>- DB: "DB Details"<br>- Noise: "SQL / Tables"<br>- Wall: "Boundary"<br><br>**Visual Details**:<br>1. Core Concept: Separation of concerns.<br>2. Metaphor: A split view.<br>   - Left: A zen garden (Core) with simple rocks (Entities).<br>   - Right: A noisy factory floor (DB details) with gears and smoke.<br>   - A soundproof glass wall separates them.<br>3. Action: Isolation.<br>4. Layout: Split view. | ## 2) ãªã‚“ã§ã€ŒDBã¯è©³ç´°ã€ãªã®ï¼ŸğŸ¤”ğŸ§© |
| 130 | docs/clean_cs_study_033.md | clean_cs_study_033_interface_contract.png | ./picture/clean_cs_study_033_interface_contract.png | **Theme**: The Interface Contract<br><br>**Labels to Render**:<br>- Contract: "IMemoRepository"<br>- Methods: "Add / Find"<br>- No SQL: "No SQL"<br>- Core: "Core"<br><br>**Visual Details**:<br>1. Core Concept: Defining the contract without implementation details.<br>2. Metaphor: A clean scroll or contract document.<br>   - It lists methods "Add", "Find", "Delete".<br>   - It has a stamp "Interface Only".<br>   - No technical terms like "Table" or "Query" appear.<br>3. Action: Static display.<br>4. Layout: Close-up of document. | ### 4-1. Coreå´ï¼šRepository â€œå£â€ ã‚’å®šç¾©ã™ã‚‹ï¼ˆinterfaceï¼‰ğŸ”Œ |
| 131 | docs/clean_cs_study_033.md | clean_cs_study_033_inmemory_box.png | ./picture/clean_cs_study_033_inmemory_box.png | **Theme**: InMemory Implementation<br><br>**Labels to Render**:<br>- Box: "InMemoryRepo"<br>- Speed: "Fast"<br>- Fragile: "Volatile"<br>- List: "List<Memo>"<br><br>**Visual Details**:<br>1. Core Concept: Lightweight, temporary storage.<br>2. Metaphor: A simple wooden box or open crate.<br>   - Items (Memos) are placed inside visibly.<br>   - It looks easy to carry but easy to spill (volatile).<br>3. Action: Storing items.<br>4. Layout: Object view. | ### 4-2. Adapterå´ï¼šã¾ãš InMemory å®Ÿè£…ã§å‹•ã‹ã™ ğŸ§¸âœ… |
| 132 | docs/clean_cs_study_033.md | clean_cs_study_033_efcore_vault.png | ./picture/clean_cs_study_033_efcore_vault.png | **Theme**: EF Core Implementation<br><br>**Labels to Render**:<br>- Vault: "EF Core Repo"<br>- Strong: "Persistent"<br>- DB: "SQL DB"<br>- Key: "DbContext"<br><br>**Visual Details**:<br>1. Core Concept: Heavy, persistent storage.<br>2. Metaphor: A heavy, reinforced steel vault.<br>   - Connected to a large database server.<br>   - Secure and permanent.<br>3. Action: Locking the vault.<br>4. Layout: Object view. | ## 5) ã„ã‚ˆã„ã‚ˆEF Coreå®Ÿè£…ï¼ˆæœ¬å‘½ã®Persistence Adapterï¼‰ğŸ§±ğŸ—„ï¸ |
| 133 | docs/clean_cs_study_033.md | clean_cs_study_033_di_switch.png | ./picture/clean_cs_study_033_di_switch.png | **Theme**: Dependency Injection Switch<br><br>**Labels to Render**:<br>- Switch: "DI Container"<br>- Mode A: "Dev (Memory)"<br>- Mode B: "Prod (EF Core)"<br>- Core: "UseCase"<br><br>**Visual Details**:<br>1. Core Concept: Swapping implementations easily.<br>2. Metaphor: A large electrical lever/switch.<br>   - Position A connects to the Wooden Box (InMemory).<br>   - Position B connects to the Steel Vault (EF Core).<br>   - The Core machine runs continuously without noticing the switch.<br>3. Action: Switching.<br>4. Layout: System diagram. | ## 6) DIã§â€œå·®ã—æ›¿ãˆâ€ã‚’å®Œæˆã•ã›ã‚‹ ğŸ§·âœ¨ |
| 134 | docs/clean_cs_study_033.md | clean_cs_study_033_toxic_leak.png | ./picture/clean_cs_study_033_toxic_leak.png | **Theme**: Leaking Abstractions<br><br>**Labels to Render**:<br>- Leak: "IQueryable / DbSet"<br>- Core: "Core Domain"<br>- Poison: "Dependency"<br>- Stop: "Don't!"<br><br>**Visual Details**:<br>1. Core Concept: Leaking DB details into Core.<br>2. Metaphor: A pipe labeled "IQueryable" leaking green sludge (SQL details) into a pristine white room (Core).<br>   - A warning sign "Keep Core Clean".<br>3. Action: Leaking.<br>4. Layout: Warning scene. | ## 7) ã‚ˆãã‚ã‚‹äº‹æ•…ãƒ‘ã‚¿ãƒ¼ãƒ³é›† ğŸš‘ğŸ’¥ï¼ˆã“ã“è¶…å¤§äº‹ï¼ï¼‰ |
| 135 | docs/clean_cs_study_034.md | clean_cs_study_034_separation_criteria.png | ./picture/clean_cs_study_034_separation_criteria.png | **Theme**: When to Separate Models<br><br>**Labels to Render**:<br>- Path 1: "Simple CRUD"<br>- Path 2: "Complex Domain"<br>- Sign: "Separation?"<br>- Goal: "Clean"<br><br>**Visual Details**:<br>1. Core Concept: Decision making based on complexity.<br>2. Metaphor: A fork in the road.<br>   - Left Path: "Simple CRUD" (Flat, easy path). Uses 1 model.<br>   - Right Path: "Complex Domain" (Steep, rocky path). Uses 2 models (Separated).<br>   - A signpost points to both.<br>3. Action: Choosing a path.<br>4. Layout: Landscape view. | ## 4) ã„ã¤ã€Œåˆ†ã‘ã‚‹ã€ã¹ãï¼Ÿåˆ†ã‘ãªã„ã§ã‚‚OKï¼ŸğŸ¤”âœ¨ |
| 136 | docs/clean_cs_study_034.md | clean_cs_study_034_mapper_bridge.png | ./picture/clean_cs_study_034_mapper_bridge.png | **Theme**: The Mapper Bridge<br><br>**Labels to Render**:<br>- Domain: "Domain Object"<br>- DB: "DB Row"<br>- Bridge: "Mapper"<br>- Convert: "Transform"<br><br>**Visual Details**:<br>1. Core Concept: Converting between two worlds.<br>2. Metaphor: A bridge connecting two distinct islands.<br>   - Left Island: "Domain" (Green, Organic). Holds a Gem (Entity).<br>   - Right Island: "DB" (Grid, Structured). Holds a Box (Row).<br>   - A "Mapper" figure on the bridge carries the Gem and puts it in the Box.<br>3. Action: Transporting/Converting.<br>4. Layout: Bridge scene. | ### 6-5) Mapperï¼ˆã“ã“ãŒæœ¬ç« ã®ä¸»å½¹ï¼‰ğŸ”ğŸŒŸ |
| 137 | docs/clean_cs_study_034.md | clean_cs_study_034_mapping_mines.png | ./picture/clean_cs_study_034_mapping_mines.png | **Theme**: Mapping Minefield<br><br>**Labels to Render**:<br>- Mine: "NULL"<br>- Mine: "Local Time"<br>- Mine: "DB ID"<br>- Safe Path: "Safe Mapping"<br><br>**Visual Details**:<br>1. Core Concept: Common pitfalls in mapping.<br>2. Metaphor: A character navigating a minefield.<br>   - Mines are labeled "NULL", "Local Time", "DB Defaults".<br>   - The character follows a safe path marked "Domain Rules".<br>3. Action: Carefully walking.<br>4. Layout: Danger scene. | ## 7) ãƒãƒƒãƒ”ãƒ³ã‚°ã®åœ°é›·ğŸ’£ã‚ã‚‹ã‚ã‚‹é›†ï¼ˆè¶…å¤§äº‹ï¼‰ğŸ˜±â¡ï¸ğŸ˜Œ |
| 138 | docs/clean_cs_study_034.md | clean_cs_study_034_value_converter.png | ./picture/clean_cs_study_034_value_converter.png | **Theme**: EF Core Value Converter<br><br>**Labels to Render**:<br>- Lens: "Value Converter"<br>- Input: "VO (Title)"<br>- Output: "String"<br>- EF: "EF Core"<br><br>**Visual Details**:<br>1. Core Concept: Automatic conversion within EF Core.<br>2. Metaphor: A magical lens or prism.<br>   - Light beam "VO (Title)" enters the lens.<br>   - The lens (Value Converter) refracts it.<br>   - Light beam "String" comes out the other side.<br>3. Action: Conversion.<br>4. Layout: Optical diagram. | ## 8) ã•ã‚‰ã«ä¸Šç´šï¼šVOã¯ã€Œå€¤å¤‰æ›ã€ã§ã‚‚æ‰±ãˆã‚‹ã‚ˆğŸª„ï¼ˆåˆ†ã‘ãªã„ãƒ«ãƒ¼ãƒˆï¼‰ |
| 139 | docs/clean_cs_study_034.md | clean_cs_study_034_round_trip_test.png | ./picture/clean_cs_study_034_round_trip_test.png | **Theme**: Round Trip Mapping Test<br><br>**Labels to Render**:<br>- Start: "Domain A"<br>- Mid: "Row"<br>- End: "Domain A'"<br>- Check: "Equal?"<br><br>**Visual Details**:<br>1. Core Concept: Verifying mapping integrity.<br>2. Metaphor: A luggage check cycle.<br>   - Step 1: A suitcase (Domain) goes into a machine.<br>   - Step 2: Turns into a box (Row).<br>   - Step 3: Turns back into a suitcase.<br>   - A detective compares the original and the final suitcase with a magnifying glass.<br>3. Action: Inspection.<br>4. Layout: Cycle view. | ## 9) ãƒ†ã‚¹ãƒˆã§å®ˆã‚‹ã¨å®‰å¿ƒğŸ§ªğŸ’–ï¼ˆãƒãƒƒãƒ”ãƒ³ã‚°ãƒ†ã‚¹ãƒˆï¼‰ |
| 140 | docs/clean_cs_study_035.md | clean_cs_study_035_fast_lane.png | ./picture/clean_cs_study_035_fast_lane.png | **Theme**: Fast Lane for Reads<br><br>**Labels to Render**:<br>- Slow Lane: "Domain Logic (Write)"<br>- Fast Lane: "Query (Read)"<br>- Entity: "Entity"<br>- DTO: "DTO"<br><br>**Visual Details**:<br>1. Core Concept: Bypassing heavy logic for reading.<br>2. Metaphor: A highway.<br>   - Slow Lane: Heavy trucks (Entities) stopping at a weigh station (Domain Rules).<br>   - Fast Lane: Sleek sports cars (DTOs) zooming past directly from DB to UI.<br>3. Action: Overtaking.<br>4. Layout: Highway view. | ### ğŸ”¥ ä¸€è¦§/æ¤œç´¢ï¼ˆQueryï¼‰ã¯ã€Domain Entityã‚’ç„¡ç†ã«é€šã•ãªãã¦ã„ã„å ´é¢ãŒå¤šã„ |
| 141 | docs/clean_cs_study_035.md | clean_cs_study_035_bloated_repo.png | ./picture/clean_cs_study_035_bloated_repo.png | **Theme**: Bloated Repository Accident<br><br>**Labels to Render**:<br>- Repo: "Repository"<br>- Methods: "SearchBy..."<br>- Overload: "Too Many!"<br>- Chaos: "Messy"<br><br>**Visual Details**:<br>1. Core Concept: Repository doing too much.<br>2. Metaphor: A character (Repository) trying to juggle 20 different balls labeled "SearchByDate", "SearchByTag", "SearchByKeyword", etc.<br>   - Dropping them and looking stressed.<br>3. Action: Juggling failure.<br>4. Layout: Character action. | ## 3) ã‚ˆãã‚ã‚‹äº‹æ•…ã‚ã‚‹ã‚ã‚‹ğŸ§¨ğŸ˜‚ |
| 142 | docs/clean_cs_study_035.md | clean_cs_study_035_query_gateway.png | ./picture/clean_cs_study_035_query_gateway.png | **Theme**: Query Gateway Pattern<br><br>**Labels to Render**:<br>- Repo: "Repository (Write)"<br>- Gateway: "Query Gateway (Read)"<br>- Tools: "Tools"<br>- Info: "Info"<br><br>**Visual Details**:<br>1. Core Concept: Separating Read and Write interfaces.<br>2. Metaphor: Two distinct service counters.<br>   - Left Counter (Repository): A workshop with tools (Hammer, Wrench) for modifying things.<br>   - Right Counter (Query Gateway): An information desk with books and glasses for looking up things.<br>3. Action: Separation of duties.<br>4. Layout: Split view. | ### ãƒ‘ã‚¿ãƒ¼ãƒ³â‘ ï¼š**Query UseCase + Query Gatewayï¼ˆãŠã™ã™ã‚ğŸ’¯ï¼‰** |
| 143 | docs/clean_cs_study_035.md | clean_cs_study_035_clean_request_response.png | ./picture/clean_cs_study_035_clean_request_response.png | **Theme**: Clean Request/Response<br><br>**Labels to Render**:<br>- In: "Request (Criteria)"<br>- Out: "Response (Summary)"<br>- Desk: "UseCase"<br>- Clean: "No EF Core"<br><br>**Visual Details**:<br>1. Core Concept: Pure DTOs in UseCase.<br>2. Metaphor: A tidy desk with two organize trays.<br>   - In Tray: A clean form labeled "Request".<br>   - Out Tray: A neat stack of papers labeled "Response".<br>   - No messy cables or machinery (EF Core) on the desk.<br>3. Action: Organizing.<br>4. Layout: Desk view. | ## 6) å®Ÿè£…ï¼šCoreå´ï¼ˆUseCasesï¼‰ã«ç½®ãã‚‚ã®ğŸ§ ğŸ“¦ |
| 144 | docs/clean_cs_study_035.md | clean_cs_study_035_read_model_projection.png | ./picture/clean_cs_study_035_read_model_projection.png | **Theme**: Read Model Projection<br><br>**Labels to Render**:<br>- Source: "Entity (Complex)"<br>- Light: "Select (Projection)"<br>- Shadow: "DTO (Simple)"<br>- View: "View"<br><br>**Visual Details**:<br>1. Core Concept: Projecting complex data to simple form.<br>2. Metaphor: A shadow puppet show.<br>   - Object: A complex, multi-faceted object (Entity) held up.<br>   - Light: A spotlight labeled "Select".<br>   - Shadow: A simple, clear 2D shape (DTO) cast on the wall for the audience (View).<br>3. Action: Projecting.<br>4. Layout: Light and shadow. | ## 7) å®Ÿè£…ï¼šAdapterå´ï¼ˆEF Coreï¼‰ã«ç½®ãã‚‚ã®ğŸ—„ï¸âš™ï¸ |
| 145 | docs/clean_cs_study_035.md | clean_cs_study_035_checklist.png | ./picture/clean_cs_study_035_checklist.png | **Theme**: Final Checklist<br><br>**Labels to Render**:<br>- List: "Checklist"<br>- Item 1: "No EF in Core"<br>- Item 2: "Read Model"<br>- Item 3: "No Tracking"<br>- Check: "OK"<br><br>**Visual Details**:<br>1. Core Concept: Verifying the implementation.<br>2. Metaphor: A clipboard with a checklist.<br>   - Items are checked off with a green marker.<br>   - Items: "No EF Types", "Read Model Return", "No Tracking".<br>3. Action: Checking off.<br>4. Layout: Close-up list. | ## 11) ç« æœ«ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆâœ…ğŸ” |
| 146 | docs/clean_cs_study_036.md | clean_cs_study_036_http_client_factory.png | ./picture/clean_cs_study_036_http_client_factory.png | **Theme**: IHttpClientFactory Connection Pool<br><br>**Labels to Render**:<br>- Factory: "Factory Manager"<br>- Pool: "Connection Pool"<br>- Worker: "HttpClient"<br>- Socket: "Socket"<br><br>**Visual Details**:<br>1. Core Concept: Efficient connection management.<br>2. Metaphor: A well-managed tool rental shop.<br>   - Manager (Factory) hands out clean, ready-to-use tools (HttpClients) from a pool.<br>   - Workers return them when done.<br>   - No pile of broken tools (Dead Sockets) lying around.<br>3. Action: Handing out tool.<br>4. Layout: Shop view. | ## HTTPå‘¼ã³å‡ºã—ã®â€œå®‰å…¨ãªåŸºæœ¬ã‚»ãƒƒãƒˆâ€ğŸ§°ğŸ’ª |
| 147 | docs/clean_cs_study_036.md | clean_cs_study_036_core_isolation.png | ./picture/clean_cs_study_036_core_isolation.png | **Theme**: Core Isolation from HTTP<br><br>**Labels to Render**:<br>- Room: "Core Room"<br>- Paper: "TagRequest"<br>- Noise: "HTTP / JSON / 404"<br>- Soundproof: "Interface Wall"<br><br>**Visual Details**:<br>1. Core Concept: Core is unaware of HTTP details.<br>2. Metaphor: A soundproof room.<br>   - Inside: A person working calmly with papers labeled "TagRequest" and "Result".<br>   - Outside: A chaotic storm of "JSON", "404", "Timeout" text.<br>   - The storm cannot penetrate the walls.<br>3. Action: Isolation.<br>4. Layout: Inside/Outside view. | ## 1) Coreå´ï¼šPortï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ï¼‰ã¨ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹ğŸ§ âœ¨ |
| 148 | docs/clean_cs_study_036.md | clean_cs_study_036_adapter_translator.png | ./picture/clean_cs_study_036_adapter_translator.png | **Theme**: Adapter as Translator (ACL)<br><br>**Labels to Render**:<br>- Left: "Core (C# Model)"<br>- Middle: "Adapter (Translator)"<br>- Right: "External (JSON)"<br>- Action: "Convert"<br><br>**Visual Details**:<br>1. Core Concept: Anti-Corruption Layer translation.<br>2. Metaphor: A translation booth.<br>   - Left: A person speaking "Core" (Clean shapes).<br>   - Right: A person speaking "JSON" (Brackets and quotes).<br>   - Middle: The Translator (Adapter) converting the messages real-time.<br>3. Action: Translating.<br>4. Layout: Side view. | ## 2) Adapterå´ï¼šHTTPå®Ÿè£…ï¼ˆå¤‰æ›ãƒ»ä¾‹å¤–æ•´ç†ãƒ»ãƒ­ã‚°ï¼‰ã‚’æ›¸ãğŸ“¡ğŸ› ï¸ |
| 149 | docs/clean_cs_study_036.md | clean_cs_study_036_resilience_armor.png | ./picture/clean_cs_study_036_resilience_armor.png | **Theme**: Resilience Armor<br><br>**Labels to Render**:<br>- Knight: "HttpClient"<br>- Shield: "Retry"<br>- Armor: "Circuit Breaker"<br>- Watch: "Timeout"<br><br>**Visual Details**:<br>1. Core Concept: Adding resilience to HTTP calls.<br>2. Metaphor: A knight preparing for battle.<br>   - Knight (HttpClient) putting on a shield labeled "Retry".<br>   - Wearing armor labeled "Circuit Breaker".<br>   - Checking a watch labeled "Timeout".<br>3. Action: Equipping.<br>4. Layout: Character focus. | ## 3) DIã§é…ç·šï¼šAddHttpClientï¼ˆtyped clientï¼‰ã‚’ä½¿ã†ğŸ§µâœ¨ |
| 150 | docs/clean_cs_study_036.md | clean_cs_study_036_http_pollution.png | ./picture/clean_cs_study_036_http_pollution.png | **Theme**: HTTP Pollution Accident<br><br>**Labels to Render**:<br>- Barrel: "HTTP Client"<br>- Spill: "JSON Sludge"<br>- Room: "UseCase"<br>- Mess: "Pollution"<br><br>**Visual Details**:<br>1. Core Concept: Leaking HTTP details into UseCase.<br>2. Metaphor: A toxic spill.<br>   - A barrel labeled "HTTP Client" has tipped over inside a nice room (UseCase).<br>   - Green "JSON Sludge" is spreading on the floor.<br>   - People in the room look horrified.<br>3. Action: Spilling.<br>4. Layout: Room scene. | ## ã‚ã‚ŠãŒã¡ãªäº‹æ•…ã‚ã‚‹ã‚ã‚‹ğŸ˜‡âš ï¸ï¼ˆè¶…ã ã„ã˜ï¼‰ |
| 151 | docs/clean_cs_study_037.md | clean_cs_study_037_mapping_scattered.png | ./picture/clean_cs_study_037_mapping_scattered.png | **Theme**: Scattered Mapping Accident<br><br>**Labels to Render**:<br>- Controller: "Controller Desk"<br>- Presenter: "Presenter Chair"<br>- Logic: "Mapping Logic"<br>- Mess: "Messy"<br><br>**Visual Details**:<br>1. Core Concept: Disorganized mapping code.<br>2. Metaphor: A messy workshop.<br>   - Tools labeled "Mapping Logic" are scattered everywhere: on the Controller desk, under the Presenter chair, on the floor.<br>   - A developer looks confused holding a piece of logic.<br>3. Action: Confusion.<br>4. Layout: Room view. | ## 2) Adapterå±¤ã§èµ·ããŒã¡ãªã€Œå¤‰æ›ã®æ•£ä¹±ã€ã‚ã‚‹ã‚ã‚‹ ğŸ˜µâ€ğŸ’«ğŸ’¥ |
| 152 | docs/clean_cs_study_037.md | clean_cs_study_037_three_baskets.png | ./picture/clean_cs_study_037_three_baskets.png | **Theme**: Three Types of Mapping<br><br>**Labels to Render**:<br>- Input: "Input (Web -> Core)"<br>- Output: "Output (Core -> Web)"<br>- Persist: "Persistence (Core <-> DB)"<br>- Sort: "Sort"<br><br>**Visual Details**:<br>1. Core Concept: Categorizing mapping tasks.<br>2. Metaphor: Three distinct colored baskets.<br>   - Blue Basket: "Input".<br>   - Red Basket: "Output".<br>   - Green Basket: "Persistence".<br>   - Data packets are being sorted into them.<br>3. Action: Sorting.<br>4. Layout: Object view. | ## 3) å¤‰æ›ã‚’3ç¨®é¡ã«åˆ†ã‘ã‚‹ã¨ä¸€æ°—ã«æ•´ç†ã§ãã‚‹ã‚ˆ ğŸ§ ğŸ” |
| 153 | docs/clean_cs_study_037.md | clean_cs_study_037_one_way_mirror.png | ./picture/clean_cs_study_037_one_way_mirror.png | **Theme**: Dependency Direction (One-Way Mirror)<br><br>**Labels to Render**:<br>- Outside: "Controller (Outer)"<br>- Inside: "Core (Inner)"<br>- Mirror: "Interface Wall"<br>- View: "One-Way"<br><br>**Visual Details**:<br>1. Core Concept: Core cannot see Outer layers.<br>2. Metaphor: A one-way mirror interrogation room.<br>   - Controller (Outside) looks through the glass and sees Core clearly.<br>   - Core (Inside) looks at the glass and sees only its own reflection (Interfaces), not the Controller.<br>3. Action: Viewing.<br>4. Layout: Split view. | ### 4-1. ä¾å­˜ã®å‘ããƒã‚§ãƒƒã‚¯ï¼ˆæœ€é‡è¦ï¼‰â¡ï¸â­• |
| 154 | docs/clean_cs_study_037.md | clean_cs_study_037_mapping_ledger.png | ./picture/clean_cs_study_037_mapping_ledger.png | **Theme**: Mapping Ledger<br><br>**Labels to Render**:<br>- Book: "Mapping Ledger"<br>- Col 1: "From"<br>- Col 2: "To"<br>- Col 3: "Location"<br><br>**Visual Details**:<br>1. Core Concept: Documenting mapping rules.<br>2. Metaphor: A large, open accounting ledger or logbook.<br>   - Columns are clearly visible: "From", "To", "Location".<br>   - Entries are written neatly.<br>   - A pen rests on the page.<br>3. Action: Static display.<br>4. Layout: Close-up of book. | ## 5) â€œå¤‰æ›ã®å°å¸³ï¼ˆã ã„ã¡ã‚‡ã†ï¼‰â€ã‚’ä½œã‚‹ã¨å‹ã¡ã‚„ã™ã„ã‚ˆ ğŸ“’ğŸ’– |
| 155 | docs/clean_cs_study_037.md | clean_cs_study_037_extension_tool.png | ./picture/clean_cs_study_037_extension_tool.png | **Theme**: Extension Method Tool<br><br>**Labels to Render**:<br>- Object: "DTO"<br>- Tool: ".ToRequest()"<br>- Result: "Request"<br>- Hand: "Controller"<br><br>**Visual Details**:<br>1. Core Concept: Using extension methods for clean conversion.<br>2. Metaphor: A magical attachment tool.<br>   - A hand (Controller) holds a grey box (DTO).<br>   - Attaches a glowing tool labeled ".ToRequest()".<br>   - The box instantly transforms into a shiny white sphere (Request).<br>3. Action: Transformation.<br>4. Layout: Action close-up. | ## 7) ã‚³ãƒ¼ãƒ‰ä¾‹ï¼šå¤‰æ›ã¯ã€Œæ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰ã€ã§ã¾ã¨ã‚ã‚‹ã®ãŒãƒ©ã‚¯ã ã‚ˆ ğŸ§©âœ¨ |
| 156 | docs/clean_cs_study_037.md | clean_cs_study_037_filter_net.png | ./picture/clean_cs_study_037_filter_net.png | **Theme**: Filter for Cross-Cutting Concerns<br><br>**Labels to Render**:<br>- Net: "Filter"<br>- Catch: "Logs / Errors"<br>- Pass: "Clean Request"<br>- Endpoint: "Endpoint"<br><br>**Visual Details**:<br>1. Core Concept: Filtering out noise before logic.<br>2. Metaphor: A fine net or sieve positioned before the Endpoint entrance.<br>   - Debris labeled "Logs" and "Exceptions" are caught in the net.<br>   - Clean water (Request) passes through to the Endpoint.<br>3. Action: Filtering.<br>4. Layout: Flow view. | ## 8) â€œè–„ã„Endpointâ€ã‚’ä¿ã¤å°ãƒ¯ã‚¶ï¼šFilterã§æ¨ªæ–­é–¢å¿ƒã‚’å¤–ã«å‡ºã™ ğŸ§¼ğŸª„ |
| 157 | docs/clean_cs_study_038.md | clean_cs_study_038_health_check.png | ./picture/clean_cs_study_038_health_check.png | **Theme**: 60-Second Health Check<br><br>**Labels to Render**:<br>- Scanner: "Dependency Scanner"<br>- Code: "using Microsoft.AspNetCore"<br>- Alert: "Warning!"<br>- Layer: "Core Project"<br><br>**Visual Details**:<br>1. Core Concept: Rapidly identifying bad dependencies.<br>2. Metaphor: A futuristic hand-held scanner scanning a code file.<br>   - The screen shows "Core Project".<br>   - It detects "using Microsoft.AspNetCore" and flashes a red "Warning!" light.<br>3. Action: Scanning.<br>4. Layout: Close-up of scanner. | ## 3) ã¾ãšæœ€åˆã«ã‚„ã‚‹ã€Œ60ç§’å¥åº·è¨ºæ–­ã€â±ï¸ğŸ©º |
| 158 | docs/clean_cs_study_038.md | clean_cs_study_038_controller_bypass.png | ./picture/clean_cs_study_038_controller_bypass.png | **Theme**: Controller Bypassing Layers<br><br>**Labels to Render**:<br>- Thief: "Controller"<br>- Wall: "Boundary"<br>- Safe: "DB (DbContext)"<br>- Guard: "UseCase"<br><br>**Visual Details**:<br>1. Core Concept: Controller accessing DB directly.<br>2. Metaphor: A thief (Controller) using a drill to cut through a wall (Boundary) to access a Safe (DB) directly.<br>   - The Guard (UseCase) standing at the door is ignored/bypassed.<br>3. Action: Breaking and entering.<br>4. Layout: Scene view. | ### â‘  Controller ãŒ DbContext ç›´å©ã ğŸ—¡ï¸ğŸ—„ï¸ï¼ˆæœ€é »å‡ºï¼‰ |
| 159 | docs/clean_cs_study_038.md | clean_cs_study_038_web_pollution.png | ./picture/clean_cs_study_038_web_pollution.png | **Theme**: Web Pollution in UseCase<br><br>**Labels to Render**:<br>- Chef: "UseCase"<br>- Tray: "IActionResult"<br>- Kitchen: "Core"<br>- Confusion: "?"<br><br>**Visual Details**:<br>1. Core Concept: Web types leaking into UseCase.<br>2. Metaphor: A chef (UseCase) in a kitchen.<br>   - Instead of cooking, the chef is trying to balance a waiter's tray labeled "IActionResult".<br>   - The chef looks confused and out of place.<br>3. Action: Wrong job.<br>4. Layout: Character focus. | ### â‘¡ UseCase ãŒ `IActionResult` / `HttpContext` ã‚’è¿”ã™ ğŸŒâŒ |
| 160 | docs/clean_cs_study_038.md | clean_cs_study_038_attribute_scars.png | ./picture/clean_cs_study_038_attribute_scars.png | **Theme**: Attribute Scars on Domain<br><br>**Labels to Render**:<br>- Statue: "Domain Entity"<br>- Graffiti: "[Key] / [Table]"<br>- Spray: "EF Core"<br>- Dirty: "Polluted"<br><br>**Visual Details**:<br>1. Core Concept: Attributes polluting domain entities.<br>2. Metaphor: A classical marble statue (Domain Entity).<br>   - It is covered in neon graffiti tags: "[Key]", "[Required]", "[Column]".<br>   - A spray can labeled "EF Core" lies on the ground.<br>3. Action: Vandalism.<br>4. Layout: Close-up of statue. | ### â‘¢ Domain Entity ã« `[Key]` / `[Table]` / EFã®å±æ€§ãŒä»˜ã ğŸ§¼âŒ |
| 161 | docs/clean_cs_study_038.md | clean_cs_study_038_arch_unit_turret.png | ./picture/clean_cs_study_038_arch_unit_turret.png | **Theme**: ArchUnitNET Turret<br><br>**Labels to Render**:<br>- Turret: "ArchUnitNET"<br>- Target: "Dependency Violation"<br>- Laser: "Test Failed"<br>- Shield: "Architecture"<br><br>**Visual Details**:<br>1. Core Concept: Automated defense of architecture.<br>2. Metaphor: An automated defense turret.<br>   - It detects an intruder labeled "Dependency Violation" (Red Robot).<br>   - It fires a laser beam labeled "Test Failed".<br>   - Protecting a glowing core labeled "Architecture".<br>3. Action: Defense.<br>4. Layout: Action scene. | ## 6) â€œé•åã‚’è‡ªå‹•ã§è¦‹ã¤ã‘ã‚‹â€ ã‚’ã¡ã‚‡ã„å‘³è¦‹ ğŸ­ğŸ¤– |
| 162 | docs/clean_cs_study_039.md | clean_cs_study_039_web_framework_layer.png | ./picture/clean_cs_study_039_web_framework_layer.png | **Theme**: Web Framework as Outer Shell<br><br>**Labels to Render**:<br>- Core: "Core (Inner)"<br>- Web: "Web Framework (Outer)"<br>- Changes: "Changes"<br><br>**Visual Details**:<br>1. Core Concept: The Web Framework is just an outer shell.<br>2. Metaphor: A sturdy castle (Core) surrounded by a chaotic, changing storm (Web Framework).<br>3. Action: The storm does not touch the castle.<br>4. Layout: Center focus. | ## 1. ã“ã®ç« ã®ã‚´ãƒ¼ãƒ«ğŸ¯âœ¨ |
| 163 | docs/clean_cs_study_039.md | clean_cs_study_039_dependency_rule.png | ./picture/clean_cs_study_039_dependency_rule.png | **Theme**: Dependency Rule<br><br>**Labels to Render**:<br>- Web: "Web"<br>- Core: "Core"<br>- Arrow: "Dependency"<br><br>**Visual Details**:<br>1. Core Concept: Dependencies point inward.<br>2. Metaphor: Arrows flying from the outer ring (Web) towards the center (Core), but bouncing off or stopping at the boundary.<br>3. Action: One-way flow.<br>4. Layout: Concentric circles. | ## 2. ãªãœã€ŒWebã¯æœ€å¤–å‘¨ã€ãªã®ï¼ŸğŸ¤”ğŸŒªï¸ |
| 164 | docs/clean_cs_study_039.md | clean_cs_study_039_pollution_accident.png | ./picture/clean_cs_study_039_pollution_accident.png | **Theme**: Web Pollution Accident<br><br>**Labels to Render**:<br>- Core: "Core"<br>- HttpContext: "HttpContext"<br>- Pollution: "Pollution"<br><br>**Visual Details**:<br>1. Core Concept: Contamination of Core with Web types.<br>2. Metaphor: A clean white room (Core) being splattered with green slime labeled "HttpContext" and "IActionResult".<br>3. Action: Spilling/Contaminating.<br>4. Layout: Room scene. | ## 3. ã‚ã‚ŠãŒã¡ãªäº‹æ•…ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆæœ€å¤–å‘¨ã‚’å®ˆã‚Œãªã„ã¨ã“ã†ãªã‚‹ï¼‰ğŸ’¥ğŸ˜‡ |
| 165 | docs/clean_cs_study_039.md | clean_cs_study_039_core_adapter_web.png | ./picture/clean_cs_study_039_core_adapter_web.png | **Theme**: Core-Adapter-Web Structure<br><br>**Labels to Render**:<br>- Core: "Core"<br>- Adapter: "Adapter"<br>- Web: "Web"<br><br>**Visual Details**:<br>1. Core Concept: The three main layers.<br>2. Metaphor: A layered cake or onion.<br>   - Inner Layer: Core (Solid).<br>   - Middle Layer: Adapter (Bridge).<br>   - Outer Layer: Web (Soft/Changeable).<br>3. Action: Static structural view.<br>4. Layout: Layered view. | ## 4. æ­£ã—ã„å½¢ã®ã‚¤ãƒ¡ãƒ¼ã‚¸å›³ğŸ§ â­•ï¼ˆã–ã£ãã‚Šã§OKï¼‰ |
| 166 | docs/clean_cs_study_039.md | clean_cs_study_039_web_types_barrier.png | ./picture/clean_cs_study_039_web_types_barrier.png | **Theme**: Blocking Web Types<br><br>**Labels to Render**:<br>- Guard: "Dependency Rule"<br>- Stop: "Stop"<br>- Allowed: "Primitive/POCO"<br>- Blocked: "HttpContext"<br><br>**Visual Details**:<br>1. Core Concept: Filtering types at the boundary.<br>2. Metaphor: A security scanner.<br>   - "String" and "Int" pass through green.<br>   - "HttpContext" and "Controller" trigger a red alarm and are blocked.<br>3. Action: Scanning/Blocking.<br>4. Layout: Gate view. | ## 5. â€œæœ€å¤–å‘¨â€ã«Webã‚’é–‰ã˜ã‚‹ãŸã‚ã®å®Ÿè£…ãƒ«ãƒ¼ãƒ«7ã¤ğŸ“Œâœ¨ |
| 167 | docs/clean_cs_study_039.md | clean_cs_study_039_minimal_api_flow.png | ./picture/clean_cs_study_039_minimal_api_flow.png | **Theme**: Minimal API Flow<br><br>**Labels to Render**:<br>- Web: "Web (Minimal API)"<br>- DTO: "DTO"<br>- Adapter: "Adapter"<br>- Core: "Core (UseCase)"<br><br>**Visual Details**:<br>1. Core Concept: Data flow from Web to Core.<br>2. Metaphor: A factory conveyor belt.<br>   - Raw material (DTO) enters.<br>   - Machine (Adapter) processes it.<br>   - Finished part (RequestModel) enters the Core room.<br>3. Action: Processing flow.<br>4. Layout: Left to right. | ## 6. ãƒŸãƒ‹å®Ÿè£…ä¾‹ï¼ˆMinimal APIã§â€œå¤–å´ã«é–‰ã˜ã‚‹â€ï¼‰ğŸ§©âœ¨ |
| 168 | docs/clean_cs_study_039.md | clean_cs_study_039_swappable_inputs.png | ./picture/clean_cs_study_039_swappable_inputs.png | **Theme**: Swappable Inputs<br><br>**Labels to Render**:<br>- Core: "Core (UseCase)"<br>- Web: "Web"<br>- Console: "Console"<br>- Worker: "Worker"<br><br>**Visual Details**:<br>1. Core Concept: Multiple inputs for the same Core.<br>2. Metaphor: A universal power socket (Core).<br>   - Different plugs (Web, Console, Worker) can all plug into it.<br>   - The Core works regardless of the plug.<br>3. Action: Plugging in.<br>4. Layout: Hub and spoke. | ## 7. â€œWebã‚’äº¤æ›ã§ãã‚‹â€ã¨ä½•ãŒå¬‰ã—ã„ï¼Ÿï¼ˆè¶…ä½“æ„Ÿã‚³ãƒ¼ãƒŠãƒ¼ï¼‰ğŸ˜†ğŸ” |
| 169 | docs/clean_cs_study_040.md | clean_cs_study_040_di_elements.png | ./picture/clean_cs_study_040_di_elements.png | **Theme**: The 4 Elements of DI<br><br>**Labels to Render**:<br>- Interface: "Interface (Core)"<br>- Impl: "Implementation (Outer)"<br>- Register: "Registration (Map)"<br>- Inject: "Constructor (Gift)"<br><br>**Visual Details**:<br>1. Core Concept: The four pillars of DI.<br>2. Metaphor: Four iconic items arranged in a square.<br>   - Top-Left: A scroll (Interface).<br>   - Top-Right: A wrench (Implementation).<br>   - Bottom-Left: A wiring diagram (Registration).<br>   - Bottom-Right: A gift box (Constructor).<br>3. Action: Static display.<br>4. Layout: Grid view. | ## 2) â€œDIã®å‹â€ ã¯ã“ã‚Œã ã‘è¦šãˆã‚Œã°OKğŸ‘ŒğŸ’• |
| 170 | docs/clean_cs_study_040.md | clean_cs_study_040_repo_swap.png | ./picture/clean_cs_study_040_repo_swap.png | **Theme**: Repository Swap<br><br>**Labels to Render**:<br>- Slot: "IMemoRepository"<br>- Mod A: "InMemory"<br>- Mod B: "SQL Database"<br>- Core: "Core"<br><br>**Visual Details**:<br>1. Core Concept: Swapping implementations.<br>2. Metaphor: A game console cartridge slot (Core/Interface).<br>   - A light cartridge (InMemory) is being removed.<br>   - A heavy, metallic cartridge (SQL Database) is ready to be inserted.<br>3. Action: Swapping.<br>4. Layout: Action close-up. | ## 3) ãƒãƒ³ã‚ºã‚ªãƒ³ï¼šRepositoryå·®ã—æ›¿ãˆã‚’DIã§ã‚„ã£ã¦ã¿ã‚ˆã€œï¼ğŸ§ªğŸ® |
| 171 | docs/clean_cs_study_040.md | clean_cs_study_040_constructor_injection.png | ./picture/clean_cs_study_040_constructor_injection.png | **Theme**: Constructor Injection<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Constructor: "Constructor"<br>- Dep: "Dependency"<br>- New: "No 'New'"<br><br>**Visual Details**:<br>1. Core Concept: Dependencies are passed in, not created.<br>2. Metaphor: A robot (UseCase) with an open chest panel (Constructor).<br>   - An external hand is placing a battery (Dependency) into the chest.<br>   - A "No New" sign is visible.<br>3. Action: Insertion.<br>4. Layout: Character close-up. | ### 3-2) UseCaseã¯ã€Œinterfaceã€ã‚’ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§å—ã‘å–ã‚‹ğŸâœ¨ |
| 172 | docs/clean_cs_study_040.md | clean_cs_study_040_lifetimes.png | ./picture/clean_cs_study_040_lifetimes.png | **Theme**: DI Lifetimes<br><br>**Labels to Render**:<br>- Singleton: "Singleton (Forever)"<br>- Scoped: "Scoped (Request)"<br>- Transient: "Transient (Instant)"<br><br>**Visual Details**:<br>1. Core Concept: Three types of service lifetimes.<br>2. Metaphor: Three characters.<br>   - Singleton: An ancient, immortal wizard.<br>   - Scoped: A waiter serving one table (Request).<br>   - Transient: A bubble popping instantly.<br>3. Action: Character comparison.<br>4. Layout: Three panels. | ## 4) ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ï¼ˆSingleton / Scoped / Transientï¼‰ã§äº‹æ•…ã‚‰ãªã„ã‚³ãƒ„ğŸ§¯ğŸ˜µâ€ğŸ’« |
| 173 | docs/clean_cs_study_040.md | clean_cs_study_040_dev_prod_switch.png | ./picture/clean_cs_study_040_dev_prod_switch.png | **Theme**: Dev vs Prod Switch<br><br>**Labels to Render**:<br>- Switch: "Env Switch"<br>- Dev: "Dev (Memory)"<br>- Prod: "Prod (DB)"<br>- App: "App (No Change)"<br><br>**Visual Details**:<br>1. Core Concept: Changing behavior via configuration.<br>2. Metaphor: A large lever/switch.<br>   - Toggled to "Dev": Connects to a light wooden box (Memory).<br>   - Toggled to "Prod": Connects to a heavy safe (DB).<br>   - The App Machine remains untouched.<br>3. Action: Switching.<br>4. Layout: Machine view. | ## 5) å®Ÿè£…ã®å·®ã—æ›¿ãˆï¼šé–‹ç™ºã¯InMemoryã€æœ¬ç•ªã¯DBğŸª„ğŸ—ï¸ |
| 174 | docs/clean_cs_study_040.md | clean_cs_study_040_keyed_services.png | ./picture/clean_cs_study_040_keyed_services.png | **Theme**: Keyed Services<br><br>**Labels to Render**:<br>- Key A: "Fast"<br>- Key B: "Audit"<br>- Lock: "IMemoRepository"<br>- Service: "DI"<br><br>**Visual Details**:<br>1. Core Concept: Multiple implementations with keys.<br>2. Metaphor: A keychain holding two distinct keys.<br>   - Key "Fast" (Silver, sleek).<br>   - Key "Audit" (Gold, heavy).<br>   - Both fit the same lock shape (IMemoRepository).<br>3. Action: Selecting a key.<br>4. Layout: Object view. | ## 6) â€œè¤‡æ•°å®Ÿè£…â€ ã‚’åŒæ™‚ã«ä½¿ã„ãŸã„æ™‚ï¼šKeyed ServicesğŸ”‘âœ¨ |
| 175 | docs/clean_cs_study_040.md | clean_cs_study_040_circular_dependency.png | ./picture/clean_cs_study_040_circular_dependency.png | **Theme**: Circular Dependency<br><br>**Labels to Render**:<br>- A: "Service A"<br>- B: "Service B"<br>- Error: "Cycle Error"<br>- Loop: "Infinite"<br><br>**Visual Details**:<br>1. Core Concept: A depending on B, B depending on A.<br>2. Metaphor: Ouroboros (Snake eating tail).<br>   - Snake A is biting Snake B's tail.<br>   - Snake B is biting Snake A's tail.<br>   - Forming an infinite loop.<br>3. Action: Looping.<br>4. Layout: Circle. | ## 8) ã‚ˆãã‚ã‚‹DIã‚¨ãƒ©ãƒ¼ã¨å³æ­»å›é¿ğŸ’¥â¡ï¸ğŸ§¯ |
| 176 | docs/clean_cs_study_041.md | clean_cs_study_041_centralized_vs_scattered.png | ./picture/clean_cs_study_041_centralized_vs_scattered.png | **Theme**: Centralized vs Scattered Wiring<br><br>**Labels to Render**:<br>- Scattered: "Scattered (Chaos)"<br>- Centralized: "Composition Root (Order)"<br>- Risk: "Bug Risk"<br>- Safe: "Safe"<br><br>**Visual Details**:<br>1. Core Concept: Benefits of centralization.<br>2. Metaphor: Wiring in a building.<br>   - Left: Wires hanging from ceilings, tripping people, sparking (Scattered).<br>   - Right: A neat, organized server rack or fuse box (Centralized).<br>3. Action: Comparison.<br>4. Layout: Split view. | ## 2) ãªã‚“ã§ã€Œ1ç®‡æ‰€ã€ã«ã“ã ã‚ã‚‹ã®ï¼ŸğŸ¥ºğŸ§¯ |
| 177 | docs/clean_cs_study_041.md | clean_cs_study_041_program_cs_hub.png | ./picture/clean_cs_study_041_program_cs_hub.png | **Theme**: Program.cs Hub<br><br>**Labels to Render**:<br>- Hub: "Program.cs"<br>- Input 1: "Core"<br>- Input 2: "Infra"<br>- Input 3: "Web"<br>- Output: "App"<br><br>**Visual Details**:<br>1. Core Concept: Entry point aggregating everything.<br>2. Metaphor: A central station or roundabout.<br>   - Roads from "Core", "Infra", "Web" all converge at "Program.cs".<br>   - A single road "App" exits.<br>3. Action: Convergence.<br>4. Layout: Radial or Network. | ## 3) ASP.NET Coreï¼ˆæœ€æ–°ï¼‰ã ã¨Composition Rootã¯ã©ã“ï¼ŸğŸŒğŸ§µ |
| 178 | docs/clean_cs_study_041.md | clean_cs_study_041_matchmaker.png | ./picture/clean_cs_study_041_matchmaker.png | **Theme**: Composition Root Matchmaker<br><br>**Labels to Render**:<br>- Matchmaker: "Composition Root"<br>- Interface: "Interface (Core)"<br>- Impl: "Implementation (Infra)"<br>- Link: "DI"<br><br>**Visual Details**:<br>1. Core Concept: Connecting decoupled layers.<br>2. Metaphor: A wedding officiant (Composition Root).<br>   - Joining hands of "Interface" (Bride/Groom) and "Implementation" (Partner).<br>   - They are blindfolded (don't know details) but connected by the Officiant.<br>3. Action: Connecting.<br>4. Layout: Character scene. | ## 4) ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­çš„ã«ã€Œç¬¬41ç« ã€ãŒè¶…é‡è¦ãªç†ç”± ğŸ›ï¸ğŸ’˜ |
| 179 | docs/clean_cs_study_041.md | clean_cs_study_041_registration_flow.png | ./picture/clean_cs_study_041_registration_flow.png | **Theme**: DI Registration Flow<br><br>**Labels to Render**:<br>- Container: "DI Container"<br>- Interface: "IMemoRepository"<br>- Impl: "EfMemoRepository"<br>- Action: "AddScoped"<br><br>**Visual Details**:<br>1. Core Concept: Mapping Interface to Implementation.<br>2. Metaphor: A puzzle piece fitting.<br>   - Interface piece (Hollow shape).<br>   - Implementation piece (Solid shape).<br>   - Being snapped together inside a box labeled "DI Container".<br>3. Action: Snapping together.<br>4. Layout: Close-up. | ## 5) å®Ÿè£…ã®åŸºæœ¬å½¢ï¼ˆProgram.csã«é›†ç´„ï¼‰ğŸ§µâœ… |
| 180 | docs/clean_cs_study_041.md | clean_cs_study_041_extension_method_boxes.png | ./picture/clean_cs_study_041_extension_method_boxes.png | **Theme**: Organizing with Extension Methods<br><br>**Labels to Render**:<br>- Main: "Program.cs"<br>- Box 1: "AddUseCases"<br>- Box 2: "AddInfra"<br>- Box 3: "AddWeb"<br>- Tidy: "Tidy"<br><br>**Visual Details**:<br>1. Core Concept: Grouping registrations.<br>2. Metaphor: Organizing a large messy drawer.<br>   - Instead of loose items, there are 3 neat boxes inside the drawer.<br>   - Labels clearly show contents.<br>3. Action: Organization.<br>4. Layout: Top-down view. | ## 6) ã§ã‚‚Program.csãŒå¤ªã‚‹â€¦ï¼ã©ã†ã™ã‚‹ï¼ŸğŸ˜µâ€ğŸ’«â¡ï¸ã‚¹ãƒƒã‚­ãƒªè¡“âœ¨ |
| 181 | docs/clean_cs_study_041.md | clean_cs_study_041_service_locator_trap.png | ./picture/clean_cs_study_041_service_locator_trap.png | **Theme**: Service Locator Trap<br><br>**Labels to Render**:<br>- Trap: "Service Locator"<br>- Action: "GetService()"<br>- Danger: "Hidden Dependency"<br>- Bait: "Easy Access"<br><br>**Visual Details**:<br>1. Core Concept: The danger of fetching services manually.<br>2. Metaphor: A bear trap baited with "Easy Access".<br>   - A hand labeled "GetService()" is reaching for it.<br>   - The trap is ready to snap.<br>3. Action: Danger.<br>4. Layout: Close-up. | ## 8) â€œã‚„ã£ã¡ã‚ƒãƒ€ãƒ¡â€é›†ï¼ˆComposition Rooté•åï¼‰ğŸš«ğŸ˜± |
| 182 | docs/clean_cs_study_041.md | clean_cs_study_041_one_file_checklist.png | ./picture/clean_cs_study_041_one_file_checklist.png | **Theme**: One File Checklist<br><br>**Labels to Render**:<br>- File: "Program.cs"<br>- Check 1: "UseCases OK"<br>- Check 2: "Infra OK"<br>- Trace: "Traceable"<br><br>**Visual Details**:<br>1. Core Concept: Verify centralization.<br>2. Metaphor: A magnifying glass following a line on a map.<br>   - The line starts at "Program.cs" and goes to all dependencies.<br>   - Green checkmarks along the path.<br>3. Action: Tracing.<br>4. Layout: Map/Path view. | ## 9) ãƒŸãƒ‹èª²é¡Œï¼šDIç™»éŒ²ã‚’ã€Œ1ãƒ•ã‚¡ã‚¤ãƒ«ã«é›†ç´„ã€ã—ã¦äº‹æ•…ã‚’æ¶ˆã™ğŸ§¹âœ¨ |
| 183 | docs/clean_cs_study_042.md | clean_cs_study_042_blindfolded_core.png | ./picture/clean_cs_study_042_blindfolded_core.png | **Theme**: Core Unaware of DB<br><br>**Labels to Render**:<br>- Core: "Core (Pure)"<br>- DB: "DB (Complex)"<br>- Blindfold: "Unaware"<br><br>**Visual Details**:<br>1. Core Concept: Core does not know about the Database.<br>2. Metaphor: A clean, serene character (Core) wearing a blindfold.<br>   - Next to them is a complex, noisy machine (DB).<br>   - The Core character is smiling and peaceful, completely ignoring the machine.<br>3. Action: Ignoring.<br>4. Layout: Character duo. | ## 1) ã“ã®ç« ã®ã‚´ãƒ¼ãƒ«ğŸ¯ğŸ’– |
| 184 | docs/clean_cs_study_042.md | clean_cs_study_042_three_boxes_architecture.png | ./picture/clean_cs_study_042_three_boxes_architecture.png | **Theme**: Three Project Boxes<br><br>**Labels to Render**:<br>- Box 1: "Core (Pure C#)"<br>- Box 2: "Infrastructure (EF Core)"<br>- Box 3: "Web (Config/DI)"<br><br>**Visual Details**:<br>1. Core Concept: Separation of projects.<br>2. Metaphor: Three distinct boxes.<br>   - Core: Transparent box with a glowing crystal (Entities).<br>   - Infrastructure: Heavy metal box with tools (Hammer, Wrench).<br>   - Web: Control box with switches and wires.<br>3. Action: Static display.<br>4. Layout: Row of boxes. | ## 3) ç½®ãå ´æ‰€ã®é‰„æ¿ãƒ‘ã‚¿ãƒ¼ãƒ³ğŸ âœ¨ï¼ˆã–ã£ãã‚Šå›³ï¼‰ |
| 185 | docs/clean_cs_study_042.md | clean_cs_study_042_interface_baton.png | ./picture/clean_cs_study_042_interface_baton.png | **Theme**: Interface Baton Relay<br><br>**Labels to Render**:<br>- Runner 1: "Core"<br>- Baton: "Interface"<br>- Runner 2: "Infrastructure"<br>- Shoes: "EF Core"<br><br>**Visual Details**:<br>1. Core Concept: Passing the contract.<br>2. Metaphor: A relay race.<br>   - Runner 1 (Core) in clean sportswear passes a baton labeled "Interface".<br>   - Runner 2 (Infrastructure) in heavy work boots (labeled "EF Core") receives it.<br>3. Action: Passing baton.<br>4. Layout: Action scene. | ## 4) å®Ÿè£…ã§ã‚„ã‚‹ã“ã¨ï¼ˆæœ€çŸ­ãƒ«ãƒ¼ãƒˆï¼‰ğŸƒâ€â™€ï¸ğŸ’¨ |
| 186 | docs/clean_cs_study_042.md | clean_cs_study_042_connection_string_safe.png | ./picture/clean_cs_study_042_connection_string_safe.png | **Theme**: Connection String Safe<br><br>**Labels to Render**:<br>- Safe: "App Settings"<br>- Content: "Connection String"<br>- Key: "Secret"<br>- Outside: "External"<br><br>**Visual Details**:<br>1. Core Concept: Secrets belong outside code.<br>2. Metaphor: A secure steel safe.<br>   - Inside is a glowing scroll "Connection String".<br>   - The safe is placed outside the "Code Factory" building.<br>3. Action: Secure storage.<br>4. Layout: Object view. | ### 4-3. Webï¼ˆComposition Rootï¼‰ï¼šDIã¨è¨­å®šå€¤ã¯ã“ã“ã§é…ç·šğŸ§µâœ¨ |
| 187 | docs/clean_cs_study_042.md | clean_cs_study_042_migration_truck.png | ./picture/clean_cs_study_042_migration_truck.png | **Theme**: External Migrations<br><br>**Labels to Render**:<br>- Truck: "Migrations"<br>- House: "Core App"<br>- Fence: "Boundary"<br><br>**Visual Details**:<br>1. Core Concept: Migrations are separate from the app logic.<br>2. Metaphor: A moving truck labeled "Migrations Project".<br>   - It is working on the road, outside the fence of the nice house (Core App).<br>   - It doesn't drive onto the lawn.<br>3. Action: Working outside.<br>4. Layout: Landscape view. | ## 5) ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯â€œå¤–å´ã®éƒ½åˆâ€ãã®ã‚‚ã®ğŸššğŸ§± |
| 188 | docs/clean_cs_study_042.md | clean_cs_study_042_lifetime_battery.png | ./picture/clean_cs_study_042_lifetime_battery.png | **Theme**: DbContext Lifetime Battery<br><br>**Labels to Render**:<br>- Device: "Core Logic"<br>- Battery A: "Scoped (Standard)"<br>- Battery B: "Factory (Long)"<br>- Swap: "Swappable"<br><br>**Visual Details**:<br>1. Core Concept: Swapping lifetimes without changing logic.<br>2. Metaphor: A handheld device (Core Logic).<br>   - It has a battery slot.<br>   - Two different battery packs: "Scoped" and "Factory".<br>   - They both fit the slot perfectly.<br>3. Action: Swapping battery.<br>4. Layout: Object view. | ## 6) DbContextã®å¯¿å‘½å•é¡Œã‚‚â€œå¤–å´ã§å¸åâ€ã§ãã‚‹ğŸ§¯âœ¨ |
| 189 | docs/clean_cs_study_042.md | clean_cs_study_042_contamination_stickers.png | ./picture/clean_cs_study_042_contamination_stickers.png | **Theme**: Entity Contamination<br><br>**Labels to Render**:<br>- Entity: "Domain Entity"<br>- Sticker 1: "[Table]"<br>- Sticker 2: "[Key]"<br>- Sticker 3: "[Required]"<br>- Ruined: "Polluted"<br><br>**Visual Details**:<br>1. Core Concept: Attributes pollute the domain.<br>2. Metaphor: A beautiful classical statue (Entity).<br>   - It is covered in cheap, neon stickers labeled "[Table]", "[Key]", "[ForeignKey]".<br>   - Looking cheap and ruined.<br>3. Action: Vandalism.<br>4. Layout: Close-up. | ## 7) ã‚ˆãã‚ã‚‹äº‹æ•…ãƒ‘ã‚¿ãƒ¼ãƒ³ğŸš¨ï¼ˆç§’ã§è¨ºæ–­ã§ãã‚‹ï¼‰ |
| 190 | docs/clean_cs_study_043.md | clean_cs_study_043_test_shield.png | ./picture/clean_cs_study_043_test_shield.png | **Theme**: Invariant Shield<br><br>**Labels to Render**:<br>- Knight: "Entity"<br>- Shield: "Invariants"<br>- Arrow: "Invalid Data"<br>- Safe: "Protected"<br><br>**Visual Details**:<br>1. Core Concept: Tests protect the domain rules.<br>2. Metaphor: A knight (Entity) holding a glowing shield (Invariants).<br>   - Dark arrows labeled "Null", "Empty", "TooLong" bounce off the shield.<br>   - The knight remains unharmed.<br>3. Action: Protection.<br>4. Layout: Action scene. | ## ã“ã®ç« ã®ã‚´ãƒ¼ãƒ«ğŸ¯âœ¨ |
| 191 | docs/clean_cs_study_043.md | clean_cs_study_043_memo_blueprint_constraints.png | ./picture/clean_cs_study_043_memo_blueprint_constraints.png | **Theme**: Memo Constraints Blueprint<br><br>**Labels to Render**:<br>- Blueprint: "Memo Specification"<br>- Rule 1: "Title Not Empty"<br>- Rule 2: "Max 100 Chars"<br>- Rule 3: "Unique Tags"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing the domain rules.<br>2. Metaphor: A technical blueprint.<br>   - A drawing of a Memo object.<br>   - Red dimension lines and warning signs indicate the constraints (Max 100, No Empty).<br>3. Action: Static display.<br>4. Layout: Blueprint style. | ## ã¾ãšã¯é¡Œæï¼šMemoã®Entitiesã‚’â€œæœ€å°â€ã§ç”¨æ„ã—ã‚ˆã†ğŸ“âœ¨ |
| 192 | docs/clean_cs_study_043.md | clean_cs_study_043_vo_microscope.png | ./picture/clean_cs_study_043_vo_microscope.png | **Theme**: VO Microscope Inspection<br><br>**Labels to Render**:<br>- Lens: "Test Case"<br>- Object: "Value Object"<br>- Ruler: "Length Check"<br>- Result: "Pass/Fail"<br><br>**Visual Details**:<br>1. Core Concept: Testing boundary values.<br>2. Metaphor: A scientist looking through a microscope at a gem (VO).<br>   - The view shows a ruler measuring the gem's edge.<br>   - "100" is marked Green (Pass).<br>   - "101" is marked Red (Fail).<br>3. Action: Inspection.<br>4. Layout: Zoom view. | ## ãƒ†ã‚¹ãƒˆä¾‹ï¼šValue Object ã®ãƒ†ã‚¹ãƒˆğŸ’ğŸ§ªâœ¨ï¼ˆä¸€ç•ªãŠã„ã—ã„æ‰€ï¼‰ |
| 193 | docs/clean_cs_study_043.md | clean_cs_study_043_behavior_sequence.png | ./picture/clean_cs_study_043_behavior_sequence.png | **Theme**: Entity Behavior Sequence<br><br>**Labels to Render**:<br>- State 1: "Title: Old"<br>- Action: "Rename('New')"<br>- State 2: "Title: New"<br><br>**Visual Details**:<br>1. Core Concept: State transition testing.<br>2. Metaphor: A three-step comic.<br>   - Panel 1: Memo character holding a sign "Old".<br>   - Panel 2: A hand applying a stamp "Rename".<br>   - Panel 3: Memo character holding a sign "New".<br>3. Action: Transformation.<br>4. Layout: Comic strip. | ## ãƒ†ã‚¹ãƒˆä¾‹ï¼šEntity ã®ãµã‚‹ã¾ã„ãƒ†ã‚¹ãƒˆğŸªªğŸ§ªâœ¨ |
| 194 | docs/clean_cs_study_043.md | clean_cs_study_043_aaa_cooking.png | ./picture/clean_cs_study_043_aaa_cooking.png | **Theme**: AAA Pattern Cooking<br><br>**Labels to Render**:<br>- Step 1: "Arrange (Prep)"<br>- Step 2: "Act (Cook)"<br>- Step 3: "Assert (Taste)"<br><br>**Visual Details**:<br>1. Core Concept: The Arrange-Act-Assert pattern.<br>2. Metaphor: Cooking process.<br>   - Arrange: Ingredients chopped on a board.<br>   - Act: Stirring a pot on the stove.<br>   - Assert: Chef tasting a spoonful with a satisfied expression.<br>3. Action: Sequential process.<br>4. Layout: Three distinct panels. | ## ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹ãƒ†ãƒ³ãƒ—ãƒ¬ğŸ“âœ¨ï¼ˆè¿·å­é˜²æ­¢ï¼‰ |
| 195 | docs/clean_cs_study_043.md | clean_cs_study_043_no_db_truck.png | ./picture/clean_cs_study_043_no_db_truck.png | **Theme**: No DB Truck<br><br>**Labels to Render**:<br>- Track: "Entity Test Track"<br>- Truck: "DB (Heavy)"<br>- Sign: "No Entry"<br>- Speed: "Fast Lane"<br><br>**Visual Details**:<br>1. Core Concept: Keeping heavy dependencies out of unit tests.<br>2. Metaphor: A race track entrance.<br>   - Sleek race cars (Unit Tests) are zooming in.<br>   - A heavy, dirty dump truck labeled "Database" is stopped by a "No Entry" sign.<br>3. Action: Blocking access.<br>4. Layout: Road scene. | ## â€œã‚„ã£ã¡ã‚ƒãƒ€ãƒ¡â€é›†ğŸ™…â€â™€ï¸ğŸ’¥ï¼ˆã§ã‚‚ã¿ã‚“ãªé€šã‚‹ğŸ˜‚ï¼‰ |
| 196 | docs/clean_cs_study_043.md | clean_cs_study_043_ai_boundary_check.png | ./picture/clean_cs_study_043_ai_boundary_check.png | **Theme**: AI Boundary Checker<br><br>**Labels to Render**:<br>- Robot: "AI Assistant"<br>- List: "Boundaries"<br>- Item 1: "Null/Empty"<br>- Item 2: "Max + 1"<br><br>**Visual Details**:<br>1. Core Concept: Using AI to find edge cases.<br>2. Metaphor: A robot assistant holding a clipboard.<br>   - It is ticking off a list of boundary conditions: "Null", "Empty", "Max Length", "Invalid Char".<br>   - Helping the developer.<br>3. Action: Checking list.<br>4. Layout: Character focus. | ## AIã®ä½¿ã„ã©ã“ã‚ğŸ¤–âœ¨ï¼ˆEntitiesãƒ†ã‚¹ãƒˆã¯ç›¸æ€§ã‚ˆã™ãï¼‰ |
| 197 | docs/clean_cs_study_044.md | clean_cs_study_044_test_doubles.png | ./picture/clean_cs_study_044_test_doubles.png | **Theme**: Test Doubles Characters<br><br>**Labels to Render**:<br>- Fake: "Fake (Prop)"<br>- Spy: "Spy (Recorder)"<br>- Stub: "Stub (Fixed)"<br><br>**Visual Details**:<br>1. Core Concept: Differentiating Test Doubles.<br>2. Metaphor: Three distinct characters.<br>   - Fake: A cardboard cutout of a database (looks real but isn't).<br>   - Spy: A detective with a magnifying glass and notepad (recording).<br>   - Stub: A statue holding a sign with a fixed value (static).<br>3. Action: Posing together.<br>4. Layout: Character lineup. | ## 2) ä»Šæ—¥ã®ä¸»å½¹ï¼šFake / Stub / Spy ã‚’â€œã‚†ã‚‹ãâ€è¦šãˆã‚‹ğŸ˜†ğŸ§¸ |
| 198 | docs/clean_cs_study_044.md | clean_cs_study_044_test_project_rules.png | ./picture/clean_cs_study_044_test_project_rules.png | **Theme**: Test Project References<br><br>**Labels to Render**:<br>- Test Project: "Test Project"<br>- Green: "Core (OK)"<br>- Red: "Web/Infra (NG)"<br>- Stop: "Stop"<br><br>**Visual Details**:<br>1. Core Concept: Correct dependency direction for tests.<br>2. Metaphor: A traffic signal system.<br>   - Green Light arrow pointing to "Entities" and "UseCases".<br>   - Red Light (Stop sign) blocking connection to "Web" and "Infrastructure".<br>3. Action: Directing traffic.<br>4. Layout: Split view. | ## 3) ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ï¼ˆè¿·å­ã‚¼ãƒ­ç‰ˆï¼‰ğŸ§°âœ¨ |
| 199 | docs/clean_cs_study_044.md | clean_cs_study_044_interactor_isolation.png | ./picture/clean_cs_study_044_interactor_isolation.png | **Theme**: Interactor Isolation<br><br>**Labels to Render**:<br>- Interactor: "Interactor"<br>- Port 1: "Repo Port"<br>- Port 2: "Output Port"<br>- World: "No DB / No Web"<br><br>**Visual Details**:<br>1. Core Concept: Testing in isolation.<br>2. Metaphor: The Interactor floating in a clean white room.<br>   - It is connected only to "Ports" (sockets).<br>   - The "Real World" (DB, Web) is visible through a window but is far away and disconnected.<br>3. Action: Isolation.<br>4. Layout: Center focus. | ## 4) ä¾‹é¡Œï¼šCreateMemo UseCase ã‚’ â€œå¤–éƒ¨ãªã—â€ã§å©ãğŸ®ğŸ§ª |
| 200 | docs/clean_cs_study_044.md | clean_cs_study_044_spy_presenter_action.png | ./picture/clean_cs_study_044_spy_presenter_action.png | **Theme**: Spy Presenter<br><br>**Labels to Render**:<br>- Interactor: "Interactor"<br>- Result: "Result"<br>- Spy: "Spy Presenter"<br>- Note: "Recorded"<br><br>**Visual Details**:<br>1. Core Concept: Verifying output with a Spy.<br>2. Metaphor: A spy character hiding behind a newspaper.<br>   - The Interactor hands over a package (Result).<br>   - The Spy secretly writes down the package details in a notebook.<br>3. Action: Recording.<br>4. Layout: Interaction scene. | ## 5) ãƒ†ã‚¹ãƒˆå´ï¼šFake Repository ã¨ Spy Presenter ã‚’ç”¨æ„ğŸ­ğŸ•µï¸â€â™€ï¸ |
| 201 | docs/clean_cs_study_044.md | clean_cs_study_044_given_when_then_comic.png | ./picture/clean_cs_study_044_given_when_then_comic.png | **Theme**: Given-When-Then Comic<br><br>**Labels to Render**:<br>- Given: "Given (Setup)"<br>- When: "When (Action)"<br>- Then: "Then (Assert)"<br><br>**Visual Details**:<br>1. Core Concept: The structure of a unit test.<br>2. Metaphor: A 3-panel comic strip.<br>   - Panel 1 (Given): Setting up the stage props (Fake Repo).<br>   - Panel 2 (When): Pressing the big red "Start" button (HandleAsync).<br>   - Panel 3 (Then): Checking the scoreboard (Assert Success).<br>3. Action: Sequential story.<br>4. Layout: Horizontal strip. | ## 6) Given-When-Then ã§ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆè¶…èª­ã¿ã‚„ã™ã„ğŸ’–ï¼‰ğŸ§âœ¨ |
| 202 | docs/clean_cs_study_044.md | clean_cs_study_044_update_flow_test.png | ./picture/clean_cs_study_044_update_flow_test.png | **Theme**: Update Flow Test<br><br>**Labels to Render**:<br>- Step 1: "Add 'Old'"<br>- Step 2: "Rename 'New'"<br>- Step 3: "Check 'New'"<br>- Cycle: "Test Cycle"<br><br>**Visual Details**:<br>1. Core Concept: Testing a state change flow.<br>2. Metaphor: A cycle diagram.<br>   - Arrow 1: Putting an item "Old" into the box.<br>   - Arrow 2: Applying a label gun "New" to the item.<br>   - Arrow 3: Opening the box to verify it says "New".<br>3. Action: Cycle flow.<br>4. Layout: Circular flow. | ## 7) UpdateMemo ã‚‚åŒã˜ãƒãƒªã§ã„ã‘ã‚‹ã‚ˆâœï¸ğŸ§ªï¼ˆãƒŸãƒ‹ç‰ˆï¼‰ |
| 203 | docs/clean_cs_study_044.md | clean_cs_study_044_copilot_prompt.png | ./picture/clean_cs_study_044_copilot_prompt.png | **Theme**: Copilot Generation<br><br>**Labels to Render**:<br>- Dev: "Developer"<br>- AI: "Copilot"<br>- Output: "Test Cases"<br>- Speed: "Fast"<br><br>**Visual Details**:<br>1. Core Concept: Using AI to generate boilerplate.<br>2. Metaphor: A developer whispering to a friendly robot (AI).<br>   - The robot instantly prints out a long list of paper (Test Cases).<br>   - The developer looks happy and relieved.<br>3. Action: Generation.<br>4. Layout: Duo character. | ## 9) Copilot / Codex ã‚’ä½¿ã†ãªã‚‰ï¼ˆã“ã®ç« ã®â€œãŠã„ã—ã„ä½¿ã„æ–¹â€ğŸ¤–ğŸ°ï¼‰ |
| 204 | docs/clean_cs_study_045.md | clean_cs_study_045_xray_dll.png | ./picture/clean_cs_study_045_xray_dll.png | **Theme**: DLL X-Ray Scan<br><br>**Labels to Render**:<br>- Scanner: "ArchTest"<br>- Object: "Assembly (DLL)"<br>- Flaw: "Bad Dependency"<br>- Result: "Fail"<br><br>**Visual Details**:<br>1. Core Concept: Testing compiled assemblies.<br>2. Metaphor: An airport X-Ray scanner.<br>   - A suitcase labeled "Core.dll" goes through.<br>   - On the screen, a red skull labeled "System.Web" is detected inside.<br>3. Action: Scanning.<br>4. Layout: Machine view. | ## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ†ã‚¹ãƒˆã£ã¦ä½•ï¼ŸğŸ§ ğŸ” |
| 205 | docs/clean_cs_study_045.md | clean_cs_study_045_tool_comparison.png | ./picture/clean_cs_study_045_tool_comparison.png | **Theme**: Tool Comparison<br><br>**Labels to Render**:<br>- Tool 1: "NetArchTest (Light)"<br>- Tool 2: "ArchUnitNET (Strong)"<br>- Tool 3: "NDepend (Visual)"<br><br>**Visual Details**:<br>1. Core Concept: Different tools for different needs.<br>2. Metaphor: A workbench.<br>   - NetArchTest: A simple, fast screwdriver.<br>   - ArchUnitNET: A heavy-duty power drill.<br>   - NDepend: A sophisticated oscilloscope/monitor.<br>3. Action: Static display.<br>4. Layout: Tool lineup. | ## ä½¿ãˆã‚‹é“å…·ï¼ˆ2026å¹´1æœˆæ™‚ç‚¹ï¼‰ğŸ§°âœ¨ |
| 206 | docs/clean_cs_study_045.md | clean_cs_study_045_dependency_barrier.png | ./picture/clean_cs_study_045_dependency_barrier.png | **Theme**: Dependency Barrier<br><br>**Labels to Render**:<br>- Side A: "Core"<br>- Side B: "Web"<br>- Wall: "Rule: No Ref"<br>- Arrow: "Dependency"<br><br>**Visual Details**:<br>1. Core Concept: Blocking forbidden dependencies.<br>2. Metaphor: A glass wall between two rooms.<br>   - Core Room (Clean).<br>   - Web Room (Busy).<br>   - An arrow trying to fly from Core to Web hits the glass and shatters.<br>3. Action: Blocking.<br>4. Layout: Split view. | ## ãƒãƒ³ã‚ºã‚ªãƒ³â‘ ï¼šNetArchTestã§â€œä¾å­˜ãƒ«ãƒ¼ãƒ«é•åã‚’è½ã¨ã™â€ğŸ§ªğŸš¨ |
| 207 | docs/clean_cs_study_045.md | clean_cs_study_045_marker_pins.png | ./picture/clean_cs_study_045_marker_pins.png | **Theme**: Assembly Marker Pins<br><br>**Labels to Render**:<br>- Map: "Solution"<br>- Pin 1: "Core Marker"<br>- Pin 2: "Web Marker"<br>- Pin 3: "Infra Marker"<br><br>**Visual Details**:<br>1. Core Concept: Identifying assemblies.<br>2. Metaphor: A strategy map.<br>   - Regions labeled Core, Web, Infra.<br>   - A large push-pin is placed in the center of each region to mark it.<br>3. Action: Marking.<br>4. Layout: Map view. | ### 2) ãƒãƒ¼ã‚«ãƒ¼å‹ã‚’1å€‹ãšã¤ç½®ãï¼ˆå‚ç…§ã—ã‚„ã™ãã™ã‚‹ï¼‰ğŸ“ğŸ™‚ |
| 208 | docs/clean_cs_study_045.md | clean_cs_study_045_circular_dependency_ban.png | ./picture/clean_cs_study_045_circular_dependency_ban.png | **Theme**: Circular Dependency Ban<br><br>**Labels to Render**:<br>- Cycle: "Circular Dependency"<br>- Sign: "Prohibited"<br>- A: "A"<br>- B: "B"<br><br>**Visual Details**:<br>1. Core Concept: Preventing cycles.<br>2. Metaphor: A traffic sign.<br>   - The symbol is two arrows chasing each other in a circle (A -> B -> A).<br>   - A red circle with a diagonal line (No Entry/Prohibited) is superimposed over it.<br>3. Action: Prohibition.<br>4. Layout: Sign close-up. | ## ã‚‚ã†ä¸€æ®µä¸Šï¼šArchUnitNETã§â€œä¾å­˜ã‚µã‚¤ã‚¯ãƒ«â€ã‚‚æ½°ã™ğŸŒ€ğŸ”¨ |
| 209 | docs/clean_cs_study_045.md | clean_cs_study_045_ai_dependency_scan.png | ./picture/clean_cs_study_045_ai_dependency_scan.png | **Theme**: AI Dependency Scan<br><br>**Labels to Render**:<br>- AI: "Scanner"<br>- Code: "Project References"<br>- Alert: "Violation Found"<br>- Fix: "Suggestion"<br><br>**Visual Details**:<br>1. Core Concept: AI finding violations.<br>2. Metaphor: A robot scanning a network diagram.<br>   - It spots a red line connecting Core to Web.<br>   - It holds up a warning sign "Violation".<br>3. Action: Detection.<br>4. Layout: Character interaction. | ## AIï¼ˆCopilot/Codexï¼‰ã«æ‰‹ä¼ã‚ã›ã‚‹ã‚³ãƒ„ğŸ¤–ğŸ’¡ |
| 210 | docs/clean_cs_study_045.md | clean_cs_study_045_rule_balance.png | ./picture/clean_cs_study_045_rule_balance.png | **Theme**: Rule Balance<br><br>**Labels to Render**:<br>- Left: "Safety (Rules)"<br>- Right: "Speed (Dev)"<br>- Scale: "Balance"<br><br>**Visual Details**:<br>1. Core Concept: Balancing strictness and productivity.<br>2. Metaphor: A balance scale.<br>   - Left Pan: A shield (Rules).<br>   - Right Pan: A running shoe (Dev Speed).<br>   - The scale is perfectly balanced, not tipping to either side.<br>3. Action: Balancing.<br>4. Layout: Scale view. | ## ã‚ˆãã‚ã‚‹è½ã¨ã—ç©´ï¼ˆã“ã“é¿ã‘ã‚‹ã¨å‹ã¡ğŸ†ï¼‰ğŸ˜‡ |
| 211 | docs/clean_ts_index.md | clean_ts_index_roadmap_journey.png | ./picture/clean_ts_index_roadmap_journey.png | **Theme**: The 45-Chapter Journey Map<br><br>**Labels to Render**:<br>- Part 1: "Core"<br>- Part 2: "Entities"<br>- Part 3: "UseCases"<br>- Part 4: "Ports"<br>- Part 5: "Adapters"<br>- Part 6: "Frameworks"<br>- Part 7: "Composition"<br><br>**Visual Details**:<br>1. Core Concept: A winding roadmap showing the progression of the course.<br>2. Metaphor: A treasure map with 7 distinct islands or milestones.<br>3. Action: A path connecting them from Start to Finish.<br>4. Layout: Winding path view. | ## Part 1ï¼šæ ¸ã‚’ã¤ã‹ã‚€ï¼ˆ1ã€œ7ï¼‰ğŸ§­ |
| 212 | docs/clean_ts_index.md | clean_ts_index_part1_core.png | ./picture/clean_ts_index_part1_core.png | **Theme**: Part 1 - Grasping the Core<br><br>**Labels to Render**:<br>- Goal: "Goal"<br>- Layers: "4 Layers"<br>- Dependency: "Dependency"<br>- Boundary: "Boundary"<br><br>**Visual Details**:<br>1. Core Concept: Establishing the foundation.<br>2. Metaphor: A strong concrete foundation for a building.<br>3. Action: Laying the cornerstone.<br>4. Layout: Foundation view. | ### ç¬¬1ç« ï¼šãªãœã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ï¼Ÿï¼ˆã‚´ãƒ¼ãƒ«ã‚’å›ºå®šï¼‰ğŸ¯ |
| 213 | docs/clean_ts_index.md | clean_ts_index_part2_entities.png | ./picture/clean_ts_index_part2_entities.png | **Theme**: Part 2 - Entities<br><br>**Labels to Render**:<br>- Entity: "Entity"<br>- Rule: "Rule"<br>- Pure: "Pure"<br><br>**Visual Details**:<br>1. Core Concept: The immutable core.<br>2. Metaphor: A glowing red crystal or heart protected in the center.<br>3. Action: Glowing steadily.<br>4. Layout: Center focus. | ## Part 2ï¼šEntitiesï¼ˆä¸­å¿ƒã®ãƒ«ãƒ¼ãƒ«ï¼‰ã‚’ä½œã‚‹ï¼ˆ8ã€œ13ï¼‰â¤ï¸ |
| 214 | docs/clean_ts_index.md | clean_ts_index_part3_usecases.png | ./picture/clean_ts_index_part3_usecases.png | **Theme**: Part 3 - Use Cases<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Action: "Action"<br>- Flow: "Flow"<br><br>**Visual Details**:<br>1. Core Concept: Application specific business rules.<br>2. Metaphor: Gears or a clapperboard (Action) driving the application.<br>3. Action: Gears turning or Clapperboard clapping.<br>4. Layout: Active scene. | ## Part 3ï¼šUse Casesï¼ˆã‚¢ãƒ—ãƒªã®æ–¹é‡ï¼‰ã‚’ä½œã‚‹ï¼ˆ14ã€œ23ï¼‰ğŸ¬ |
| 215 | docs/clean_ts_index.md | clean_ts_index_part4_ports.png | ./picture/clean_ts_index_part4_ports.png | **Theme**: Part 4 - Ports<br><br>**Labels to Render**:<br>- Port: "Port"<br>- Interface: "Interface"<br>- Plug: "Plug"<br><br>**Visual Details**:<br>1. Core Concept: Interface for swapping.<br>2. Metaphor: A wall socket (Port) waiting for a plug.<br>3. Action: Ready to connect.<br>4. Layout: Close-up of socket. | ## Part 4ï¼šPortsï¼ˆå·®ã—æ›¿ãˆå£ï¼‰ã‚’æœ€å°ã§è¨­è¨ˆï¼ˆ24ã€œ29ï¼‰ğŸ”Œ |
| 216 | docs/clean_ts_index.md | clean_ts_index_part5_adapters.png | ./picture/clean_ts_index_part5_adapters.png | **Theme**: Part 5 - Interface Adapters<br><br>**Labels to Render**:<br>- Adapter: "Adapter"<br>- Convert: "Convert"<br>- Translator: "Translator"<br><br>**Visual Details**:<br>1. Core Concept: Converting data between layers.<br>2. Metaphor: A translator booth or a bridge between two lands.<br>3. Action: Translating languages (Inner vs Outer).<br>4. Layout: Bridge view. | ## Part 5ï¼šInterface Adaptersï¼ˆå¤‰æ›ã—ã¦ç¹‹ãï¼‰ã‚’ä½œã‚‹ï¼ˆ30ã€œ38ï¼‰ğŸ”ğŸŒ |
| 217 | docs/clean_ts_index.md | clean_ts_index_part6_frameworks.png | ./picture/clean_ts_index_part6_frameworks.png | **Theme**: Part 6 - Frameworks & Drivers<br><br>**Labels to Render**:<br>- Framework: "Framework"<br>- Tool: "Tool"<br>- Outer: "Outer Shell"<br><br>**Visual Details**:<br>1. Core Concept: External tools and drivers.<br>2. Metaphor: A tool belt or an outer protective shell (Armor).<br>3. Action: Protecting the core.<br>4. Layout: Outer ring view. | ## Part 6ï¼šFrameworks & Driversï¼ˆå¤–å´ã«æŠ¼ã—å‡ºã™ï¼‰39ã€œ42 âš™ï¸ğŸŒ |
| 218 | docs/clean_ts_study_001.md | clean_ts_study_001_future_changes_storm.png | ./picture/clean_ts_study_001_future_changes_storm.png | **Theme**: Future Changes Storm<br><br>**Labels to Render**:<br>- UI Change: "UIå¤‰æ›´"<br>- DB Change: "DBå¤‰æ›´"<br>- Core: "Core"<br>- Shield: "Clean Arch"<br><br>**Visual Details**:<br>1. Core Concept: Architecture protecting against future changes.<br>2. Metaphor: A strong shelter (Core) protecting against a storm of "Changes" (Rain/Wind).<br>3. Action: Storm hitting the shelter but not entering.<br>4. Layout: Shelter view. | ## 2. ãã‚‚ãã‚‚ã€ãªãœã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ï¼ŸğŸ¤”ğŸ’­ |
| 219 | docs/clean_ts_study_001.md | clean_ts_study_001_dependency_direction.png | ./picture/clean_ts_study_001_dependency_direction.png | **Theme**: Dependency Direction<br><br>**Labels to Render**:<br>- Outer: "Outer"<br>- Inner: "Inner"<br>- Arrow: "Dependency"<br><br>**Visual Details**:<br>1. Core Concept: Dependencies point inward.<br>2. Metaphor: Concentric circles with arrows strictly pointing to the center.<br>3. Action: Flowing inward.<br>4. Layout: Target view. | ## 3. ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ã®æ ¸å¿ƒã¯ã€Œä¾å­˜ã®å‘ãã€â¬…ï¸ğŸ’˜ |
| 220 | docs/clean_ts_study_001.md | clean_ts_study_001_goal_vs_layers.png | ./picture/clean_ts_study_001_goal_vs_layers.png | **Theme**: Goal First, Layers Second<br><br>**Labels to Render**:<br>- Goal: "Goal (First)"<br>- Layers: "Layers (Second)"<br>- Priority: "Priority"<br><br>**Visual Details**:<br>1. Core Concept: Prioritizing the goal over the structure.<br>2. Metaphor: A flag on a mountain peak (Goal) vs the map/gear (Layers).<br>3. Action: Focusing on the flag.<br>4. Layout: Perspective view. | ## 4. ã§ã‚‚ï¼ç¬¬1ç« ã§ã‚„ã‚‹ã®ã¯ã€Œå±¤åˆ†ã‘ã€ã˜ã‚ƒãªã„ğŸ™…â€â™€ï¸ğŸ§© |
| 221 | docs/clean_ts_study_001.md | clean_ts_study_001_change_examples.png | ./picture/clean_ts_study_001_change_examples.png | **Theme**: Examples of Future Changes<br><br>**Labels to Render**:<br>- UI: "UI"<br>- DB: "DB"<br>- ID: "ID"<br>- Time: "Time"<br>- Error: "Error"<br><br>**Visual Details**:<br>1. Core Concept: Identifying volatile areas.<br>2. Metaphor: 5 distinct icons floating around the core.<br>   - UI (Screen), DB (Disk), ID (Badge), Time (Clock), Error (Warning).<br>3. Action: Floating.<br>4. Layout: Circle arrangement. | ## 5. ã“ã®è¬›åº§ï¼ˆãƒŸãƒ‹Taskã‚¢ãƒ—ãƒªï¼‰ã®â€œæœªæ¥ã®å¤‰åŒ–â€ã‚’å…ˆã«æƒ³åƒã—ã‚ˆğŸ”®ğŸ—’ï¸ |
| 222 | docs/clean_ts_study_001.md | clean_ts_study_001_memo_template.png | ./picture/clean_ts_study_001_memo_template.png | **Theme**: Design Goal Memo Template<br><br>**Labels to Render**:<br>- Memo: "Goal Memo"<br>- 1: "Protect"<br>- 2: "Changeable"<br>- 3: "Measure"<br>- 4: "Not Now"<br><br>**Visual Details**:<br>1. Core Concept: The structure of the goal memo.<br>2. Metaphor: A clean sheet of paper with 4 clear sections.<br>3. Action: A pen ready to write.<br>4. Layout: Document view. | ## 6. â€œè¨­è¨ˆã‚´ãƒ¼ãƒ«1æšãƒ¡ãƒ¢â€ã‚’ä½œã‚ã†ğŸ“âœ¨ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ä»˜ãï¼‰ |
| 223 | docs/clean_ts_study_001.md | clean_ts_study_001_ai_partner_summary.png | ./picture/clean_ts_study_001_ai_partner_summary.png | **Theme**: AI Summarizing Goals<br><br>**Labels to Render**:<br>- Long Text: "é•·æ–‡"<br>- AI: "AI"<br>- 3 Lines: "3è¡Œè¦ç´„"<br>- Simple: "Simple"<br><br>**Visual Details**:<br>1. Core Concept: AI simplifying complex goals.<br>2. Metaphor: A robot (AI) taking a long scroll and outputting a small card with 3 bullet points.<br>3. Action: Compressing/Summarizing.<br>4. Layout: Process flow. | ### 8.1 ã‚´ãƒ¼ãƒ«ã‚’ã€Œ3è¡Œã€ã«åœ§ç¸®ã—ã¦ã‚‚ã‚‰ã†ğŸª„ |
| 224 | docs/clean_ts_study_001.md | clean_ts_study_001_anti_pattern_ritual.png | ./picture/clean_ts_study_001_anti_pattern_ritual.png | **Theme**: Anti-Pattern - Ritual Architecture<br><br>**Labels to Render**:<br>- Ritual: "å„€å¼"<br>- Layers: "4 Layers"<br>- No Goal: "No Goal"<br>- Confused: "è¿·å­"<br><br>**Visual Details**:<br>1. Core Concept: Layers without purpose.<br>2. Metaphor: A person building a complex shelf (Layers) but having nothing to put on it (No Goal).<br>3. Action: Confused building.<br>4. Layout: Character scene. | ### å¤±æ•—â‘¡ï¼šã€Œ4å±¤ã«åˆ†ã‘ã‚‹ã€ãŒã‚´ãƒ¼ãƒ«ã«ãªã‚‹ğŸ™ƒ |
| 225 | docs/clean_ts_study_002.md | clean_ts_study_002_entities_layer.png | ./picture/clean_ts_study_002_entities_layer.png | **Theme**: Entities Layer Detail<br><br>**Labels to Render**:<br>- Entity: "Entity"<br>- Rule: "Rule"<br>- Core: "Core"<br><br>**Visual Details**:<br>1. Core Concept: The Entities layer.<br>2. Metaphor: A zoomed-in view of the yellow center circle.<br>   - Inside is a diamond (Rule).<br>3. Action: Zooming in.<br>4. Layout: Zoom view. | ### ğŸŸ¡ Entitiesï¼ˆä¸­å¿ƒã®ãƒ«ãƒ¼ãƒ«â¤ï¸ï¼‰ |
| 226 | docs/clean_ts_study_002.md | clean_ts_study_002_usecases_layer.png | ./picture/clean_ts_study_002_usecases_layer.png | **Theme**: Use Cases Layer Detail<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Procedure: "Procedure"<br>- Flow: "Flow"<br><br>**Visual Details**:<br>1. Core Concept: The Use Cases layer.<br>2. Metaphor: A zoomed-in view of the orange circle.<br>   - Inside are arrows or flowcharts (Procedures).<br>3. Action: Flowing.<br>4. Layout: Zoom view. | ### ğŸŸ  Use Casesï¼ˆã‚¢ãƒ—ãƒªã®ç›®çš„ğŸ¬ï¼‰ |
| 227 | docs/clean_ts_study_002.md | clean_ts_study_002_adapters_layer.png | ./picture/clean_ts_study_002_adapters_layer.png | **Theme**: Interface Adapters Layer Detail<br><br>**Labels to Render**:<br>- Adapter: "Adapter"<br>- Convert: "Convert"<br>- Connect: "Connect"<br><br>**Visual Details**:<br>1. Core Concept: The Adapters layer.<br>2. Metaphor: A zoomed-in view of the blue circle.<br>   - Inside are plugs and adapters.<br>3. Action: Connecting.<br>4. Layout: Zoom view. | ### ğŸ”µ Interface Adaptersï¼ˆå¤‰æ›ã—ã¦ã¤ãªãğŸ”ï¼‰ |
| 228 | docs/clean_ts_study_002.md | clean_ts_study_002_frameworks_layer.png | ./picture/clean_ts_study_002_frameworks_layer.png | **Theme**: Frameworks Layer Detail<br><br>**Labels to Render**:<br>- Framework: "Framework"<br>- Tool: "Tool"<br>- Driver: "Driver"<br><br>**Visual Details**:<br>1. Core Concept: The Frameworks layer.<br>2. Metaphor: A zoomed-in view of the black outer circle.<br>   - Inside are tools (Hammer, Wrench, DB icon).<br>3. Action: Containing.<br>4. Layout: Zoom view. | ### âš« Frameworks & Driversï¼ˆé“å…·ç®±âš™ï¸ğŸŒï¼‰ |
| 229 | docs/clean_ts_study_002.md | clean_ts_study_002_folder_structure.png | ./picture/clean_ts_study_002_folder_structure.png | **Theme**: Project Folder Structure<br><br>**Labels to Render**:<br>- src: "src"<br>- entities: "entities"<br>- usecases: "usecases"<br>- adapters: "adapters"<br>- frameworks: "frameworks"<br><br>**Visual Details**:<br>1. Core Concept: Mapping layers to folders.<br>2. Metaphor: A tree view of folders.<br>   - Color coded to match the 4 layers (Yellow, Orange, Blue, Black/Grey).<br>3. Action: Organizing.<br>4. Layout: Tree structure. | ## Taskã‚¢ãƒ—ãƒªã§â€œå…·ä½“çš„ã«ã©ã“ã«ä½•ç½®ãï¼Ÿâ€ğŸ—‚ï¸âœ¨ |
| 230 | docs/clean_ts_study_002.md | clean_ts_study_002_decision_flow.png | ./picture/clean_ts_study_002_decision_flow.png | **Theme**: 3-Second Decision Flowchart<br><br>**Labels to Render**:<br>- Start: "Start"<br>- Rule?: "Rule?"<br>- Flow?: "Flow?"<br>- Convert?: "Convert?"<br>- Tool?: "Tool?"<br><br>**Visual Details**:<br>1. Core Concept: Decision process for placement.<br>2. Metaphor: A simple flowchart.<br>   - Diamond 1: "Is it a Rule?" -> Yes -> Entities.<br>   - Diamond 2: "Is it a Flow?" -> Yes -> UseCases.<br>   - Diamond 3: "Is it a Converter?" -> Yes -> Adapters.<br>   - Else -> Frameworks.<br>3. Action: Flowing down.<br>4. Layout: Flowchart. | ## è¿·ã£ãŸã¨ãã®â€œ3ç§’åˆ¤å®šâ€ğŸ§­âš¡ |
| 231 | docs/clean_ts_study_002.md | clean_ts_study_002_sorting_game_visual.png | ./picture/clean_ts_study_002_sorting_game_visual.png | **Theme**: Layer Sorting Game<br><br>**Labels to Render**:<br>- Item: "Code Item"<br>- Bin E: "Entities"<br>- Bin U: "UseCases"<br>- Bin A: "Adapters"<br>- Bin F: "Frameworks"<br><br>**Visual Details**:<br>1. Core Concept: Categorizing code.<br>2. Metaphor: A game show sorting game.<br>   - 4 colored bins.<br>   - Items (Blocks labeled "Controller", "Repository", "Entity") falling into correct bins.<br>3. Action: Sorting.<br>4. Layout: Game view. | ### æ¼”ç¿’1ï¼šä»•åˆ†ã‘ã‚²ãƒ¼ãƒ ğŸ² |
| 232 | docs/clean_ts_study_003.md | clean_ts_study_003_violation_db.png | ./picture/clean_ts_study_003_violation_db.png | **Theme**: UseCase Direct DB Dependency Violation<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- DB Lib: "DB Lib"<br>- Import: "Import"<br>- Stop: "NG"<br><br>**Visual Details**:<br>1. Core Concept: Inner layer depending on outer layer.<br>2. Metaphor: A UseCase character holding a heavy DB Library book directly.<br>   - A red "X" or "Stop" sign over the connection.<br>3. Action: Holding forbidden item.<br>4. Layout: Character interaction. | ### âŒ ãƒ‘ã‚¿ãƒ¼ãƒ³Aï¼šUseCase ãŒ DB ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç›´æ¥ import ğŸ—ƒï¸ |
| 233 | docs/clean_ts_study_003.md | clean_ts_study_003_violation_http.png | ./picture/clean_ts_study_003_violation_http.png | **Theme**: UseCase HTTP Dependency Violation<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Request: "Express Request"<br>- Web: "Web"<br>- Stop: "NG"<br><br>**Visual Details**:<br>1. Core Concept: Inner layer depending on Web Framework.<br>2. Metaphor: A UseCase character wearing a web server hat (Express) or holding a "Request" object.<br>   - A red "X" over it.<br>3. Action: Wearing wrong gear.<br>4. Layout: Character interaction. | ### âŒ ãƒ‘ã‚¿ãƒ¼ãƒ³Bï¼šUseCase ãŒ HTTP ã®å‹ã‚’çŸ¥ã£ã¦ã‚‹ğŸŒ |
| 234 | docs/clean_ts_study_003.md | clean_ts_study_003_port_solution.png | ./picture/clean_ts_study_003_port_solution.png | **Theme**: Port Interface Solution<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Port: "Port (Interface)"<br>- Adapter: "Adapter (Impl)"<br>- DB: "DB"<br><br>**Visual Details**:<br>1. Core Concept: Decoupling via Interface.<br>2. Metaphor: UseCase holding a "Port" socket.<br>   - Adapter (outside) plugging into the Port.<br>   - Adapter connects to DB.<br>3. Action: Plugging in.<br>4. Layout: Left to Right flow. | ### âœ…ã€Œå†…å´ã« interfaceï¼ˆPortï¼‰ã‚’ç½®ãã€â†’ å¤–å´ãŒå®Ÿè£…ã™ã‚‹ |
| 235 | docs/clean_ts_study_003.md | clean_ts_study_003_dip_concept.png | ./picture/clean_ts_study_003_dip_concept.png | **Theme**: Control Flow vs Dependency Flow (DIP)<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Impl: "Impl"<br>- Call: "Call (Runtime)"<br>- Dep: "Dep (Source)"<br><br>**Visual Details**:<br>1. Core Concept: Dependency Inversion Principle.<br>2. Metaphor: Two arrows.<br>   - Red Arrow (Call): UseCase -> Impl.<br>   - Blue Arrow (Dependency): Impl -> UseCase (Interface).<br>   - They point in opposite directions.<br>3. Action: Opposing flow.<br>4. Layout: Abstract diagram. | ## 5) â€œå‘¼ã³å‡ºã—æ–¹å‘â€ ã¨ â€œä¾å­˜æ–¹å‘â€ ã¯åˆ¥ãƒ¢ãƒã ã‚ˆğŸŒ€ğŸ’¡ |
| 236 | docs/clean_ts_study_003.md | clean_ts_study_003_eslint_shield.png | ./picture/clean_ts_study_003_eslint_shield.png | **Theme**: ESLint Dependency Shield<br><br>**Labels to Render**:<br>- ESLint: "ESLint"<br>- Rule: "No Import"<br>- Inner: "Inner Layer"<br>- Outer: "Outer Layer"<br><br>**Visual Details**:<br>1. Core Concept: Automated enforcement.<br>2. Metaphor: A robot (ESLint) with a shield blocking an arrow from Outer to Inner.<br>3. Action: Blocking.<br>4. Layout: Action scene. | ## 7) ä»•çµ„ã¿ã§å®ˆã‚‹ï¼ˆäººã¯ãƒŸã‚¹ã‚‹ğŸ˜‡ï¼‰ğŸ›¡ï¸âœ¨ |
| 237 | docs/clean_ts_study_003.md | clean_ts_study_003_name_check_alert.png | ./picture/clean_ts_study_003_name_check_alert.png | **Theme**: Forbidden Name Alert<br><br>**Labels to Render**:<br>- Code: "Source Code"<br>- Express: "express"<br>- Prisma: "prisma"<br>- Alert: "Alert"<br><br>**Visual Details**:<br>1. Core Concept: Detecting specific keywords.<br>2. Metaphor: A scanner scanning code.<br>   - It highlights "express" and "prisma" in red.<br>   - A siren goes off.<br>3. Action: Scanning/Alerting.<br>4. Layout: Close-up scan. | ### âœ… â€œåå‰ãŒå‡ºãŸã‚‰è² ã‘â€ãƒã‚§ãƒƒã‚¯ğŸ˜‡ |
| 238 | docs/clean_ts_study_003.md | clean_ts_study_003_assembly_injection.png | ./picture/clean_ts_study_003_assembly_injection.png | **Theme**: Dependency Injection Assembly<br><br>**Labels to Render**:<br>- Main: "Main (Composition)"<br>- UseCase: "UseCase"<br>- Repo: "Repo Impl"<br>- Connect: "Inject"<br><br>**Visual Details**:<br>1. Core Concept: Wiring up the application.<br>2. Metaphor: A builder (Main) connecting a wire from "Repo Impl" to "UseCase".<br>3. Action: Connecting.<br>4. Layout: Assembly view. | // main.tsï¼ˆã¤ãªãã ã‘ï¼‰ |
| 239 | docs/clean_ts_study_004.md | clean_ts_study_004_chaos_vs_order.png | ./picture/clean_ts_study_004_chaos_vs_order.png | **Theme**: Chaos vs Order (Boundaries)<br><br>**Labels to Render**:<br>- Chaos: "No Boundary"<br>- Order: "Boundary"<br>- Mix: "Mixed"<br>- Clean: "Separated"<br><br>**Visual Details**:<br>1. Core Concept: The value of separation.<br>2. Metaphor:<br>   - Left: A bowl of mixed spaghetti (UI, DB, Logic intertwined).<br>   - Right: A bento box with separated compartments (UI, DB, Logic distinct).<br>3. Action: Comparison.<br>4. Layout: Split view. | ## 2) ãªã‚“ã§å¢ƒç•ŒãŒå¤§äº‹ãªã®ï¼ŸğŸ§¸ğŸ’¡ |
| 240 | docs/clean_ts_study_004.md | clean_ts_study_004_three_boundaries_map.png | ./picture/clean_ts_study_004_three_boundaries_map.png | **Theme**: Task App Boundaries Map<br><br>**Labels to Render**:<br>- UI: "UI"<br>- UseCase: "UseCase"<br>- DB: "DB"<br>- A: "Boundary A"<br>- B: "Boundary B"<br>- C: "Boundary C"<br><br>**Visual Details**:<br>1. Core Concept: The 3 specific boundaries.<br>2. Metaphor: A map with 3 toll booths or gates.<br>   - Gate A: Between UI and UseCase (Input).<br>   - Gate B: Between UseCase and DB.<br>   - Gate C: Between UseCase and UI (Output).<br>3. Action: Mapping.<br>4. Layout: Linear map. | ## 3) ã“ã®ãƒŸãƒ‹Taskã‚¢ãƒ—ãƒªã ã¨ã€å¢ƒç•Œã¯ã©ã“ï¼ŸğŸ—ºï¸ğŸ—’ï¸ |
| 241 | docs/clean_ts_study_004.md | clean_ts_study_004_input_conversion.png | ./picture/clean_ts_study_004_input_conversion.png | **Theme**: Boundary A - Input Conversion<br><br>**Labels to Render**:<br>- Input: "HTTP Input"<br>- Filter: "Conversion"<br>- Output: "Request"<br>- Safe: "Safe"<br><br>**Visual Details**:<br>1. Core Concept: Cleaning input.<br>2. Metaphor: A water filter.<br>   - Dirty water (HTTP Input) goes in.<br>   - Clean water (Request) comes out.<br>3. Action: Filtering.<br>4. Layout: Flow view. | ### âœ… å¢ƒç•ŒAï¼šUI â†” UseCaseï¼ˆå…¥å£ã®å¢ƒç•Œï¼‰ğŸšª |
| 242 | docs/clean_ts_study_004.md | clean_ts_study_004_repository_boundary.png | ./picture/clean_ts_study_004_repository_boundary.png | **Theme**: Boundary B - Repository Interface<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Wall: "Boundary"<br>- DB: "DB"<br>- Port: "Port"<br><br>**Visual Details**:<br>1. Core Concept: Separation from DB.<br>2. Metaphor: A person (UseCase) talking through a secure window (Port) to a worker (DB) outside.<br>3. Action: Talking through window.<br>4. Layout: Side view. | ### âœ… å¢ƒç•ŒBï¼šUseCase â†” DBï¼ˆå‡ºå£ã®å¢ƒç•Œï¼‰ğŸ”Œ |
| 243 | docs/clean_ts_study_004.md | clean_ts_study_004_output_conversion.png | ./picture/clean_ts_study_004_output_conversion.png | **Theme**: Boundary C - Output Conversion<br><br>**Labels to Render**:<br>- Result: "Response"<br>- Painter: "Presenter"<br>- View: "ViewModel"<br>- UI: "UI"<br><br>**Visual Details**:<br>1. Core Concept: Formatting for display.<br>2. Metaphor: An artist (Presenter) painting a portrait (ViewModel) based on a model (Response).<br>3. Action: Painting.<br>4. Layout: Studio view. | ### âœ… å¢ƒç•ŒCï¼šUseCase â†” UIï¼ˆå‡ºåŠ›ã®å¢ƒç•Œï¼‰ğŸ |
| 244 | docs/clean_ts_study_004.md | clean_ts_study_004_smell_detector.png | ./picture/clean_ts_study_004_smell_detector.png | **Theme**: Boundary Smell Detector<br><br>**Labels to Render**:<br>- Detector: "Smell Detector"<br>- Req: "req"<br>- SQL: "sql"<br>- DOM: "DOM"<br>- Alarm: "Boundary Leak!"<br><br>**Visual Details**:<br>1. Core Concept: Identifying leaks.<br>2. Metaphor: A gas leak detector beeping near a crack in the wall.<br>   - The gas is labeled "req", "sql".<br>3. Action: Detecting.<br>4. Layout: Close-up. | ## 8) ã€Œå¢ƒç•Œã£ã½ã„åŒ‚ã„ã€ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆğŸ‘ƒğŸ§ âœ¨ |
| 245 | docs/clean_ts_study_004.md | clean_ts_study_004_declaration_scroll.png | ./picture/clean_ts_study_004_declaration_scroll.png | **Theme**: Boundary Declaration Scroll<br><br>**Labels to Render**:<br>- Scroll: "Boundary Declaration"<br>- A: "UI -> UseCase"<br>- B: "UseCase -> DB"<br>- C: "UseCase -> UI"<br><br>**Visual Details**:<br>1. Core Concept: Formalizing the boundaries.<br>2. Metaphor: A formal proclamation scroll with 3 sections.<br>   - Wax seal.<br>3. Action: Static display.<br>4. Layout: Document view. | ## 7) ãƒ¯ãƒ¼ã‚¯ï¼šä»Šå›ã®å¢ƒç•Œã‚’ã€Œå®£è¨€ã€ã—ã‚ˆã†ğŸ“ğŸ“ğŸ’– |
| 246 | docs/clean_ts_study_005.md | clean_ts_study_005_dependency_vs_data.png | ./picture/clean_ts_study_005_dependency_vs_data.png | **Theme**: Dependency vs Data Flow<br><br>**Labels to Render**:<br>- Inner: "Inner"<br>- Outer: "Outer"<br>- Dep: "Dependency (In)"<br>- Data: "Data (Through)"<br><br>**Visual Details**:<br>1. Core Concept: Opposing/Crossing flows.<br>2. Metaphor:<br>   - Solid Arrows pointing In (Dependency).<br>   - Dashed Arrows flowing Through (Data).<br>   - Crossing each other.<br>3. Action: Flowing.<br>4. Layout: Abstract diagram. | ## ã¾ãšè¶…é‡è¦ï¼šä¾å­˜ã®å‘ã ã¨ ãƒ‡ãƒ¼ã‚¿ã®å‘ã ã¯åˆ¥ãƒ¢ãƒâ¬…ï¸â¡ï¸ğŸ’ |
| 247 | docs/clean_ts_study_005.md | clean_ts_study_005_request_clean_box.png | ./picture/clean_ts_study_005_request_clean_box.png | **Theme**: Clean Request Object<br><br>**Labels to Render**:<br>- Box: "Request"<br>- Item: "Title"<br>- No: "No Header"<br>- No: "No IP"<br><br>**Visual Details**:<br>1. Core Concept: Minimal data container.<br>2. Metaphor: A small, clean white box containing a single gem "Title".<br>   - Trash (Header, IP) is left outside.<br>3. Action: Containing.<br>4. Layout: Object view. | ### âœ… Requestã¯ã€Œå†…å´ãŒæ¬²ã—ã„æƒ…å ±ã ã‘ã€ |
| 248 | docs/clean_ts_study_005.md | clean_ts_study_005_response_result_only.png | ./picture/clean_ts_study_005_response_result_only.png | **Theme**: Pure Response Object<br><br>**Labels to Render**:<br>- Box: "Response"<br>- Item: "Success"<br>- Item: "TaskID"<br>- No: "No HTTP 200"<br><br>**Visual Details**:<br>1. Core Concept: Business result only.<br>2. Metaphor: A clean white envelope containing a letter "Success" and "ID".<br>   - No "HTTP 200" stamp on it.<br>3. Action: Containing.<br>4. Layout: Object view. | ### âœ… Responseã¯ã€Œå†…å´ã®çµæœã€ã ã‘ï¼ˆè¡¨ç¤ºéƒ½åˆã¯å¾Œã§ï¼‰ |
| 249 | docs/clean_ts_study_005.md | clean_ts_study_005_controller_entrance.png | ./picture/clean_ts_study_005_controller_entrance.png | **Theme**: Controller as Doorman<br><br>**Labels to Render**:<br>- Guest: "HTTP Input"<br>- Doorman: "Controller"<br>- Ticket: "Request"<br>- Party: "UseCase"<br><br>**Visual Details**:<br>1. Core Concept: Input processing.<br>2. Metaphor: A doorman (Controller) taking a messy coat (HTTP) from a guest and giving them a clean ticket (Request) to enter the party (UseCase).<br>3. Action: Exchanging.<br>4. Layout: Entrance scene. | ### Controllerï¼ˆå…¥å£ï¼‰ã¯ â€œå—ã‘å–ã£ã¦æ•´ãˆã‚‹ã ã‘â€ ğŸ§¾â¡ï¸ğŸ“¦ |
| 250 | docs/clean_ts_study_005.md | clean_ts_study_005_presenter_decorator.png | ./picture/clean_ts_study_005_presenter_decorator.png | **Theme**: Presenter as Decorator<br><br>**Labels to Render**:<br>- Item: "Response"<br>- Decorator: "Presenter"<br>- Gift: "ViewModel"<br>- Ribbon: "Format"<br><br>**Visual Details**:<br>1. Core Concept: Output formatting.<br>2. Metaphor: A gift wrapper (Presenter) taking a plain box (Response) and wrapping it in colorful paper (ViewModel).<br>3. Action: Wrapping.<br>4. Layout: Table view. | ### Presenterï¼ˆå‡ºå£ï¼‰ã¯ â€œå†…å´çµæœã‚’è¡¨ç¤ºç”¨ã«æ•´ãˆã‚‹â€ ğŸ“¦â¡ï¸ğŸ¨ |
| 251 | docs/clean_ts_study_005.md | clean_ts_study_005_http_leak_alert.png | ./picture/clean_ts_study_005_http_leak_alert.png | **Theme**: HTTP Leak in Response<br><br>**Labels to Render**:<br>- Box: "Response"<br>- Leak: "Status 200"<br>- Alert: "Pollution"<br>- Pure: "Pure"<br><br>**Visual Details**:<br>1. Core Concept: Contamination of domain object.<br>2. Metaphor: A clean box (Response) with a muddy footprint "Status 200" on it.<br>3. Action: Contaminating.<br>4. Layout: Close-up. | ### âŒ Responseã«HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒæ··ã–ã‚‹ |
| 252 | docs/clean_ts_study_005.md | clean_ts_study_005_data_journey_map.png | ./picture/clean_ts_study_005_data_journey_map.png | **Theme**: CreateTask Data Journey Map<br><br>**Labels to Render**:<br>- Start: "UI"<br>- Step 1: "Controller"<br>- Step 2: "UseCase"<br>- Step 3: "Presenter"<br>- End: "UI"<br><br>**Visual Details**:<br>1. Core Concept: End-to-end data flow.<br>2. Metaphor: A board game path.<br>   - Pawn moves from Start -> Controller -> UseCase -> Presenter -> End.<br>3. Action: Moving along path.<br>4. Layout: Linear map. | ## ãƒŸãƒ‹æ¼”ç¿’ï¼ˆ5åˆ†ï¼‰â±ï¸ğŸ£ |
| 253 | docs/clean_ts_study_006.md | clean_ts_study_006_vocabulary_separation.png | ./picture/clean_ts_study_006_vocabulary_separation.png | **Theme**: Vocabulary Separation Wall<br><br>**Labels to Render**:<br>- Left: "Domain Words"<br>- Right: "Tech Words"<br>- Wall: "Separation"<br>- Clean: "Clean"<br><br>**Visual Details**:<br>1. Core Concept: Distinct vocabularies.<br>2. Metaphor: A split room.<br>   - Left: "Task", "Title" (Warm colors).<br>   - Right: "HTTP", "SQL" (Cool colors).<br>   - A clear glass wall between them.<br>3. Action: Separation.<br>4. Layout: Split view. | ## 1) ãªã‚“ã§â€œè¨€è‘‰â€ã‚’åˆ†ã‘ã‚‹ã®ï¼ŸğŸ¤”ğŸ’­ |
| 254 | docs/clean_ts_study_006.md | clean_ts_study_006_naming_rules_shield.png | ./picture/clean_ts_study_006_naming_rules_shield.png | **Theme**: Naming Rules Shield<br><br>**Labels to Render**:<br>- Shield: "Naming Rules"<br>- 1: "No Tech"<br>- 2: "Goal"<br>- 3: "Ability"<br>- 4: "Row"<br><br>**Visual Details**:<br>1. Core Concept: Rules protecting the code.<br>2. Metaphor: A hexagonal shield with the 6 rules engraved (represented by icons or short text).<br>3. Action: Protecting.<br>4. Layout: Shield close-up. | ## 4) ä»Šæ—¥ã®ãƒ¡ã‚¤ãƒ³æ­¦å™¨ï¼šå‘½åãƒ«ãƒ¼ãƒ«6ã¤ğŸ”ªâœ¨ï¼ˆã“ã‚Œã§ã ã„ã¶å‹ã¦ã‚‹ï¼‰ |
| 255 | docs/clean_ts_study_006.md | clean_ts_study_006_mini_dictionary_book.png | ./picture/clean_ts_study_006_mini_dictionary_book.png | **Theme**: Domain Dictionary Book<br><br>**Labels to Render**:<br>- Book: "Inner Dictionary"<br>- Word: "Task"<br>- Word: "Title"<br>- Word: "Complete"<br><br>**Visual Details**:<br>1. Core Concept: Ubiquitous language.<br>2. Metaphor: A small, cute dictionary book.<br>   - Open pages show "Task", "Title".<br>   - Glowing with magic (Importance).<br>3. Action: Glowing.<br>4. Layout: Book view. | ## 5) ãƒŸãƒ‹è¾æ›¸ï¼ˆå†…å´èªå½™ï¼‰ã‚’ä½œã‚ã†ğŸ“ğŸ’•ï¼ˆæå‡ºç‰©ãã®1ï¼‰ |
| 256 | docs/clean_ts_study_006.md | clean_ts_study_006_bad_naming_example.png | ./picture/clean_ts_study_006_bad_naming_example.png | **Theme**: Bad Naming Example<br><br>**Labels to Render**:<br>- Code: "CreateTaskHttpRequest"<br>- X: "NG"<br>- Why: "Http is Outer"<br><br>**Visual Details**:<br>1. Core Concept: Identifying bad names.<br>2. Metaphor: A blackboard with "CreateTaskHttpRequest" written on it.<br>   - A red cross over "Http".<br>3. Action: Correction.<br>4. Layout: Blackboard view. | ### âŒ æ‚ªã„ä¾‹ï¼šUseCaseã«ExpressãŒä¾µå…¥ğŸ˜‡ |
| 257 | docs/clean_ts_study_006.md | clean_ts_study_006_good_naming_example.png | ./picture/clean_ts_study_006_good_naming_example.png | **Theme**: Good Naming Example<br><br>**Labels to Render**:<br>- Code: "CreateTaskRequest"<br>- Check: "OK"<br>- Why: "Inner Word"<br><br>**Visual Details**:<br>1. Core Concept: Identifying good names.<br>2. Metaphor: A blackboard with "CreateTaskRequest" written on it.<br>   - A green check mark.<br>3. Action: Approval.<br>4. Layout: Blackboard view. | ### âœ… è‰¯ã„ä¾‹ï¼šå†…å´ã¯â€œå†…å´ã®è¨€è‘‰â€ã ã‘ã§å®ŒçµğŸ˜ |
| 258 | docs/clean_ts_study_006.md | clean_ts_study_006_row_isolation.png | ./picture/clean_ts_study_006_row_isolation.png | **Theme**: DB Row Isolation<br><br>**Labels to Render**:<br>- Entity: "Task"<br>- Row: "TaskRow"<br>- Box: "Adapter"<br>- Separate: "Separate"<br><br>**Visual Details**:<br>1. Core Concept: Isolating DB structures.<br>2. Metaphor: A clean room (Entity) containing "Task".<br>   - A warehouse (Adapter) containing "TaskRow".<br>   - "TaskRow" is not allowed in the clean room.<br>3. Action: Isolation.<br>4. Layout: Two rooms. | ### ãƒ«ãƒ¼ãƒ«â‘£ï¼šDBã®1è¡Œã¯ â€œRow/Recordâ€ ã§å¤–å´ã«éš”é›¢ã™ã‚‹ğŸ§¼ |
| 259 | docs/clean_ts_study_006.md | clean_ts_study_006_sorting_game_bins.png | ./picture/clean_ts_study_006_sorting_game_bins.png | **Theme**: Naming Sorting Game<br><br>**Labels to Render**:<br>- Bin 1: "Inner"<br>- Bin 2: "Outer"<br>- Item: "Task"<br>- Item: "SQLite"<br><br>**Visual Details**:<br>1. Core Concept: Practice sorting.<br>2. Metaphor: Two bins "Inner" and "Outer".<br>   - "Task" falls into Inner.<br>   - "SQLite" falls into Outer.<br>3. Action: Sorting.<br>4. Layout: Game view. | ### âœ… Step 1ï¼šåå‰ã®ä»•åˆ†ã‘ã‚²ãƒ¼ãƒ ğŸ®âœ¨ |
| 260 | docs/clean_ts_study_007.md | clean_ts_study_007_granularity_check.png | ./picture/clean_ts_study_007_granularity_check.png | **Theme**: Granularity Check Rules<br><br>**Labels to Render**:<br>- 1 Verb: "1 Verb"<br>- 1 Shot: "1 Shot (Complete)"<br>- Testable: "Testable"<br><br>**Visual Details**:<br>1. Core Concept: Three measuring tools for Use Cases.<br>2. Metaphor: Quality Control Checkpoints.<br>   - Checkpoint 1: A puzzle piece with a single verb (Action).<br>   - Checkpoint 2: A pair of scissors cutting a complex process into one clean shot.<br>   - Checkpoint 3: A test tube checking pass/fail.<br>3. Action: Checking/Measuring.<br>4. Layout: Three distinct icons in a row. | ## 2) ã¾ãšâ€œç²’åº¦â€ã‚’æƒãˆã‚‹ã‚³ãƒ„ğŸ€ğŸ“ |
| 261 | docs/clean_ts_study_007.md | clean_ts_study_007_one_line_spec.png | ./picture/clean_ts_study_007_one_line_spec.png | **Theme**: One Line Specification Template<br><br>**Labels to Render**:<br>- Who: "User"<br>- Wants: "Action (Verb)"<br>- Result: "Outcome (Result)"<br><br>**Visual Details**:<br>1. Core Concept: Simple formula for clarity.<br>2. Metaphor: A mathematical equation or recipe.<br>   - [Who] + [Action] = [Outcome].<br>   - Example icons: User Icon + Arrow + Star (Goal).<br>3. Action: Combining elements.<br>4. Layout: Horizontal equation. | ## 4) 1è¡Œä»•æ§˜ï¼ˆè¶…ãƒŸãƒ‹ï¼‰ã‚’ä½œã‚‹ âœï¸ğŸ’• |
| 262 | docs/clean_ts_study_007.md | clean_ts_study_007_createtask_io.png | ./picture/clean_ts_study_007_createtask_io.png | **Theme**: CreateTask Input/Output Flow<br><br>**Labels to Render**:<br>- Input: "Input (Title)"<br>- Process: "CreateTask"<br>- Success: "Output (Task)"<br>- Fail: "Error (Invalid)"<br><br>**Visual Details**:<br>1. Core Concept: Data flow and branching.<br>2. Metaphor: A processing machine.<br>   - Input (Title) enters the machine.<br>   - Machine processes it.<br>   - Two exits: Green chute (Success/Task) and Red chute (Failure/Error).<br>3. Action: Processing/Branching.<br>4. Layout: Flowchart from left to right. | ### âœ… Use Case 1ï¼šCreateTask â•ğŸ—’ï¸ |
| 263 | docs/clean_ts_study_007.md | clean_ts_study_007_scope_definition.png | ./picture/clean_ts_study_007_scope_definition.png | **Theme**: In Scope vs Out of Scope<br><br>**Labels to Render**:<br>- In Scope: "In Scope"<br>- Out Scope: "Out Scope"<br>- Core: "Create / Complete / List"<br>- Future: "Edit / Delete / Search"<br><br>**Visual Details**:<br>1. Core Concept: Defining boundaries.<br>2. Metaphor: A spotlight on a stage.<br>   - Inside the spotlight (In Scope): The Core Use Cases (Create, Complete, List) are bright and colorful.<br>   - Outside the spotlight (Out Scope): The Future features (Edit, Delete) are dimmed/grayed out.<br>3. Action: Focusing.<br>4. Layout: Circle/Spotlight effect. | ## 5) ã€Œã‚¹ã‚³ãƒ¼ãƒ—å¤–ãƒªã‚¹ãƒˆã€ã‚’ä½œã‚‹ï¼ˆã“ã‚Œè¶…å¤§äº‹ï¼‰ğŸš«ğŸ§¾âœ¨ |
| 264 | docs/clean_ts_study_007.md | clean_ts_study_007_anti_pattern_crud.png | ./picture/clean_ts_study_007_anti_pattern_crud.png | **Theme**: User Goal vs CRUD<br><br>**Labels to Render**:<br>- Goal: "User Goal"<br>- CRUD: "CRUD Operation"<br>- Thinking: "I want to finish!"<br>- Database: "UPDATE table SET..."<br><br>**Visual Details**:<br>1. Core Concept: Intent vs Mechanism.<br>2. Metaphor: Thought bubbles.<br>   - User (Human): Thinking about the goal "Finish Task".<br>   - Robot (Dev/DB): Thinking about "UPDATE SQL".<br>   - A cross mark over the Robot thought to show "Don't design this way".<br>3. Action: Contrast.<br>4. Layout: Side by side comparison. | ## 7) ã‚ˆãã‚ã‚‹è½ã¨ã—ç©´ï¼ˆã“ã“è¸ã‚€äººå¤šã„ï¼‰ğŸ•³ï¸ğŸ˜‚ |
| 265 | docs/clean_ts_study_008.md | clean_ts_study_008_implementation_structure.png | ./picture/clean_ts_study_008_implementation_structure.png | **Theme**: Entity Implementation Structure<br><br>**Labels to Render**:<br>- Private: "Private Constructor"<br>- Factory: "Static Create"<br>- Hidden: "#Private Fields"<br><br>**Visual Details**:<br>1. Core Concept: Encapsulation and controlled entry.<br>2. Metaphor: A secure vault.<br>   - The Vault (Class) is locked (Private Constructor).<br>   - There is only one specific keyhole/slot (Static Create) to put data in.<br>   - Inside the vault, the valuables (#fields) are hidden from view.<br>3. Action: Protecting/Hiding.<br>4. Layout: Cross-section of a vault. | ### âœ… Task.tsï¼ˆæœ€å°Entityï¼‰ |
| 266 | docs/clean_ts_study_008.md | clean_ts_study_008_rehydration_flow.png | ./picture/clean_ts_study_008_rehydration_flow.png | **Theme**: Rehydration Flow<br><br>**Labels to Render**:<br>- DB: "DB Data"<br>- Rehydrate: "Rehydrate()"<br>- Entity: "Alive Entity"<br><br>**Visual Details**:<br>1. Core Concept: Restoring state from storage.<br>2. Metaphor: Freeze and Thaw.<br>   - Frozen Ice Cube (DB Data) enters the `rehydrate` machine.<br>   - It melts/transforms into a lively, bouncing Character (Entity).<br>   - Shows that we are restoring life to data.<br>3. Action: Transformation.<br>4. Layout: Left to Right flow. | // âœ… DBç­‰ã‹ã‚‰å¾©å…ƒã™ã‚‹å…¥å£ï¼ˆrehydrateï¼‰ã‚‚ç”¨æ„ã™ã‚‹ã¨å¾Œã§æ¥½ğŸ§Š |
| 267 | docs/clean_ts_study_008.md | clean_ts_study_008_minimal_attributes.png | ./picture/clean_ts_study_008_minimal_attributes.png | **Theme**: Minimal Attributes Strategy<br><br>**Labels to Render**:<br>- Essential: "Essential"<br>- Noise: "Noise (DB/UI)"<br>- ID: "ID"<br>- Title: "Title"<br>- Done: "Done"<br><br>**Visual Details**:<br>1. Core Concept: Keeping it light.<br>2. Metaphor: Packing a light backpack.<br>   - The Entity Backpack contains only ID, Title, Done.<br>   - Heavy, unnecessary items like "Created Date", "Sort Order", "DB Row ID" are left on the floor.<br>3. Action: Selection.<br>4. Layout: Backpack with items inside and outside. | ## 8.2 ã¾ãšã€Œæœ€å°ã€ã‚’æ±ºã‚ã‚‹ï¼šTaskã«å¿…è¦ãªå±æ€§ã¯ã“ã‚Œã ã‘ğŸ—’ï¸âœ¨ |
| 268 | docs/clean_ts_study_008.md | clean_ts_study_008_pitfall_db_driven.png | ./picture/clean_ts_study_008_pitfall_db_driven.png | **Theme**: DB Driven Design Trap<br><br>**Labels to Render**:<br>- Entity: "Entity"<br>- DB: "DB Schema"<br>- Gravity: "Gravity"<br><br>**Visual Details**:<br>1. Core Concept: Logic being distorted by persistence details.<br>2. Metaphor: Magnetic pull.<br>   - A pure, round Entity is being stretched and distorted towards a heavy, blocky Database magnet.<br>   - The Entity starts looking like a square table row instead of a round object.<br>3. Action: Distortion.<br>4. Layout: Entity in center, Magnet on side. | ### âŒ äº‹æ•…1ï¼šEntityãŒDBã®å½¢ã«å¼•ã£å¼µã‚‰ã‚Œã‚‹ |
| 269 | docs/clean_ts_study_008.md | clean_ts_study_008_dependencies_blind.png | ./picture/clean_ts_study_008_dependencies_blind.png | **Theme**: Entity Independence<br><br>**Labels to Render**:<br>- Entity: "Entity"<br>- DB: "DB"<br>- Web: "Web"<br>- Ignorant: "Ignorant"<br><br>**Visual Details**:<br>1. Core Concept: Independence from outer layers.<br>2. Metaphor: Meditation.<br>   - The Entity is meditating peacefully in the center, eyes closed (blind).<br>   - Around it are noisy distractions: DB drums, Web trumpets.<br>   - The Entity ignores them completely.<br>3. Action: Ignoring/Isolating.<br>4. Layout: Center focus. | ## 8.1 Entitieså±¤ã£ã¦ã€ä½•ã‚’ç½®ãå ´æ‰€ï¼ŸğŸ§ ğŸ’¡ |
| 270 | docs/clean_ts_study_009.md | clean_ts_study_009_broken_vs_safe.png | ./picture/clean_ts_study_009_broken_vs_safe.png | **Theme**: Broken vs Safe Entity<br><br>**Labels to Render**:<br>- Broken: "Public Fields"<br>- Safe: "Private Fields"<br>- Attack: "Direct Edit"<br>- Defense: "Guard"<br><br>**Visual Details**:<br>1. Core Concept: Vulnerability vs Protection.<br>2. Metaphor: House vs Fortress.<br>   - Left (Broken): A glass house where anyone can reach in and take/break furniture (Public fields).<br>   - Right (Safe): A stone fortress with a guarded gate. Arrows (External changes) bounce off the walls.<br>3. Action: Comparison.<br>4. Layout: Side by side. | ## 1) ã€Œå£Šã•ã‚Œã‚‹Entityã€ã£ã¦ã©ã‚“ãªçŠ¶æ…‹ï¼ŸğŸ˜± |
| 271 | docs/clean_ts_study_009.md | clean_ts_study_009_result_pattern.png | ./picture/clean_ts_study_009_result_pattern.png | **Theme**: Result Pattern Container<br><br>**Labels to Render**:<br>- Result: "Result<T, E>"<br>- Success: "Ok (Value)"<br>- Failure: "Err (Error)"<br><br>**Visual Details**:<br>1. Core Concept: A unified return type.<br>2. Metaphor: A Mystery Box.<br>   - The Result Box is closed but has two possible contents.<br>   - Content A: A shining Gem (Ok/Success).<br>   - Content B: A warning scroll (Err/Failure).<br>   - You have to open (check) the box to handle it.<br>3. Action: Containing.<br>4. Layout: Box with two potential contents shown as ghosts or cutaway. | ### 4-1) Resultå‹ï¼ˆæˆåŠŸ/å¤±æ•—ï¼‰ã‚’ç”¨æ„ ğŸ |
| 272 | docs/clean_ts_study_009.md | clean_ts_study_009_state_guard.png | ./picture/clean_ts_study_009_state_guard.png | **Theme**: State Transition Guard<br><br>**Labels to Render**:<br>- Method: "complete()"<br>- Guard: "Check State"<br>- Pass: "Update"<br>- Block: "Error"<br><br>**Visual Details**:<br>1. Core Concept: Conditional logic protecting state.<br>2. Metaphor: A bouncer at a club.<br>   - Method `complete()` is the entrance.<br>   - The Bouncer (Guard) checks the guest list (Current State).<br>   - If already inside (Already Completed), he says "Stop!".<br>   - If not, he opens the velvet rope.<br>3. Action: Checking/Blocking.<br>4. Layout: Entrance scene. | // âœ…çŠ¶æ…‹é·ç§»ã¯ãƒ¡ã‚½ãƒƒãƒ‰çµŒç”± |
| 273 | docs/clean_ts_study_009.md | clean_ts_study_009_setter_vs_method.png | ./picture/clean_ts_study_009_setter_vs_method.png | **Theme**: Setter vs Method<br><br>**Labels to Render**:<br>- Setter: "Setter (Bad)"<br>- Method: "Method (Good)"<br>- Direct: "Direct Set"<br>- Meaning: "Meaningful Action"<br><br>**Visual Details**:<br>1. Core Concept: Direct assignment vs semantic action.<br>2. Metaphor: Surgery vs Control Panel.<br>   - Setter: A hand reaching into a machine's gears to manually turn one (Dangerous/Messy).<br>   - Method: A hand pressing a labeled button "START" on a clean control panel (Safe/Clear).<br>3. Action: Operation.<br>4. Layout: Side by side contrast. | ### âŒã€Œsetterã‚’ç”Ÿã‚„ã™ã€ |
| 274 | docs/clean_ts_study_009.md | clean_ts_study_009_creation_flow.png | ./picture/clean_ts_study_009_creation_flow.png | **Theme**: Factory Creation Flow<br><br>**Labels to Render**:<br>- New: "new Task()"<br>- Factory: "Task.create()"<br>- Guard: "Validation"<br>- Blocked: "Blocked"<br><br>**Visual Details**:<br>1. Core Concept: Restricted instantiation.<br>2. Metaphor: VIP Entrance.<br>   - The backdoor (`new Task()`) is boarded up and locked.<br>   - The main entrance (`Task.create()`) has a scanner (Validation) that everyone must pass through.<br>   - Invalid data is rejected at the scanner.<br>3. Action: Filtering/Entry.<br>4. Layout: Building entrance. | ### 4-3) Task Entityæœ¬ä½“ï¼ˆå…¬é–‹APIã‚’çµã‚‹ï¼ï¼‰ğŸ”’ |
| 275 | docs/clean_ts_study_010.md | clean_ts_study_010_expected_vs_unexpected.png | ./picture/clean_ts_study_010_expected_vs_unexpected.png | **Theme**: Expected Failure vs Unexpected Bug<br><br>**Labels to Render**:<br>- Failure: "Failure"<br>- Expected: "Expected (Domain)"<br>- Unexpected: "Unexpected (Bug)"<br>- Result: "Result"<br>- Throw: "Throw"<br><br>**Visual Details**:<br>1. Core Concept: Categorizing errors.<br>2. Metaphor: Fork in the road.<br>   - Path 1 (Expected): Leads to a Help Desk (Result Type) where issues are handled politely.<br>   - Path 2 (Unexpected): Leads to a Cliff/Explosion (Throw) where the system crashes/halts.<br>3. Action: Branching.<br>4. Layout: Split path. | ## ğŸ¤” â€œå¤±æ•—â€ã«ã¯2ç¨®é¡ã‚ã‚‹ã‚ˆï¼âš ï¸ğŸ§¯ |
| 276 | docs/clean_ts_study_010.md | clean_ts_study_010_domain_error_terms.png | ./picture/clean_ts_study_010_domain_error_terms.png | **Theme**: Domain Terms vs Technical Terms<br><br>**Labels to Render**:<br>- Inside: "Domain Terms"<br>- Outside: "Technical Terms"<br>- Valid: "Empty Title"<br>- Invalid: "HTTP 400"<br><br>**Visual Details**:<br>1. Core Concept: Vocabulary boundary.<br>2. Metaphor: A membrane or filter.<br>   - Technical terms like "HTTP 400", "SQL Error" try to enter the circle but are bounced off.<br>   - Domain terms like "Empty Title", "Already Completed" are comfortable inside the circle.<br>3. Action: Filtering.<br>4. Layout: Circle boundary. | ## ğŸ§¾ æ¬¡ã« â€œãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼â€ ã‚’å®šç¾©ã—ã‚ˆã†ï¼ˆå†…å´ã®è¨€è‘‰ã ã‘ï¼‰ğŸ“–âœ¨ |
| 277 | docs/clean_ts_study_010.md | clean_ts_study_010_exhaustive_check.png | ./picture/clean_ts_study_010_exhaustive_check.png | **Theme**: Exhaustive Switch Check<br><br>**Labels to Render**:<br>- Switch: "Switch"<br>- Case A: "Case A"<br>- Case B: "Case B"<br>- Safety: "assertNever()"<br><br>**Visual Details**:<br>1. Core Concept: Catching missing cases.<br>2. Metaphor: Sorting machine.<br>   - Items fall into bins A and B.<br>   - A safety net (assertNever) at the bottom catches anything that doesn't fit A or B.<br>   - It glows red if something falls there (Compile Error).<br>3. Action: Catching.<br>4. Layout: Vertical flow. | ## ğŸ§  â€œæ¼ã‚Œâ€ã‚’é˜²ãï¼ç¶²ç¾…ãƒã‚§ãƒƒã‚¯ï¼ˆassertNeverï¼‰ğŸ§·âœ¨ |
| 278 | docs/clean_ts_study_010.md | clean_ts_study_010_error_translation.png | ./picture/clean_ts_study_010_error_translation.png | **Theme**: Error Translation Flow<br><br>**Labels to Render**:<br>- Error: "Domain Error"<br>- Translator: "Translator"<br>- UI: "User Message"<br><br>**Visual Details**:<br>1. Core Concept: Converting code to text.<br>2. Metaphor: Translation booth.<br>   - Input: A jagged rock or code symbol (Domain Error).<br>   - Process: Passes through a Translator booth.<br>   - Output: A smooth, friendly speech bubble (User Message) for the UI.<br>3. Action: Translating.<br>4. Layout: Left to Right. | ## ğŸ¨ ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¤ºç”¨ã«å¤‰æ›ã™ã‚‹ã®ã¯ â€œå¤–å´â€ ã®ä»•äº‹ï¼ˆã§ã‚‚ä¾‹ã ã‘è¦‹ã›ã‚‹ã­ï¼‰ğŸ–¼ï¸âœ¨ |
| 279 | docs/clean_ts_study_010.md | clean_ts_study_010_guard_clause.png | ./picture/clean_ts_study_010_guard_clause.png | **Theme**: Guard Clause Obstacle Course<br><br>**Labels to Render**:<br>- Runner: "Input"<br>- Hurdle 1: "Empty?"<br>- Hurdle 2: "Too Long?"<br>- Goal: "Success"<br><br>**Visual Details**:<br>1. Core Concept: Sequential validation.<br>2. Metaphor: Obstacle course.<br>   - A runner (Input) jumps over hurdles.<br>   - If they hit a hurdle, they stop (Error).<br>   - If they clear all, they reach the finish line (Success).<br>3. Action: Jumping/Running.<br>4. Layout: Linear course. | ## ğŸ§© Task Entity ã« â€œå¤±æ•—ã‚’è¿”ã™APIâ€ ã‚’ç”Ÿã‚„ã™ğŸŒ± |
| 280 | docs/clean_ts_study_011.md | clean_ts_study_011_lifecycle_concept.png | ./picture/clean_ts_study_011_lifecycle_concept.png | **Theme**: Entity Lifecycle Metaphor<br><br>**Labels to Render**:<br>- Create: "Create (Seed)"<br>- Active: "Active (Sprout)"<br>- Complete: "Complete (Flower)"<br><br>**Visual Details**:<br>1. Core Concept: Growth and states.<br>2. Metaphor: Plant growth.<br>   - Stage 1: Seed being planted (Create).<br>   - Stage 2: Green sprout growing (Active).<br>   - Stage 3: Full flower blooming (Complete).<br>3. Action: Growing.<br>4. Layout: Timeline or stages. | ## 1. ã¾ãšè¶…å¤§äº‹ï¼šEntityã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã£ã¦ãªã«ï¼ŸğŸ§¬ |
| 281 | docs/clean_ts_study_011.md | clean_ts_study_011_responsibility_balance.png | ./picture/clean_ts_study_011_responsibility_balance.png | **Theme**: UseCase vs Entity Responsibility<br><br>**Labels to Render**:<br>- UseCase: "UseCase (Steps)"<br>- Entity: "Entity (Rules)"<br>- Balance: "Balance"<br><br>**Visual Details**:<br>1. Core Concept: Separating concerns.<br>2. Metaphor: Balance Scale.<br>   - Left Pan: A checklist/clipboard (UseCase steps like Fetch, Save).<br>   - Right Pan: A heavy rulebook/shield (Entity rules).<br>   - The scale is perfectly balanced.<br>3. Action: Balancing.<br>4. Layout: Scale centered. | ## 2. ã„ã¡ã°ã‚“è¿·ã†ãƒã‚¤ãƒ³ãƒˆï¼šcompleteã¯èª°ã®è²¬å‹™ï¼ŸğŸ¤”âš–ï¸ |
| 282 | docs/clean_ts_study_011.md | clean_ts_study_011_test_coverage_map.png | ./picture/clean_ts_study_011_test_coverage_map.png | **Theme**: Minimal Test Coverage Map<br><br>**Labels to Render**:<br>- Map: "Entity Logic"<br>- Flag 1: "Creation"<br>- Flag 2: "Transition"<br>- Flag 3: "Guard"<br><br>**Visual Details**:<br>1. Core Concept: Covering key areas.<br>2. Metaphor: Conquest Map.<br>   - An island map representing Entity Logic.<br>   - Three flags are planted on strategic hills: Creation, Transition, Guard.<br>   - Shows that these key points are secured (Tested).<br>3. Action: Marking territory.<br>4. Layout: Map view. | ## 8. ãƒ†ã‚¹ãƒˆã§ã€Œç¦æ­¢æ¡ä»¶ã®æ¼ã‚Œã€ã‚’æ½°ã™ğŸ§ªğŸ’– |
| 283 | docs/clean_ts_study_011.md | clean_ts_study_011_pitfall_naked_interface.png | ./picture/clean_ts_study_011_pitfall_naked_interface.png | **Theme**: Interface vs Rich Entity<br><br>**Labels to Render**:<br>- Weak: "Interface (Type)"<br>- Strong: "Class (Rules)"<br>- Wind: "Chaos"<br><br>**Visual Details**:<br>1. Core Concept: Weak typing vs strong behavior.<br>2. Metaphor: Wind tunnel test.<br>   - Interface (Paper figure): Blown away/torn by the wind (Chaos).<br>   - Class (Knight): Standing strong, shield up, protecting the core.<br>3. Action: Resisting.<br>4. Layout: Side by side. | ### âŒ Entityã‚’ interface Task { ... } ã®ãŸã ã®å‹ã«ã—ã¡ã‚ƒã† |
| 284 | docs/clean_ts_study_011.md | clean_ts_study_011_guard_logic_detail.png | ./picture/clean_ts_study_011_guard_logic_detail.png | **Theme**: Guard Logic Detail<br><br>**Labels to Render**:<br>- Input: "Call complete()"<br>- Check: "Is Completed?"<br>- Yes: "Error"<br>- No: "Success"<br><br>**Visual Details**:<br>1. Core Concept: Internal method logic.<br>2. Metaphor: Circuit switch.<br>   - Signal enters.<br>   - Hits a switch (Check).<br>   - If switch is ON (Already completed), signal goes to Red Light (Error).<br>   - If switch is OFF, signal goes to Green Light (Update).<br>3. Action: Switching.<br>4. Layout: Circuit diagram style. | ## 5. Entityå®Ÿè£…ä¾‹ï¼ˆTaskã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ï¼‰ğŸ§±âœ… |
| 285 | docs/clean_ts_study_012.md | clean_ts_study_012_dependency_rule_circles.png | ./picture/clean_ts_study_012_dependency_rule_circles.png | **Theme**: Dependency Rule Circles<br><br>**Labels to Render**:<br>- Center: "Entity"<br>- Middle: "UseCase"<br>- Outer: "Adapter/Framework"<br>- Arrow: "Dependencies"<br><br>**Visual Details**:<br>1. Core Concept: Concentric layers.<br>2. Metaphor: Target board.<br>   - Center (Entity) is bright and pure.<br>   - Arrows from Outer layers pierce inwards.<br>   - NO arrows go outwards from Center.<br>3. Action: Pointing inward.<br>4. Layout: Concentric circles. | ## 1) ãªã‚“ã§ã€Œä¾å­˜ã‚¼ãƒ­ã€ãŒãã‚“ãªã«å¤§äº‹ãªã®ï¼ŸğŸ¤”ğŸ’¡ |
| 286 | docs/clean_ts_study_012.md | clean_ts_study_012_ok_ng_checklist.png | ./picture/clean_ts_study_012_ok_ng_checklist.png | **Theme**: OK vs NG Import Checklist<br><br>**Labels to Render**:<br>- OK: "OK Imports"<br>- NG: "NG Imports"<br>- Types: "Types / Math"<br>- Web: "Web / DB"<br><br>**Visual Details**:<br>1. Core Concept: Filtering dependencies.<br>2. Metaphor: Clipboard Checklist.<br>   - Top section (Green): Types, Math, Other Entities. Checked âœ….<br>   - Bottom section (Red): Express, SQLite, FS. Crossed out âŒ.<br>3. Action: Checking.<br>4. Layout: List view. | ## 2) Entitieså±¤ã€ŒOKä¾å­˜âœ… / NGä¾å­˜âŒã€æ—©è¦‹è¡¨ğŸ“‹âœ¨ |
| 287 | docs/clean_ts_study_012.md | clean_ts_study_012_polluted_heart.png | ./picture/clean_ts_study_012_polluted_heart.png | **Theme**: Polluted vs Clean Heart<br><br>**Labels to Render**:<br>- Polluted: "Polluted"<br>- Clean: "Pure"<br>- Wires: "Frameworks/DB"<br><br>**Visual Details**:<br>1. Core Concept: Impact of dependencies.<br>2. Metaphor: Cybernetic Organ.<br>   - Polluted: A heart (Entity) covered in messy wires, tubes (DB, Web), looking heavy and sick.<br>   - Clean: A glowing, floating crystal heart, free of attachments.<br>3. Action: Contrast.<br>4. Layout: Side by side. | #### å…¸å‹çš„ã«ã‚¢ã‚¦ãƒˆãªåŒ‚ã„ğŸ’¥ |
| 288 | docs/clean_ts_study_012.md | clean_ts_study_012_date_trap.png | ./picture/clean_ts_study_012_date_trap.png | **Theme**: New Date Trap<br><br>**Labels to Render**:<br>- Trap: "new Date()"<br>- Safe: "Argument (Date)"<br>- Entity: "Entity"<br><br>**Visual Details**:<br>1. Core Concept: Hardcoded time dependency.<br>2. Metaphor: Bear Trap.<br>   - Inside the Entity room, a bear trap labeled "new Date()" is set on the floor.<br>   - A hand reaches in safely from a window passing a Clock (Argument) to the Entity, avoiding the trap.<br>3. Action: Avoiding danger.<br>4. Layout: Room interior. | ### NGä¾‹âŒï¼šEntitiesã§ã€Œä»Šã®æ™‚åˆ»ã€ã‚’å–ã£ã¦ã—ã¾ã† |
| 289 | docs/clean_ts_study_012.md | clean_ts_study_012_eslint_robot_guard.png | ./picture/clean_ts_study_012_eslint_robot_guard.png | **Theme**: ESLint Robot Guard<br><br>**Labels to Render**:<br>- Guard: "ESLint"<br>- Block: "Block Import"<br>- Code: "Entity Code"<br>- Intruder: "Express/DB"<br><br>**Visual Details**:<br>1. Core Concept: Automated enforcement.<br>2. Metaphor: Robot Security.<br>   - A robot (ESLint) stands guard at the Entity Code gate.<br>   - An intruder (Package labeled Express) tries to enter.<br>   - Robot blocks it with a shield labeled "Rule: No Imports".<br>3. Action: Blocking.<br>4. Layout: Gate scene. | ## 5) è‡ªå‹•ç›£æŸ»ğŸ¤–âœ…ï¼šESLintã§ã€ŒEntitiesã‹ã‚‰å¤–å´importç¦æ­¢ã€ã‚’å›ºå®šã™ã‚‹ |
| 290 | docs/clean_ts_study_013.md | clean_ts_study_013_magnifying_glass_scope.png | ./picture/clean_ts_study_013_magnifying_glass_scope.png | **Theme**: Minimal Test Scope<br><br>**Labels to Render**:<br>- Scope: "Test Scope"<br>- Focus: "Entity"<br>- Ignore: "DB / UI"<br><br>**Visual Details**:<br>1. Core Concept: Focusing the test.<br>2. Metaphor: Magnifying Glass.<br>   - A magnifying glass hovers over the Entity.<br>   - Under the glass, details are sharp.<br>   - Outside the glass, DB and UI elements are blurry and faded.<br>3. Action: Focusing.<br>4. Layout: Center focus. | ## 2) â€œæœ€å°ãƒ†ã‚¹ãƒˆâ€ã£ã¦ãªã«ï¼ŸğŸ¤ğŸ§ª |
| 291 | docs/clean_ts_study_013.md | clean_ts_study_013_test_triangle.png | ./picture/clean_ts_study_013_test_triangle.png | **Theme**: Minimal Test Triangle<br><br>**Labels to Render**:<br>- Corner 1: "Normal (Happy)"<br>- Corner 2: "Abnormal (Error)"<br>- Corner 3: "Boundary (Edge)"<br>- Center: "Stable Entity"<br><br>**Visual Details**:<br>1. Core Concept: The three pillars of minimal testing.<br>2. Metaphor: Triangle structure.<br>   - A strong triangle supporting the Entity.<br>   - Corners are labeled Normal, Abnormal, Boundary.<br>   - Shows stability.<br>3. Action: Supporting.<br>4. Layout: Triangle. | ## 6) â€œæœ€å°ãƒ†ã‚¹ãƒˆ3æœ¬â€ã§ã¾ãšå‹ã¤ğŸ¥‡ğŸ§ªâœ¨ |
| 292 | docs/clean_ts_study_013.md | clean_ts_study_013_determinism_injection.png | ./picture/clean_ts_study_013_determinism_injection.png | **Theme**: Deterministic Time Injection<br><br>**Labels to Render**:<br>- Test: "Test Runner"<br>- Fixed: "Fixed Time"<br>- Entity: "Entity"<br><br>**Visual Details**:<br>1. Core Concept: Controlling variables.<br>2. Metaphor: Lab Injection.<br>   - A scientist (Test Runner) uses a syringe to inject a specific "Fixed Time" serum into the Entity.<br>   - This ensures the reaction is predictable, unlike using a random "Real Time" potion.<br>3. Action: Injecting.<br>4. Layout: Lab scene. | ## 4) Entitiesï¼ˆTaskï¼‰ã®â€œãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„å½¢â€ã«æ•´ãˆã‚‹ğŸ§±âœ¨ |
| 293 | docs/clean_ts_study_013.md | clean_ts_study_013_tdd_cycle.png | ./picture/clean_ts_study_013_tdd_cycle.png | **Theme**: Red Green Refactor Cycle<br><br>**Labels to Render**:<br>- Red: "Fail"<br>- Green: "Pass"<br>- Blue: "Refactor"<br><br>**Visual Details**:<br>1. Core Concept: TDD Workflow.<br>2. Metaphor: Cycle.<br>   - A circular flow.<br>   - Red zone (Fail) -> Green zone (Pass) -> Blue zone (Refactor).<br>   - Arrows connecting them indicating continuous improvement.<br>3. Action: Cycling.<br>4. Layout: Circle. | ## 3) ãƒ†ã‚¹ãƒˆåŸºç›¤ã¯ã©ã†ã™ã‚‹ï¼Ÿï¼ˆ2026ã®é¸ã³æ–¹ï¼‰âš™ï¸ğŸ§© |
| 294 | docs/clean_ts_study_013.md | clean_ts_study_013_guard_rails.png | ./picture/clean_ts_study_013_guard_rails.png | **Theme**: Tests as Guard Rails<br><br>**Labels to Render**:<br>- Car: "Entity Logic"<br>- Rail: "Tests"<br>- Cliff: "Bug/Regression"<br><br>**Visual Details**:<br>1. Core Concept: Safety.<br>2. Metaphor: Highway Guard Rails.<br>   - A fast car (Entity Logic) speeding on a mountain road.<br>   - Strong guard rails (Tests) on the side prevent it from falling off the cliff (Bug).<br>3. Action: Protecting.<br>4. Layout: Road curve. | ## 1) ã“ã®ç« ã§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ğŸ¯âœ¨ |
| 295 | docs/clean_ts_study_021.md | clean_ts_study_021_usecase_pollution.png | ./picture/clean_ts_study_021_usecase_pollution.png | **Theme**: Polluted UseCase<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Mud: "HTTP 400"<br>- Dirt: "DB Error"<br>- Clean: "Clean"<br><br>**Visual Details**:<br>1. Core Concept: External concerns polluting the UseCase.<br>2. Metaphor: A pristine white room (UseCase) being dirtied by muddy footprints labeled "HTTP 400" and "DB Error".<br>3. Action: Pollution.<br>4. Layout: Room scene. | ### âŒ ã‚ˆãã‚ã‚‹äº‹æ•… |
| 296 | docs/clean_ts_study_021.md | clean_ts_study_021_result_pattern_box.png | ./picture/clean_ts_study_021_result_pattern_box.png | **Theme**: Result Pattern Box<br><br>**Labels to Render**:<br>- Box: "Result"<br>- Ok: "Ok (Value)"<br>- Err: "Err (Error)"<br><br>**Visual Details**:<br>1. Core Concept: A container for success or failure.<br>2. Metaphor: A magical box labeled "Result" with two distinct compartments.<br>   - Left: Glowing green, holding a Gem (Value).<br>   - Right: Glowing red, holding a Scroll (Error).<br>3. Action: Containing.<br>4. Layout: Open box view. | ## 4) ãŠã™ã™ã‚ã®å½¢ï¼šResultå‹ï¼ˆåˆ¤åˆ¥å¯èƒ½ãƒ¦ãƒ‹ã‚ªãƒ³ï¼‰ğŸ§©âœ¨ |
| 297 | docs/clean_ts_study_021.md | clean_ts_study_021_switch_exhaustiveness.png | ./picture/clean_ts_study_021_switch_exhaustiveness.png | **Theme**: Switch Exhaustiveness Safety Net<br><br>**Labels to Render**:<br>- Net: "assertNever"<br>- Fall: "Unhandled Case"<br>- Safe: "Compile Error"<br><br>**Visual Details**:<br>1. Core Concept: Catching unhandled cases.<br>2. Metaphor: A safety net labeled "assertNever" under a trapeze (Switch).<br>   - An acrobat (Unhandled Case) falls but is caught by the net.<br>   - The net glows red (Compile Error) to alert the safety crew.<br>3. Action: Catching.<br>4. Layout: Circus scene. | export const assertNever = (x: never): never => { |
| 298 | docs/clean_ts_study_021.md | clean_ts_study_021_tagged_errors.png | ./picture/clean_ts_study_021_tagged_errors.png | **Theme**: Tagged Union Errors<br><br>**Labels to Render**:<br>- Tag 1: "type: InvalidTitle"<br>- Tag 2: "type: TaskNotFound"<br>- Easy: "Easy Sort"<br><br>**Visual Details**:<br>1. Core Concept: Errors identified by tags.<br>2. Metaphor: Luggage tags with clear, bold text labels.<br>   - One tag says "InvalidTitle".<br>   - Another says "TaskNotFound".<br>   - They are distinct colors.<br>3. Action: Labeling.<br>4. Layout: Close-up of tags. | ### âœ… ã‚¨ãƒ©ãƒ¼ã¯ â€œã‚¿ã‚°ä»˜ãâ€ ã«ã™ã‚‹ï¼ˆåˆ¤åˆ¥ãŒæ¥½ï¼ï¼‰ğŸ·ï¸ |
| 299 | docs/clean_ts_study_021.md | clean_ts_study_021_boundary_translator.png | ./picture/clean_ts_study_021_boundary_translator.png | **Theme**: Boundary Translator<br><br>**Labels to Render**:<br>- Input: "Domain Error"<br>- Translator: "Map Function"<br>- Output: "HTTP 400"<br><br>**Visual Details**:<br>1. Core Concept: Converting Domain Error to HTTP Response.<br>2. Metaphor: A translation booth at the border.<br>   - Input: A scroll saying "InvalidTitle".<br>   - Process: The Translator (Map Function) reads it.<br>   - Output: A digital sign saying "HTTP 400".<br>3. Action: Translating.<br>4. Layout: Side by side. | ## 7) å¢ƒç•Œï¼ˆController/Presenterï¼‰ã§ â€œå¤–å´è¡¨ç¾â€ ã«å¤‰æ›ã™ã‚‹ğŸ¨ğŸšª |
| 300 | docs/clean_ts_study_021.md | clean_ts_study_021_test_isolation.png | ./picture/clean_ts_study_021_test_isolation.png | **Theme**: Isolated Testing<br><br>**Labels to Render**:<br>- Lab: "Test Lab"<br>- UseCase: "UseCase"<br>- No DB: "No DB"<br>- Clean: "Clean"<br><br>**Visual Details**:<br>1. Core Concept: Testing without external dependencies.<br>2. Metaphor: A scientist testing a "UseCase" object in a sterile, white lab.<br>   - No heavy machinery (DB/Web) is present, only light tools (Mock/Port).<br>3. Action: Testing.<br>4. Layout: Lab scene. | ## 8) ãƒ†ã‚¹ãƒˆãŒè¶…ãƒ©ã‚¯ã«ãªã‚‹ğŸ§ªğŸ€ï¼ˆå¢ƒç•Œã‚’ä½œã‚‰ãšã«æ¤œè¨¼OKï¼‰ |
| 301 | docs/clean_ts_study_022.md | clean_ts_study_022_test_double_trio.png | ./picture/clean_ts_study_022_test_double_trio.png | **Theme**: Test Double Trio<br><br>**Labels to Render**:<br>- Stub: "Stub (Fixed Value)"<br>- Fake: "Fake (Working Logic)"<br>- Spy: "Spy (Recording)"<br><br>**Visual Details**:<br>1. Core Concept: Three types of test doubles.<br>2. Metaphor: Three distinct characters.<br>   - Stub: A statue holding a sign with a fixed answer.<br>   - Fake: A simplified, friendly robot doing basic work.<br>   - Spy: A detective with binoculars and a notebook recording actions.<br>3. Action: Posing.<br>4. Layout: Character lineup. | ## 3) ãƒ†ã‚¹ãƒˆãƒ€ãƒ–ãƒ«ï¼ˆå½ç‰©ï¼‰3å…„å¼ŸğŸ‘¯â€â™€ï¸âœ¨ |
| 302 | docs/clean_ts_study_022.md | clean_ts_study_022_fake_repo_map.png | ./picture/clean_ts_study_022_fake_repo_map.png | **Theme**: Fake Repository Map<br><br>**Labels to Render**:<br>- Container: "FakeRepo"<br>- Storage: "Map<ID, Task>"<br>- Item: "Task Object"<br>- Light: "Lightweight"<br><br>**Visual Details**:<br>1. Core Concept: In-memory storage for testing.<br>2. Metaphor: A lightweight, transparent container labeled "FakeRepo".<br>   - Inside, floating items are organized in a simple grid (Map).<br>   - No heavy cables or servers connected.<br>3. Action: Storing.<br>4. Layout: Object view. | ### 6-2) Fake Repositoryï¼ˆMapã§ä¿å­˜ã§ãã‚‹ã‚„ã¤ï¼‰ğŸ—ƒï¸âœ¨ |
| 303 | docs/clean_ts_study_022.md | clean_ts_study_022_fixed_time_id.png | ./picture/clean_ts_study_022_fixed_time_id.png | **Theme**: Fixed Time and ID<br><br>**Labels to Render**:<br>- Clock: "Fixed Clock"<br>- Time: "12:00:00"<br>- ID: "Fixed ID"<br>- Card: "ID-001"<br><br>**Visual Details**:<br>1. Core Concept: Deterministic values for testing.<br>2. Metaphor:<br>   - A clock mechanism frozen/stopped exactly at 12:00:00.<br>   - An ID card printer producing identical cards labeled "ID-001".<br>   - Symbolizing stability.<br>3. Action: Freezing/Printing.<br>4. Layout: Split view. | ### 6-3) å›ºå®šIdGenerator / å›ºå®šClockï¼ˆãƒ†ã‚¹ãƒˆã‚’å®‰å®šã•ã›ã‚‹ï¼‰ğŸ†”â°âœ¨ |
| 304 | docs/clean_ts_study_022.md | clean_ts_study_022_test_flow_success.png | ./picture/clean_ts_study_022_test_flow_success.png | **Theme**: Success Test Flow<br><br>**Labels to Render**:<br>- Input: "Title: Buy Milk"<br>- Process: "UseCase"<br>- Store: "FakeRepo"<br>- Assert: "Check OK"<br><br>**Visual Details**:<br>1. Core Concept: The flow of a successful test.<br>2. Metaphor: A green path.<br>   - Step 1: Input enters UseCase.<br>   - Step 2: UseCase puts item in FakeRepo box.<br>   - Step 3: Test Assert checks the box and gives a Thumbs Up.<br>3. Action: Flowing.<br>4. Layout: Linear flow. | ### 7-3) ãƒ†ã‚¹ãƒˆï¼šæˆåŠŸã‚±ãƒ¼ã‚¹ğŸ‰ |
| 305 | docs/clean_ts_study_022.md | clean_ts_study_022_spy_vs_state.png | ./picture/clean_ts_study_022_spy_vs_state.png | **Theme**: Spy vs State Verification<br><br>**Labels to Render**:<br>- Spy: "Spy (Watch Action)"<br>- State: "State (Check Result)"<br>- Box: "Repo"<br><br>**Visual Details**:<br>1. Core Concept: Two ways to verify.<br>2. Metaphor:<br>   - Spy: A detective watching someone put a letter in a mailbox (Focus on action).<br>   - State: A person opening the mailbox to see if the letter is inside (Focus on result).<br>3. Action: Watching vs Checking.<br>4. Layout: Split view. | ## 10) Spyï¼ˆvi.fnï¼‰ã§â€œå‘¼ã°ã‚Œæ–¹â€ã‚‚ç¢ºèªã—ãŸã„æ™‚ğŸ‘€âœ¨ |
| 306 | docs/clean_ts_study_022.md | clean_ts_study_022_common_pitfalls.png | ./picture/clean_ts_study_022_common_pitfalls.png | **Theme**: Test Pitfalls<br><br>**Labels to Render**:<br>- Trap 1: "Real DB"<br>- Trap 2: "Random ID"<br>- Trap 3: "System Time"<br>- Warning: "Flaky Test"<br><br>**Visual Details**:<br>1. Core Concept: Common mistakes in unit testing.<br>2. Metaphor: A path with traps.<br>   - A bear trap labeled "Real DB".<br>   - A spinning dice labeled "Random ID".<br>   - A spinning clock labeled "System Time".<br>   - A warning sign "Flaky Test".<br>3. Action: Danger.<br>4. Layout: Hazard path. | ## 11) ã‚ˆãã‚ã‚‹è½ã¨ã—ç©´ã‚ã‚‹ã‚ã‚‹ğŸ˜‡ğŸ’¥ |
| 307 | docs/clean_ts_study_023.md | clean_ts_study_023_destructive_patterns.png | ./picture/clean_ts_study_023_destructive_patterns.png | **Theme**: Destructive Dependency Patterns<br><br>**Labels to Render**:<br>- Pattern A: "DB Direct"<br>- Pattern B: "Web Framework"<br>- Pattern C: "Env Vars"<br>- Status: "NG"<br><br>**Visual Details**:<br>1. Core Concept: Three common architectural violations.<br>2. Metaphor: UseCase character burdened by wrong items.<br>   - A: Holding a heavy "DB Client" rock.<br>   - B: Wearing a "Web Framework" hat.<br>   - C: Reading a "dotenv" secret scroll directly.<br>   - All marked with Red X.<br>3. Action: Burdening.<br>4. Layout: Three panels. | ## 2) ã‚ã‚‹ã‚ã‚‹ç ´å£Šãƒ‘ã‚¿ãƒ¼ãƒ³é›†ï¼ˆè¶…é‡è¦ï¼‰ğŸ¥²ğŸ§¨ |
| 308 | docs/clean_ts_study_023.md | clean_ts_study_023_audit_steps.png | ./picture/clean_ts_study_023_audit_steps.png | **Theme**: Three Steps of Audit<br><br>**Labels to Render**:<br>- Step 1: "Eye (Manual)"<br>- Step 2: "Lint (Auto)"<br>- Step 3: "Cruiser (Map)"<br>- Strength: "Stronger"<br><br>**Visual Details**:<br>1. Core Concept: Progression of audit rigor.<br>2. Metaphor: Three levels of defense.<br>   - Step 1: A human eye inspecting.<br>   - Step 2: A robot (ESLint) scanning.<br>   - Step 3: A radar system (Dependency Cruiser) mapping the terrain.<br>   - Arrow showing increasing strength.<br>3. Action: Evolving.<br>4. Layout: Steps ascending. | ## 3) ä¾å­˜ç›£æŸ»ã¯ã€Œç›®è¦–â†’Lintâ†’ä¾å­˜è§£æã€ã®3æ®µéšãŒæœ€å¼·ğŸ’ªğŸ§ªâœ¨ |
| 309 | docs/clean_ts_study_023.md | clean_ts_study_023_eslint_guard.png | ./picture/clean_ts_study_023_eslint_guard.png | **Theme**: ESLint Guard<br><br>**Labels to Render**:<br>- Guard: "ESLint"<br>- Shield: "No Restricted Imports"<br>- Arrow: "Import Adapter"<br>- Protected: "UseCase"<br><br>**Visual Details**:<br>1. Core Concept: ESLint blocking bad imports.<br>2. Metaphor: A robot (ESLint) standing at the border of the "UseCases" folder.<br>   - It stops an arrow labeled "Import Adapter" with a shield.<br>   - The shield glows red.<br>3. Action: Blocking.<br>4. Layout: Gatekeeper scene. | ## 4) ã¾ãšã¯ESLintã§ã€ŒUseCasesã‹ã‚‰å¤–å´importç¦æ­¢ã€ğŸš«ğŸ“¦âœ¨ |
| 310 | docs/clean_ts_study_023.md | clean_ts_study_023_vscode_red_line.png | ./picture/clean_ts_study_023_vscode_red_line.png | **Theme**: VS Code Red Line<br><br>**Labels to Render**:<br>- Editor: "VS Code"<br>- Code: "import from 'adapters'"<br>- Error: "Restricted Import!"<br>- Line: "Red Squiggle"<br><br>**Visual Details**:<br>1. Core Concept: Immediate feedback in the editor.<br>2. Metaphor: A code editor screen.<br>   - A line of code `import ... from 'adapters'` is underlined in jagged red.<br>   - A tooltip pop-up says "Restricted Import!".<br>   - An alert icon is visible.<br>3. Action: Alerting.<br>4. Layout: Screen close-up. | ## 4-3) VS Codeã§â€œèµ¤ç·šå³å‡ºã—â€ã«ã™ã‚‹ğŸ‘€ğŸš¨ |
| 311 | docs/clean_ts_study_023.md | clean_ts_study_023_dep_cruiser_map.png | ./picture/clean_ts_study_023_dep_cruiser_map.png | **Theme**: Dependency Cruiser Map<br><br>**Labels to Render**:<br>- Node: "File/Module"<br>- Line: "Dependency"<br>- Violation: "Red Line"<br>- Tool: "Dependency Cruiser"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing dependencies.<br>2. Metaphor: A complex network graph or star map.<br>   - Nodes are files/modules.<br>   - Edges are dependencies.<br>   - A specific line lights up RED showing a violation (Forbidden direction).<br>   - A magnifying glass inspects it.<br>3. Action: Mapping.<br>4. Layout: Network graph. | ## 6) ä»•ä¸Šã’ï¼šdependency-cruiserã§â€œå…¨ä½“ã®ä¾å­˜â€ã‚’ç›£æŸ»ï¼†å¯è¦–åŒ–ğŸ—ºï¸ğŸ§¨âœ¨ |
| 312 | docs/clean_ts_study_023.md | clean_ts_study_023_fixing_violations.png | ./picture/clean_ts_study_023_fixing_violations.png | **Theme**: Fixing Violations with Port<br><br>**Labels to Render**:<br>- Before: "Direct (NG)"<br>- After: "Port (OK)"<br>- Cut: "Cut Dependency"<br>- Connect: "Plug In"<br><br>**Visual Details**:<br>1. Core Concept: Refactoring to remove direct dependency.<br>2. Metaphor: Before and After.<br>   - Before: UseCase connected directly to "DB" with a red wire (Cut it!).<br>   - After: UseCase connected to a "Port" (Socket), and "DB" plugs into the Port (Adapter).<br>   - Green checkmark on After.<br>3. Action: Refactoring.<br>4. Layout: Split view. | ## 7) â€œé•åã—ãŸã¨ãâ€ã®ç›´ã—æ–¹ãƒ†ãƒ³ãƒ—ãƒ¬ğŸ§¯ğŸ§¼ |
| 313 | docs/clean_ts_study_024.md | clean_ts_study_024_no_port_trap.png | ./picture/clean_ts_study_024_no_port_trap.png | **Theme**: Life without Ports<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Chains: "Direct Dep"<br>- DB: "SQL DB"<br>- Web: "Web"<br><br>**Visual Details**:<br>1. Core Concept: Tight coupling causes pain.<br>2. Metaphor: UseCase character is chained to a heavy "SQL Database" and a "Web Server".<br>   - The chains are labeled "Direct Dependency".<br>   - The character looks exhausted and stuck.<br>3. Action: Trapped.<br>4. Layout: Character centered. | ## 2) PortãŒãªã„ã¨ã€ä½•ãŒã¤ã‚‰ã„ã®ï¼ŸğŸ˜µâ€ğŸ’«ğŸ§¨ |
| 314 | docs/clean_ts_study_024.md | clean_ts_study_024_port_adapter_mini.png | ./picture/clean_ts_study_024_port_adapter_mini.png | **Theme**: Port and Adapter Relationship<br><br>**Labels to Render**:<br>- UseCase: "UseCase (Call)"<br>- Port: "Port (Interface)"<br>- Adapter: "Adapter (Impl)"<br>- Arrow: "Plug In"<br><br>**Visual Details**:<br>1. Core Concept: Separation of Interface and Implementation.<br>2. Metaphor: A plug and socket connection.<br>   - Left: UseCase holding a Socket (Port).<br>   - Right: Adapter holding a Plug.<br>   - They connect perfectly.<br>3. Action: Connecting.<br>4. Layout: Horizontal flow. | ## 3) Portã¨Adapterã®é–¢ä¿‚ã‚’ã€ãƒŸãƒ‹å›³ã§ã¤ã‹ã‚€ğŸ§©ğŸ” |
| 315 | docs/clean_ts_study_024.md | clean_ts_study_024_port_extraction.png | ./picture/clean_ts_study_024_port_extraction.png | **Theme**: Port Extraction from UseCases<br><br>**Labels to Render**:<br>- Clouds: "UseCases"<br>- Rain: "Needs (Save/ID)"<br>- Buckets: "Ports"<br>- Repo: "Repo"<br>- Clock: "Clock"<br><br>**Visual Details**:<br>1. Core Concept: Grouping requirements into Ports.<br>2. Metaphor: Three UseCases (Create, Complete, List) are clouds raining down droplets labeled "Save", "ID", "Time".<br>   - The droplets fall into matching buckets labeled "TaskRepository", "IdGenerator", "Clock".<br>3. Action: Collecting.<br>4. Layout: Rain collection. | ## 4) ã“ã®ãƒŸãƒ‹Taskã‚¢ãƒ—ãƒªã§ã€Portã¯ä½•ã«ãªã‚‹ï¼ŸğŸ—’ï¸ğŸ”Œâœ¨ |
| 316 | docs/clean_ts_study_024.md | clean_ts_study_024_naming_ports.png | ./picture/clean_ts_study_024_naming_ports.png | **Theme**: Naming Ports Correctly<br><br>**Labels to Render**:<br>- Input 1: "SqliteRepo"<br>- Input 2: "TaskStore"<br>- Filter: "Capability Check"<br>- Result: "OK / NG"<br><br>**Visual Details**:<br>1. Core Concept: Naming based on capability, not technology.<br>2. Metaphor: A sorting machine or gate.<br>   - Input "SqliteRepo" (Tech Name) hits a red X.<br>   - Input "TaskStore" (Capability Name) gets a green check.<br>3. Action: Filtering.<br>4. Layout: Sorting flow. | ## 5) Portè¨­è¨ˆã®ã‚³ãƒ„ï¼šå¤–å´éƒ½åˆã˜ã‚ƒãªãã€Œå†…å´éƒ½åˆã€ğŸ’˜ |
| 317 | docs/clean_ts_study_024.md | clean_ts_study_024_port_steps.png | ./picture/clean_ts_study_024_port_steps.png | **Theme**: 3 Steps to Create Port<br><br>**Labels to Render**:<br>- Step 1: "Deconstruct"<br>- Step 2: "Mark External"<br>- Step 3: "Group into Port"<br><br>**Visual Details**:<br>1. Core Concept: Process of defining a Port.<br>2. Metaphor: Puzzle assembly.<br>   - Step 1: Breaking a UseCase picture into puzzle pieces.<br>   - Step 2: Highlighting pieces that need external help (Database, Time).<br>   - Step 3: Fitting those pieces into a frame labeled "Port".<br>3. Action: Assembling.<br>4. Layout: 3 steps. | ## 7) Portã‚’ä½œã‚‹æ‰‹é †ï¼ˆè¿·å­ã«ãªã‚‰ãªã„3ã‚¹ãƒ†ãƒƒãƒ—ï¼‰ğŸ§­âœ¨ |
| 318 | docs/clean_ts_study_024.md | clean_ts_study_024_giant_repo.png | ./picture/clean_ts_study_024_giant_repo.png | **Theme**: Giant Repository Failure<br><br>**Labels to Render**:<br>- Plug: "God Repository"<br>- Pins: "Too Many Methods"<br>- UseCase: "UseCase"<br>- Fear: "Scared"<br><br>**Visual Details**:<br>1. Core Concept: Interface Segregation violation.<br>2. Metaphor: A massive, bloated plug labeled "God Repository".<br>   - It has 100 pins (methods) sticking out.<br>   - A tiny UseCase character looks scared and overwhelmed trying to hold it.<br>3. Action: Overwhelmed.<br>4. Layout: Contrast of scale. | ### âŒ å¤±æ•—1ï¼šPortãŒãƒ‡ã‚«ã™ãã‚‹ï¼ˆå·¨å¤§Repositoryï¼‰ğŸ˜ |
| 319 | docs/clean_ts_study_025.md | clean_ts_study_025_repository_collection.png | ./picture/clean_ts_study_025_repository_collection.png | **Theme**: Repository as Collection<br><br>**Labels to Render**:<br>- Container: "Repository"<br>- Items: "Task Objects"<br>- Hand: "UseCase"<br>- No DB: "No SQL"<br><br>**Visual Details**:<br>1. Core Concept: Repository abstraction.<br>2. Metaphor: A clean box labeled "Repository".<br>   - Inside, glowing "Task" objects are floating freely like in a memory collection.<br>   - A hand (UseCase) reaches in to pick one.<br>   - Explicitly NO cables connecting to a database.<br>3. Action: Picking.<br>4. Layout: Object view. | ## 1) Repository Portã£ã¦ã€ãã‚‚ãã‚‚ä½•ï¼ŸğŸ”Œ |
| 320 | docs/clean_ts_study_025.md | clean_ts_study_025_fat_vs_lean.png | ./picture/clean_ts_study_025_fat_vs_lean.png | **Theme**: Fat vs Lean Repository<br><br>**Labels to Render**:<br>- Fat: "Fat Repo (Too Many)"<br>- Lean: "Lean Repo (Minimal)"<br>- Tools: "Methods"<br><br>**Visual Details**:<br>1. Core Concept: Minimal Interface.<br>2. Metaphor: Two characters.<br>   - Left: A bloated, heavy character (Fat Repo) struggling to carry 20 different tools (FindAll, FindByDate, UpdateName...).<br>   - Right: A fit, agile character (Lean Repo) carrying just 3 essential tools (Find, Save, List) on a belt.<br>3. Action: Comparison.<br>4. Layout: Side by side. | ## 2) æœ€å°ãƒ¡ã‚½ãƒƒãƒ‰ä¸»ç¾©ã£ã¦ãªã«ï¼ŸğŸ±âœ¨ |
| 321 | docs/clean_ts_study_025.md | clean_ts_study_025_reverse_design.png | ./picture/clean_ts_study_025_reverse_design.png | **Theme**: Reverse Design from UseCase<br><br>**Labels to Render**:<br>- Script: "UseCase Script"<br>- Highlight: "Need Save/Find"<br>- Result: "Port Interface"<br>- Arrow: "Reverse"<br><br>**Visual Details**:<br>1. Core Concept: Designing Port based on UseCase needs.<br>2. Metaphor: Reverse Engineering.<br>   - Step 1: A movie script (UseCase) with lines like "Then save it".<br>   - Step 2: A spotlight highlights "save".<br>   - Step 3: An arrow points backwards to create the "Port Interface" with `save()`.<br>3. Action: Extracting.<br>4. Layout: Right to Left flow. | ## 3) è¨­è¨ˆæ‰‹é †ï¼šUseCaseã‹ã‚‰é€†ç®—ã™ã‚‹ ğŸ§­âœ¨ |
| 322 | docs/clean_ts_study_025.md | clean_ts_study_025_cqrs_split.png | ./picture/clean_ts_study_025_cqrs_split.png | **Theme**: CQRS Split<br><br>**Labels to Render**:<br>- Write: "Write Repo"<br>- Read: "Read Repo"<br>- Tools: "Save / List"<br>- Separation: "Split"<br><br>**Visual Details**:<br>1. Core Concept: Separating Read and Write interfaces.<br>2. Metaphor: Splitting a large kit into two specialized ones.<br>   - Left: "Write Repo" box with a Pen icon (Save, FindById).<br>   - Right: "Read Repo" box with a Glasses/Search icon (List, Filter).<br>   - Clean separation.<br>3. Action: Splitting.<br>4. Layout: Split view. | #### æ–¹å‘æ€§â‘¡ï¼šèª­ã¿æ›¸ãã‚’åˆ†ã‘ã‚‹ï¼ˆãƒŸãƒ‹CQRSï¼‰ğŸ‘€âœï¸ |
| 323 | docs/clean_ts_study_025.md | clean_ts_study_025_logic_leak.png | ./picture/clean_ts_study_025_logic_leak.png | **Theme**: Logic Leak Warning<br><br>**Labels to Render**:<br>- Box: "Repository"<br>- Gear: "Logic (Complete)"<br>- Alarm: "Wrong Place!"<br>- Leak: "Logic Leak"<br><br>**Visual Details**:<br>1. Core Concept: Business logic should not be in Repository.<br>2. Metaphor: A Repository box.<br>   - A complex gear labeled "Business Logic (Complete Task)" is trying to hide inside the box.<br>   - A red alarm light goes off above the box labeled "Wrong Place!".<br>3. Action: Alarm.<br>4. Layout: Warning scene. | ## 6) â€œUseCaseã®è²¬å‹™â€ã‚’Repositoryã«å…¥ã‚Œãªã„ã§ã­âš ï¸ |
| 324 | docs/clean_ts_study_025.md | clean_ts_study_025_easy_fake.png | ./picture/clean_ts_study_025_easy_fake.png | **Theme**: Easy Fake Check<br><br>**Labels to Render**:<br>- Port: "Repo Interface"<br>- Fake: "Fake Impl"<br>- Snap: "Snap!"<br>- Green: "Easy"<br><br>**Visual Details**:<br>1. Core Concept: Good design makes mocking easy.<br>2. Metaphor: Building blocks.<br>   - A developer holding a "Port Interface" block.<br>   - They instantly snap a "Fake Implementation" block onto it.<br>   - It fits perfectly and lights up green.<br>   - Text bubble: "Easy to Mock!".<br>3. Action: Snapping.<br>4. Layout: Hands on view. | ## 7) FakeãŒä¸€ç¬ã§ä½œã‚Œã‚‹ã‹ï¼Ÿã‚’æœ€çµ‚ãƒã‚§ãƒƒã‚¯ã«ã—ã‚ˆ ğŸ§ªğŸ­ |
| 325 | docs/clean_ts_study_026.md | clean_ts_study_026_minimal_ports.png | ./picture/clean_ts_study_026_minimal_ports.png | **Theme**: Minimal Ports<br><br>**Labels to Render**:<br>- Card 1: "Clock"<br>- Method 1: "now()"<br>- Card 2: "IdGenerator"<br>- Method 2: "newId()"<br><br>**Visual Details**:<br>1. Core Concept: Simple interfaces for side effects.<br>2. Metaphor: Two clean interface cards.<br>   - Card 1 labeled "Clock" with a single button "now()".<br>   - Card 2 labeled "IdGenerator" with a single button "newId()".<br>   - Minimalist design.<br>3. Action: Displaying.<br>4. Layout: Side by side. | ## 3) Portã®è¨­è¨ˆï¼šClock ã¨ IdGenerator ã‚’ä½œã‚‹ğŸ§©âœ¨ |
| 326 | docs/clean_ts_study_026.md | clean_ts_study_026_driver_impl.png | ./picture/clean_ts_study_026_driver_impl.png | **Theme**: Driver Implementation<br><br>**Labels to Render**:<br>- Driver 1: "SystemClock"<br>- Driver 2: "UuidGenerator"<br>- Port: "Port"<br>- Impl: "Implementation"<br><br>**Visual Details**:<br>1. Core Concept: Real implementations plugging into Ports.<br>2. Metaphor:<br>   - SystemClock: A realistic mechanical clock gear plugging into the Clock Port.<br>   - UuidGenerator: A random number generator machine plugging into the IdGenerator Port.<br>3. Action: Plugging in.<br>4. Layout: Connection view. | ## 4. â€œå¤–å´â€ ã®å®Ÿè£…ä¾‹ï¼ˆAdapter/Driverå´ï¼‰âš™ï¸âœ¨ |
| 327 | docs/clean_ts_study_026.md | clean_ts_study_026_injection_diagram.png | ./picture/clean_ts_study_026_injection_diagram.png | **Theme**: Dependency Injection of Ports<br><br>**Labels to Render**:<br>- Center: "Interactor"<br>- Inject 1: "Repo"<br>- Inject 2: "Clock"<br>- Inject 3: "IdGen"<br><br>**Visual Details**:<br>1. Core Concept: Injecting dependencies into UseCase.<br>2. Metaphor: Constructing a robot (Interactor).<br>   - Three components (Repo, Clock, IdGen) are being inserted into slots in the robot's chest (Constructor).<br>   - Arrows show the direction of injection.<br>3. Action: Assembling.<br>4. Layout: Assembly diagram. | ## 5. UseCaseã«æ³¨å…¥ã—ã¦ä½¿ã†ï¼ˆã“ã“ãŒã‚­ãƒ¢ï¼ï¼‰ğŸ’‰âœ¨ |
| 328 | docs/clean_ts_study_026.md | clean_ts_study_026_fixed_test.png | ./picture/clean_ts_study_026_fixed_test.png | **Theme**: Fixed Test Environment<br><br>**Labels to Render**:<br>- Clock: "Fixed (Ice)"<br>- ID: "Sequence (1, 2, 3)"<br>- Test: "Stable"<br><br>**Visual Details**:<br>1. Core Concept: Deterministic testing.<br>2. Metaphor:<br>   - Clock: Frozen in a block of ice at "2026-01-01".<br>   - ID: A dispenser giving out "task-001", "task-002" in perfect order.<br>   - Test Runner: Smiling and holding a "Pass" sign.<br>3. Action: Testing.<br>4. Layout: Lab scene. | ## 6. ãƒ†ã‚¹ãƒˆãŒã‚ã£ã¡ã‚ƒæ¥½ã«ãªã‚‹ï¼ˆFixedClock / FixedIdï¼‰ğŸ§ªğŸ­âœ¨ |
| 329 | docs/clean_ts_study_026.md | clean_ts_study_026_port_hell.png | ./picture/clean_ts_study_026_port_hell.png | **Theme**: Port Hell<br><br>**Labels to Render**:<br>- Dev: "Developer"<br>- Port 1: "StringPort"<br>- Port 2: "MathPort"<br>- Port 3: "ArrayPort"<br>- Chaos: "Too Many!"<br><br>**Visual Details**:<br>1. Core Concept: Over-abstraction.<br>2. Metaphor: A developer drowning in a sea of tiny, unnecessary interface cards (StringFormatterPort, ArraySorterPort, etc).<br>   - Looking confused.<br>3. Action: Drowning/Confused.<br>4. Layout: Chaos scene. | ### 7.1 æŠ½è±¡åŒ–ã—ã™ãã¦ â€œPortåœ°ç„â€ ğŸ•³ï¸ |
| 330 | docs/clean_ts_study_026.md | clean_ts_study_026_date_mutation.png | ./picture/clean_ts_study_026_date_mutation.png | **Theme**: Date Mutation Accident<br><br>**Labels to Render**:<br>- Object: "Date Object"<br>- Action: "setYear()"<br>- Effect: "Mutated!"<br>- Warning: "Shared State"<br><br>**Visual Details**:<br>1. Core Concept: Mutable objects causing side effects.<br>2. Metaphor: A "Date Object" being handed around.<br>   - Someone paints it a different color (Mutates it).<br>   - The original owner looks at it and is shocked it changed.<br>   - Warning sign "Immutable Recommended".<br>3. Action: Mutation.<br>4. Layout: Sequence. | ### 7.2 ClockãŒ Date ã‚’è¿”ã™ã¨ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³äº‹æ•…ğŸ˜µ |
| 331 | docs/clean_ts_study_027.md | clean_ts_study_027_port_filter.png | ./picture/clean_ts_study_027_port_filter.png | **Theme**: Port Data Model Filter<br><br>**Labels to Render**:<br>- Input 1: "TaskRow (DB)"<br>- Input 2: "TaskSnapshot (Inner)"<br>- Filter: "Port Boundary"<br>- Result: "OK / NG"<br><br>**Visual Details**:<br>1. Core Concept: Filtering external types.<br>2. Metaphor: A security scanner at the Port boundary.<br>   - "TaskRow" (snake_case, DB-ish) gets a Red X.<br>   - "TaskSnapshot" (clean, Inner word) gets a Green Check.<br>3. Action: Filtering.<br>4. Layout: Gate view. | ## 1. ã¾ãšçµè«–ï¼šPortã®å…¥å‡ºåŠ›ã¯ã€Œå†…å´ã®è¨€è‘‰ã€ã§å›ºå®šã™ã‚‹ğŸ§¡ğŸ”’ |
| 332 | docs/clean_ts_study_027.md | clean_ts_study_027_db_leak.png | ./picture/clean_ts_study_027_db_leak.png | **Theme**: DB Leakage into UseCase<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Object: "TaskRow"<br>- Leak: "snake_case / 0\|1"<br>- Dirt: "DB Details"<br><br>**Visual Details**:<br>1. Core Concept: UseCase depending on DB implementation details.<br>2. Metaphor: UseCase character holding a "TaskRow" object.<br>   - The object is leaking/dripping oil labeled "0 \| 1" and "snake_case".<br>   - The UseCase looks dirty and confused.<br>3. Action: Leaking.<br>4. Layout: Character focus. | ## 2. äº‹æ•…ã‚ŠãŒã¡ãªä¾‹ï¼ˆã‚ã–ã¨æ‚ªã„ä¾‹ï¼‰ğŸ’¥ğŸ˜‡ |
| 333 | docs/clean_ts_study_027.md | clean_ts_study_027_model_steps.png | ./picture/clean_ts_study_027_model_steps.png | **Theme**: 3 Steps to Decide Model<br><br>**Labels to Render**:<br>- Step 1: "Meaning"<br>- Step 2: "Type (Snapshot)"<br>- Step 3: "Minimize Method"<br><br>**Visual Details**:<br>1. Core Concept: Process of defining the data model.<br>2. Metaphor: Three steps.<br>   - Step 1: Speech bubble saying "Save Task" (Meaning).<br>   - Step 2: A box labeled "TaskSnapshot" (Type).<br>   - Step 3: Scissors cutting unnecessary methods (Minimize).<br>3. Action: Defining.<br>4. Layout: Steps flow. | ## 3. ã˜ã‚ƒã‚ã©ã†æ±ºã‚ã‚‹ï¼Ÿ3ã‚¹ãƒ†ãƒƒãƒ—ã§ã„ã“ï¼ğŸ§­âœ¨ |
| 334 | docs/clean_ts_study_027.md | clean_ts_study_027_taskid_brand.png | ./picture/clean_ts_study_027_taskid_brand.png | **Theme**: TaskId Branding<br><br>**Labels to Render**:<br>- Plain: "String"<br>- Brand: "TaskId (Brand)"<br>- Safety: "Type Safe"<br><br>**Visual Details**:<br>1. Core Concept: Branded types for safety.<br>2. Metaphor:<br>   - Plain String: A generic cardboard box.<br>   - TaskId: The same box but with a glowing wax seal/brand "TaskId".<br>   - Indicates it is special and distinct.<br>3. Action: Branding.<br>4. Layout: Before and After. | ### 5-1. TaskIdï¼ˆæ„å‘³ä»˜ãIDï¼‰ã‚’ä½œã‚‹ğŸ†”âœ¨ |
| 335 | docs/clean_ts_study_027.md | clean_ts_study_027_rehydrate_cycle.png | ./picture/clean_ts_study_027_rehydrate_cycle.png | **Theme**: Entity Rehydrate Cycle<br><br>**Labels to Render**:<br>- Data: "Snapshot"<br>- Logic: "Entity"<br>- Action 1: "rehydrate()"<br>- Action 2: "toSnapshot()"<br><br>**Visual Details**:<br>1. Core Concept: Conversion between Data and Domain Object.<br>2. Metaphor: Cycle.<br>   - Snapshot (Data box) enters "rehydrate()" machine -> Becomes Entity (Alive Character).<br>   - Entity (Alive) enters "toSnapshot()" machine -> Becomes Snapshot (Data box).<br>3. Action: Cycle.<br>4. Layout: Circular flow. | ### 5-3. Entityã¯â€œãƒ«ãƒ¼ãƒ«æ‹…å½“â€ã€Snapshotã¯â€œæŒã¡é‹ã³æ‹…å½“â€ğŸ’ |
| 336 | docs/clean_ts_study_027.md | clean_ts_study_027_snapshot_fixed.png | ./picture/clean_ts_study_027_snapshot_fixed.png | **Theme**: Port Fixed with Snapshot<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Repo: "Repository"<br>- Item: "TaskSnapshot"<br>- Port: "Port"<br><br>**Visual Details**:<br>1. Core Concept: Snapshot as the currency of the Port.<br>2. Metaphor: UseCase and Repository shaking hands through a window (Port).<br>   - The item being exchanged is strictly a "TaskSnapshot" box.<br>   - It fits the window perfectly.<br>3. Action: Exchanging.<br>4. Layout: Side by side. | ### 5-4. Portï¼ˆRepositoryï¼‰ã®å…¥å‡ºåŠ›ã‚’Snapshotã§å›ºå®šã™ã‚‹ğŸ”ŒğŸ“¦ |
| 337 | docs/clean_ts_study_028.md | clean_ts_study_028_contract_handshake.png | ./picture/clean_ts_study_028_contract_handshake.png | **Theme**: Port as a Contract<br><br>**Labels to Render**:<br>- Core: "App Core"<br>- Outer: "Outer World"<br>- Contract: "Port (Contract)"<br>- Handshake: "Agreement"<br><br>**Visual Details**:<br>1. Core Concept: Port acts as a contract that the outer world must fulfill.<br>2. Metaphor: A handshake taking place over a document labeled "Port".<br>   - Left side: "App Core" character (Clean, Business-like).<br>   - Right side: "Outer World" character (Holding tools/DB).<br>   - They shake hands firmly over the document.<br>3. Action: Shaking hands / Agreeing.<br>4. Layout: Side view of handshake. | ## 2) ã¾ãšå¤§äº‹ãªå‰æï¼šPortã¯â€œå¥‘ç´„â€ğŸ“œğŸ¤ |
| 338 | docs/clean_ts_study_028.md | clean_ts_study_028_dirty_symptoms.png | ./picture/clean_ts_study_028_dirty_symptoms.png | **Theme**: Dirty Port Symptoms<br><br>**Labels to Render**:<br>- Port: "Port"<br>- Tech Terms: "Sql / Http / Row"<br>- Invasion: "Invasion"<br>- Core: "Core"<br><br>**Visual Details**:<br>1. Core Concept: Technical terms invading the clean Port boundary.<br>2. Metaphor: A clean white gate (Port) being graffiti-ed with technical words.<br>   - Graffiti: "SqlTaskRepository", "HttpClient", "TaskRow".<br>   - The Core behind the gate looks annoyed.<br>3. Action: Vandalism/Pollution.<br>4. Layout: Gate view. | ## 3) PortãŒæ±šã‚Œã¦ã‚‹ã¨èµ·ãã‚‹â€œã‚ã‚‹ã‚ã‚‹â€ğŸ˜‡ğŸ§¨ |
| 339 | docs/clean_ts_study_028.md | clean_ts_study_028_naming_scale.png | ./picture/clean_ts_study_028_naming_scale.png | **Theme**: Naming Judgment Scale<br><br>**Labels to Render**:<br>- Business: "Business (Inner)"<br>- Technical: "Technical (Outer)"<br>- Scale: "Judgment"<br>- Good: "OK"<br><br>**Visual Details**:<br>1. Core Concept: Weighing whether a name is Business-focused or Technical-focused.<br>2. Metaphor: A balance scale.<br>   - Left Pan (Business): Heavy, valuable gold bars labeled "Store", "Reader".<br>   - Right Pan (Technical): Light, scrap metal labeled "Dao", "Repo", "Impl".<br>   - The scale tips towards the Business side (Good).<br>3. Action: Weighing.<br>4. Layout: Front view of scale. | ### åˆ¤å®šã®è¶…ã‹ã‚“ãŸã‚“ãƒ«ãƒ¼ãƒ«âœ¨ |
| 340 | docs/clean_ts_study_028.md | clean_ts_study_028_fat_vs_focused.png | ./picture/clean_ts_study_028_fat_vs_focused.png | **Theme**: Fat vs Focused Port<br><br>**Labels to Render**:<br>- Fat: "Fat Repo (All CRUD)"<br>- Focused: "Focused Port (UseCase Only)"<br>- Scissors: "Cut"<br><br>**Visual Details**:<br>1. Core Concept: Trimming down a bloated repository to just what is needed.<br>2. Metaphor:<br>   - Left: A bloated character (Fat Repo) carrying "Insert", "Update", "Select", "Delete", "Count", "Batch".<br>   - Right: A slim character (Focused Port) carrying only "Save" and "Find".<br>   - A pair of scissors cutting away the excess.<br>3. Action: Trimming/Cutting.<br>4. Layout: Before and After. | ## 5) è²¬å‹™ãƒã‚§ãƒƒã‚¯ï¼šPortã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯â€œUseCaseã‹ã‚‰é€†ç®—â€âœ‚ï¸ğŸ¬ |
| 341 | docs/clean_ts_study_028.md | clean_ts_study_028_input_patterns.png | ./picture/clean_ts_study_028_input_patterns.png | **Theme**: Port Input/Output Patterns<br><br>**Labels to Render**:<br>- Pattern A: "Entity (Direct)"<br>- Pattern B: "Snapshot (DTO)"<br>- Port: "Port"<br>- DB Type: "DB Row (NG)"<br><br>**Visual Details**:<br>1. Core Concept: Safe types for Port input/output.<br>2. Metaphor: A security scanner at the Port.<br>   - Pattern A (Entity) passes through Green.<br>   - Pattern B (Snapshot) passes through Green.<br>   - "DB Row" (Complex shape) is rejected Red.<br>3. Action: Scanning.<br>4. Layout: Scanner view. | ## 6) â€œPortã®å…¥å‡ºåŠ›â€ãƒã‚§ãƒƒã‚¯ï¼šDBã®å‹ã‚’å…¥ã‚Œãªã„ğŸ“¦ğŸš« |
| 342 | docs/clean_ts_study_028.md | clean_ts_study_028_error_mask.png | ./picture/clean_ts_study_028_error_mask.png | **Theme**: Error Translation Mask<br><br>**Labels to Render**:<br>- Tech Error: "SqlError (Outer)"<br>- Mask: "Port Mask"<br>- Domain Error: "Unavailable (Inner)"<br>- Safe: "Safe"<br><br>**Visual Details**:<br>1. Core Concept: Hiding technical errors behind domain errors.<br>2. Metaphor: A scary monster (SqlError) putting on a polite mask (Unavailable).<br>   - To the Inner world, it looks like the polite mask.<br>   - The scary face is hidden behind it.<br>3. Action: Masking.<br>4. Layout: Character close-up. | ## 7) ã‚¨ãƒ©ãƒ¼è¡¨ç¾ãƒã‚§ãƒƒã‚¯ï¼šPortã®ã‚¨ãƒ©ãƒ¼ãŒâ€œæŠ€è¡“èªâ€ã«ãªã£ã¦ãªã„ï¼Ÿâš ï¸ğŸ§¯ |
| 343 | docs/clean_ts_study_028.md | clean_ts_study_028_audit_process.png | ./picture/clean_ts_study_028_audit_process.png | **Theme**: Audit Process Steps<br><br>**Labels to Render**:<br>- Step 1: "List"<br>- Step 2: "Explain"<br>- Step 3: "Judge"<br>- Step 4: "Link"<br><br>**Visual Details**:<br>1. Core Concept: The 4 steps of auditing ports.<br>2. Metaphor: A 4-step assembly line or checklist.<br>   - Step 1: Writing a list.<br>   - Step 2: Adding speech bubbles (explanations).<br>   - Step 3: Using a gavel (judgment).<br>   - Step 4: Connecting with a chain (linking to UseCase).<br>3. Action: Process flow.<br>4. Layout: Sequential steps. | ## 8) å®Ÿæˆ¦ï¼šã„ã¾ã‚ã‚‹Portã‚’â€œå¢ƒç•Œç·šãƒã‚§ãƒƒã‚¯â€ã—ã¦ç›´ã™ğŸ§¼ğŸ”§âœ¨ |
| 344 | docs/clean_ts_study_029.md | clean_ts_study_029_port_maze.png | ./picture/clean_ts_study_029_port_maze.png | **Theme**: Port Maze Confusion<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Port 1: "Port A"<br>- Port 2: "Port B"<br>- Port 100: "Port Z"<br>- Lost: "Where?"<br><br>**Visual Details**:<br>1. Core Concept: Too many ports lead to confusion.<br>2. Metaphor: A maze made of hundreds of doors (Ports).<br>   - A UseCase character is standing in the middle, looking dizzy and lost.<br>   - Doors are everywhere.<br>3. Action: Being lost.<br>4. Layout: Maze view. | ## 1) ã“ã®ç« ã®ã‚´ãƒ¼ãƒ« ğŸ¯âœ¨ |
| 345 | docs/clean_ts_study_029.md | clean_ts_study_029_mirror_interface.png | ./picture/clean_ts_study_029_mirror_interface.png | **Theme**: 1:1 Mirror Interface Accident<br><br>**Labels to Render**:<br>- Service: "TaskService"<br>- Port: "TaskServicePort"<br>- Impl: "TaskServiceImpl"<br>- Same: "Exactly Same"<br><br>**Visual Details**:<br>1. Core Concept: Redundant Interface that exactly mirrors the Implementation.<br>2. Metaphor: A character (TaskServiceImpl) looking into a mirror.<br>   - The reflection (TaskServicePort) is identical.<br>   - No abstraction, just a duplicate.<br>3. Action: Reflection.<br>4. Layout: Mirror scene. | ### äº‹æ•…Aï¼š1ã‚¯ãƒ©ã‚¹ã«ã¤ã1Portï¼ˆã»ã¼åŒã˜åå‰ï¼‰é‡ç”£ ğŸ¤–ğŸ“¦ğŸ“¦ğŸ“¦ |
| 346 | docs/clean_ts_study_029.md | clean_ts_study_029_ancient_ruins.png | ./picture/clean_ts_study_029_ancient_ruins.png | **Theme**: Ancient Unused Port Ruins<br><br>**Labels to Render**:<br>- Ruin: "FuturePort"<br>- Dust: "Unused"<br>- YAGNI: "YAGNI Violation"<br>- Dev: "Scared to Touch"<br><br>**Visual Details**:<br>1. Core Concept: Ports created for 'future needs' that never happened.<br>2. Metaphor: An ancient, moss-covered stone archway (Port) labeled "FuturePort".<br>   - It leads to nowhere (a wall).<br>   - Developers are afraid to touch it because it looks important.<br>3. Action: Abandonment.<br>4. Layout: Ruins scene. | ### äº‹æ•…Cï¼šã€Œã„ã¤ã‹å¿…è¦ã‹ã‚‚ã€ã§Portã‚’å…ˆã«ä½œã‚‹ï¼ˆYAGNIé•åï¼‰ğŸ”®âŒ |
| 347 | docs/clean_ts_study_029.md | clean_ts_study_029_valid_reasons_hand.png | ./picture/clean_ts_study_029_valid_reasons_hand.png | **Theme**: 5 Valid Reasons Hand<br><br>**Labels to Render**:<br>- 1: "I/O"<br>- 2: "Swap"<br>- 3: "Test"<br>- 4: "Fix Time"<br>- 5: "Library"<br><br>**Visual Details**:<br>1. Core Concept: The 5 key reasons to create a Port.<br>2. Metaphor: A hand with 5 fingers extended, each labeled with a reason.<br>   - Thumb: I/O (Side Effect).<br>   - Index: Swap (Replacement).<br>   - Middle: Test (Isolation).<br>   - Ring: Fix Time (Determinism).<br>   - Pinky: Library (Protection).<br>3. Action: Displaying count.<br>4. Layout: Hand close-up. | ## 3) Portã‚’ä½œã‚‹ã¹ãã‚¿ã‚¤ãƒŸãƒ³ã‚° âœ…ğŸ”Œï¼ˆ5ã¤ã ã‘è¦šãˆã‚ˆï¼‰ |
| 348 | docs/clean_ts_study_029.md | clean_ts_study_029_functional_port.png | ./picture/clean_ts_study_029_functional_port.png | **Theme**: Functional Port vs Class Interface<br><br>**Labels to Render**:<br>- Heavy: "Class Interface"<br>- Light: "Function Type"<br>- TS: "TypeScript"<br>- Clean: "Clean"<br><br>**Visual Details**:<br>1. Core Concept: Lightweight functional interfaces in TypeScript.<br>2. Metaphor: Comparison.<br>   - Left (Heavy): A heavy stone slab (Java-style Interface) requiring a chisel.<br>   - Right (Light): A light feather or post-it note (TS Function Type) flying easily.<br>   - TypeScript logo nearby smiling at the feather.<br>3. Action: Comparison.<br>4. Layout: Side by side. | ## 6) TypeScriptã§ã€ŒPortã‚’è–„ãä¿ã¤ã€ãƒ†ã‚¯ ğŸ§¼ğŸ’• |
| 349 | docs/clean_ts_study_029.md | clean_ts_study_029_config_injection.png | ./picture/clean_ts_study_029_config_injection.png | **Theme**: Config Injection vs Port<br><br>**Labels to Render**:<br>- Inject: "Direct Injection"<br>- Value: "100"<br>- Port: "ConfigPort (Overkill)"<br>- Simple: "Simple"<br><br>**Visual Details**:<br>1. Core Concept: Injecting values directly instead of creating a Port for configuration.<br>2. Metaphor: Syringe injection.<br>   - Instead of building a whole new door (ConfigPort) to pass a number "100".<br>   - A syringe simply injects the number "100" directly into the UseCase.<br>   - Showing simplicity and directness.<br>3. Action: Injection.<br>4. Layout: Action close-up. | ### ä¾‹1ï¼šã‚¿ã‚¤ãƒˆãƒ«æœ€å¤§é•·ï¼ˆmaxTitleLengthï¼‰ã‚’è¿½åŠ ã—ãŸã„ âœï¸ğŸ“ |
| 350 | docs/clean_ts_study_029.md | clean_ts_study_029_notifier_plug.png | ./picture/clean_ts_study_029_notifier_plug.png | **Theme**: Notifier Port Plug<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Port: "Notifier"<br>- Impl: "Slack / Email"<br>- I/O: "I/O"<br><br>**Visual Details**:<br>1. Core Concept: Port for external I/O (Notification).<br>2. Metaphor: A broadcasting plug.<br>   - UseCase has a "Notifier" socket.<br>   - You can plug in a "Slack" speaker or an "Email" speaker.<br>   - Sound waves (I/O) come out.<br>3. Action: Plugging in.<br>4. Layout: Connection view. | ### ä¾‹2ï¼šã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ã«é€šçŸ¥ã—ãŸã„ ğŸ“£âœ…ï¼ˆPortã‚’å¢—ã‚„ã™ä¾¡å€¤ã‚ã‚Šï¼‰ |
| 351 | docs/clean_ts_study_030.md | clean_ts_study_030_thin_door.png | ./picture/clean_ts_study_030_thin_door.png | **Theme**: Thin Controller Door<br><br>**Labels to Render**:<br>- Outside: "HTTP / UI"<br>- Door: "Controller (Thin)"<br>- Inside: "UseCase"<br>- Action: "Pass Through"<br><br>**Visual Details**:<br>1. Core Concept: Controller acts as a thin entrance adapter.<br>2. Metaphor: A very thin, transparent sliding door labeled "Controller".<br>   - Outside: Chaotic requests (HTTP icons).<br>   - Inside: Organized UseCase room.<br>   - The door simply opens to let data pass, it doesn't process or hold anything.<br>3. Action: Passing through.<br>4. Layout: Doorway view. | ## 1. Controllerã£ã¦ä½•ã™ã‚‹äººï¼ŸğŸ‘€ğŸ’¡ |
| 352 | docs/clean_ts_study_030.md | clean_ts_study_030_forbidden_actions.png | ./picture/clean_ts_study_030_forbidden_actions.png | **Theme**: Forbidden Controller Actions<br><br>**Labels to Render**:<br>- Controller: "Controller"<br>- Item 1: "DB Access"<br>- Item 2: "Logic"<br>- Item 3: "UI Formatting"<br>- Sign: "Prohibited"<br><br>**Visual Details**:<br>1. Core Concept: Actions that a Controller must NOT do.<br>2. Metaphor: A security checkpoint with a "Prohibited Items" bin.<br>   - Controller character is trying to bring in a heavy "DB" box, a "Logic" puzzle, and a "UI" paintbrush.<br>   - Security Guard (Clean Arch) points to the "Prohibited" sign.<br>3. Action: Rejection.<br>4. Layout: Checkpoint scene. | ## 3. ControllerãŒã€Œã‚„ã£ã¡ã‚ƒãƒ€ãƒ¡ã€ãªã“ã¨ä¸€è¦§ğŸ™…â€â™€ï¸ğŸ”¥ |
| 353 | docs/clean_ts_study_030.md | clean_ts_study_030_minimal_request_type.png | ./picture/clean_ts_study_030_minimal_request_type.png | **Theme**: Minimal Request Type<br><br>**Labels to Render**:<br>- Minimal: "HttpRequest (Minimal)"<br>- Heavy: "Express.Request"<br>- Method: "method"<br>- Body: "body"<br><br>**Visual Details**:<br>1. Core Concept: A framework-agnostic, minimal HTTP request structure.<br>2. Metaphor: Comparison.<br>   - Left (Minimal): A sleek, small card labeled "HttpRequest". Contains only "method", "body", "path".<br>   - Right (Heavy): A huge, heavy encyclopedia labeled "Express.Request" with thousands of pages/properties.<br>   - Highlighting the simplicity of the minimal type.<br>3. Action: Displaying.<br>4. Layout: Side by side. | ## 4. â€œè–„ã„Controllerâ€ã«ã™ã‚‹ãŸã‚ã®å‹ã‚’æ±ºã‚ã‚ˆã†ğŸ“âœ¨ |
| 354 | docs/clean_ts_study_030.md | clean_ts_study_030_three_controllers.png | ./picture/clean_ts_study_030_three_controllers.png | **Theme**: 3 Distinct Controllers<br><br>**Labels to Render**:<br>- Door 1: "CreateTask"<br>- Door 2: "CompleteTask"<br>- Door 3: "ListTasks"<br>- UseCase: "UseCase"<br><br>**Visual Details**:<br>1. Core Concept: Each UseCase has its own specialized Controller.<br>2. Metaphor: Three distinct doors leading to the UseCase room.<br>   - Door 1: Green, labeled "Create".<br>   - Door 2: Blue, labeled "Complete".<br>   - Door 3: Yellow, labeled "List".<br>   - Each door is simple and leads directly to the corresponding UseCase handler.<br>3. Action: Entry points.<br>4. Layout: Three doors. | ## 5. 3ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ†ã®Controlleréª¨æ ¼ã‚’ä½œã‚‹ã‚ˆğŸšªğŸšªğŸšªâœ¨ |
| 355 | docs/clean_ts_study_030.md | clean_ts_study_030_five_second_rule.png | ./picture/clean_ts_study_030_five_second_rule.png | **Theme**: 5 Second Rule Stopwatch<br><br>**Labels to Render**:<br>- Timer: "5 Seconds"<br>- Check 1: "No new"<br>- Check 2: "No if/else"<br>- Check 3: "No Express"<br>- Result: "Pass"<br><br>**Visual Details**:<br>1. Core Concept: Quick review of Controller quality.<br>2. Metaphor: A stopwatch showing 00:05.<br>   - A checklist next to it with 3 items checked: "No new", "No if/else", "No Express".<br>   - A big green "PASS" stamp.<br>3. Action: Timing/Checking.<br>4. Layout: Timer and list. | ## 6. ControllerãŒè–„ã„ã‹ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã€Œ5ç§’ãƒ«ãƒ¼ãƒ«ã€â±ï¸ğŸ§¼ |
| 356 | docs/clean_ts_study_030.md | clean_ts_study_030_routing_plug.png | ./picture/clean_ts_study_030_routing_plug.png | **Theme**: Routing Plug<br><br>**Labels to Render**:<br>- Router: "Router (Express)"<br>- Adapter: "toHttpRequest()"<br>- Controller: "Controller"<br>- Request: "req (Minimal)"<br><br>**Visual Details**:<br>1. Core Concept: Connecting the Framework Router to the Internal Controller.<br>2. Metaphor: An adapter plug.<br>   - Left: "Router" (Complex multi-pin socket).<br>   - Middle: "toHttpRequest" (Adapter Plug).<br>   - Right: "Controller" (Simple 2-pin socket).<br>   - The adapter converts the complex request into the simple one.<br>3. Action: Plugging in.<br>4. Layout: Connection view. | ## 7. å…¥å£ï¼ˆãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰ã‹ã‚‰Controllerã‚’å‘¼ã¶ä¾‹ï¼ˆã‚¤ãƒ¡ãƒ¼ã‚¸ã ã‘ï¼‰ğŸ§© |
| 357 | docs/clean_ts_study_030.md | clean_ts_study_030_validation_weed.png | ./picture/clean_ts_study_030_validation_weed.png | **Theme**: Validation Weed<br><br>**Labels to Render**:<br>- Controller: "Controller"<br>- Weed: "Validation Logic"<br>- Root: "if/else"<br>- Tool: "Move to Entity"<br><br>**Visual Details**:<br>1. Core Concept: Validation logic overgrowing in the Controller.<br>2. Metaphor: A nice pavement (Controller) cracked by a large, ugly weed (Validation Logic).<br>   - The weed has roots labeled "if (empty)", "if (length > 10)".<br>   - A gardener holds a trowel labeled "Move to Entity" to remove it.<br>3. Action: Removing weed.<br>4. Layout: Ground close-up. | ### äº‹æ•…1ï¼šControllerã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¢—æ®–ğŸŒ±â¡ï¸ğŸŒ³ |
| 358 | docs/clean_ts_study_031.md | clean_ts_study_031_http_mines.png | ./picture/clean_ts_study_031_http_mines.png | **Theme**: HTTP Input Minefield<br><br>**Labels to Render**:<br>- Mine 1: "undefined"<br>- Mine 2: "null"<br>- Mine 3: "string 'true'"<br>- Mine 4: "unknown key"<br>- Warning: "Raw HTTP"<br><br>**Visual Details**:<br>1. Core Concept: Raw HTTP input is dangerous and unpredictable.<br>2. Metaphor: A minefield.<br>   - Mines are labeled with common dirty data types: "undefined", "null", "'true'" (string boolean).<br>   - A UseCase character is about to step on them, looking scared.<br>3. Action: Danger/Risk.<br>4. Layout: Ground view. | ### 1) ã¾ãšçµè«–ï¼šUseCaseã«â€œç”Ÿã®HTTPâ€ã‚’æ¸¡ã—ã¡ã‚ƒãƒ€ãƒ¡ğŸ™…â€â™€ï¸ğŸŒ©ï¸ |
| 359 | docs/clean_ts_study_031.md | clean_ts_study_031_request_builder_steps.png | ./picture/clean_ts_study_031_request_builder_steps.png | **Theme**: 4 Steps of Request Builder<br><br>**Labels to Render**:<br>- 1: "Extract"<br>- 2: "Validate"<br>- 3: "Normalize"<br>- 4: "Create"<br><br>**Visual Details**:<br>1. Core Concept: The sequential responsibilities of a Request Builder.<br>2. Metaphor: An assembly line processing raw material.<br>   - Step 1 (Extract): Magnet picking metal parts.<br>   - Step 2 (Validate): Scanner checking quality.<br>   - Step 3 (Normalize): Polisher smoothing edges.<br>   - Step 4 (Create): Packaging into a box.<br>3. Action: Manufacturing flow.<br>4. Layout: Left to Right flow. | ### 2) â€œå…¥åŠ›å¤‰æ›â€ã®ç½®ãå ´ï¼šRequest Builderï¼ˆã¾ãŸã¯ Request Mapperï¼‰ğŸ—ï¸ğŸ’— |
| 360 | docs/clean_ts_study_031.md | clean_ts_study_031_schema_tools.png | ./picture/clean_ts_study_031_schema_tools.png | **Theme**: Schema Validation Tools<br><br>**Labels to Render**:<br>- Tool 1: "Zod"<br>- Tool 2: "Valibot"<br>- Tool 3: "TypeBox"<br>- Target: "Schema"<br><br>**Visual Details**:<br>1. Core Concept: Popular libraries for schema validation.<br>2. Metaphor: A toolbox.<br>   - Zod: A blue diamond tool.<br>   - Valibot: A robot arm tool.<br>   - TypeBox: A strong cube tool.<br>   - All are being used to shape a "Schema" block.<br>3. Action: Tools in use.<br>4. Layout: Toolbox view. | ### 4) 2026ã®å®Ÿå‹™æ„Ÿï¼šã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã®ãŒæ¥½ğŸ¥°ğŸ“š |
| 361 | docs/clean_ts_study_031.md | clean_ts_study_031_zod_filter.png | ./picture/clean_ts_study_031_zod_filter.png | **Theme**: Zod Schema Filter<br><br>**Labels to Render**:<br>- Raw: "Raw Input"<br>- Mold: "Zod Schema"<br>- Clean: "Clean Data"<br>- Reject: "Reject"<br><br>**Visual Details**:<br>1. Core Concept: Zod schema acts as a filter or mold.<br>2. Metaphor: A jelly mold or cookie cutter.<br>   - Raw Input (Amorphous blob) is pressed into the Zod Mold.<br>   - Clean Data (Perfect star shape) comes out.<br>   - Extra bits (Excess properties) are cut off.<br>3. Action: Molding/Filtering.<br>4. Layout: Process view. | ### 5-2. HTTPå…¥åŠ›ç”¨ã®ã‚¹ã‚­ãƒ¼ãƒï¼ˆZodï¼‰ğŸ§ªâœ¨ |
| 362 | docs/clean_ts_study_031.md | clean_ts_study_031_builder_result.png | ./picture/clean_ts_study_031_builder_result.png | **Theme**: Builder Result Pattern<br><br>**Labels to Render**:<br>- Builder: "Builder"<br>- Output: "Result<Req, Err>"<br>- Ok: "Ok (Request)"<br>- Err: "Err (BadRequest)"<br><br>**Visual Details**:<br>1. Core Concept: Builder returns a Result type (Success or Failure).<br>2. Metaphor: A sorting chute at the end of the Builder machine.<br>   - Green Box: "Ok" containing the Request.<br>   - Red Box: "Err" containing the Error details.<br>   - The Builder output splits into one of these.<br>3. Action: Branching output.<br>4. Layout: Branching flow. | ### 5-3. Request Builderï¼ˆHTTP â†’ Requestï¼‰ã‚’ä½œã‚‹ğŸ—ï¸ğŸ“¥â¡ï¸ğŸ“¦ |
| 363 | docs/clean_ts_study_031.md | clean_ts_study_031_controller_thinning.png | ./picture/clean_ts_study_031_controller_thinning.png | **Theme**: Controller Thinning Process<br><br>**Labels to Render**:<br>- Before: "Fat Controller"<br>- Logic: "Validation Logic"<br>- Move: "Move to Builder"<br>- After: "Thin Controller"<br><br>**Visual Details**:<br>1. Core Concept: Moving logic out of Controller to make it thin.<br>2. Metaphor: Liposuction or Decluttering.<br>   - Fat Controller: Stuffed with "Validation Logic" boxes.<br>   - Action: Moving the boxes to a new room labeled "Request Builder".<br>   - Thin Controller: Now slim and clean.<br>3. Action: Moving items.<br>4. Layout: Before and After. | ### 5-4. Controllerå´ï¼ˆè–„ãï¼è–„ãï¼ğŸ§»âœ¨ï¼‰ |
| 364 | docs/clean_ts_study_031.md | clean_ts_study_031_leaking_http.png | ./picture/clean_ts_study_031_leaking_http.png | **Theme**: HTTP Leakage into UseCase<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Input: "Input Object"<br>- Leak: "userAgent / header"<br>- Dirt: "Dirty"<br><br>**Visual Details**:<br>1. Core Concept: HTTP terms leaking into the UseCase layer.<br>2. Metaphor: A clean object (Input) entering the UseCase room.<br>   - But it has mud splatters labeled "userAgent", "header", "cookie".<br>   - The UseCase room gets dirty.<br>3. Action: Contamination.<br>4. Layout: Object focus. | ## 6) ã‚ˆãã‚ã‚‹ãƒŸã‚¹é›†ï¼ˆã“ã“è¸ã¿ãŒã¡ï¼ï¼‰ğŸ˜µâ€ğŸ’«ğŸ§¨ |
| 365 | docs/clean_ts_study_032.md | clean_ts_study_032_plating_chef.png | ./picture/clean_ts_study_032_plating_chef.png | **Theme**: Presenter as Plating Chef<br><br>**Labels to Render**:<br>- Chef: "UseCase (Cook)"<br>- Food: "Response (Nutritious)"<br>- Plater: "Presenter"<br>- Dish: "ViewModel (Beautiful)"<br><br>**Visual Details**:<br>1. Core Concept: Presenter formats data for display, like plating food.<br>2. Metaphor: A kitchen.<br>   - Chef (UseCase) hands over a cooked but plain steak (Response).<br>   - Plater (Presenter) arranges it on a nice plate with garnish (ViewModel).<br>   - Ready to be served to the Customer (View).<br>3. Action: Plating.<br>4. Layout: Kitchen flow. | ## 1) Presenterã£ã¦ä½•ã‚’ã™ã‚‹äººï¼ŸğŸ§‘â€ğŸ³ğŸ½ï¸ |
| 366 | docs/clean_ts_study_032.md | clean_ts_study_032_output_interface.png | ./picture/clean_ts_study_032_output_interface.png | **Theme**: Output Interface Dependency<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Interface: "OutputBoundary"<br>- Presenter: "Presenter"<br>- Blindfold: "Don't know Impl"<br><br>**Visual Details**:<br>1. Core Concept: UseCase depends on Interface, not Implementation.<br>2. Metaphor: A blindfolded character (UseCase) handing a package to a person through a window frame (OutputBoundary).<br>   - The person outside (Presenter) receives it.<br>   - UseCase cannot see who is outside, only the window frame.<br>3. Action: Handing over.<br>4. Layout: Side view through window. | ### 3-1. UseCaseå´ï¼šOutputBoundaryï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰ã‚’ç”¨æ„ğŸ§© |
| 367 | docs/clean_ts_study_032.md | clean_ts_study_032_conversion_factory.png | ./picture/clean_ts_study_032_conversion_factory.png | **Theme**: Data Conversion Factory<br><br>**Labels to Render**:<br>- Input: "true (boolean)"<br>- Machine: "Presenter"<br>- Output: "Doneâœ… (String)"<br>- Format: "Format"<br><br>**Visual Details**:<br>1. Core Concept: Converting raw data types to display strings.<br>2. Metaphor: A small factory machine.<br>   - Input belt: A boolean "true" block.<br>   - Machine processing: "Format".<br>   - Output belt: A sign saying "Doneâœ…".<br>3. Action: Manufacturing.<br>4. Layout: Conveyor belt. | ### 3-3. Presenterå®Ÿè£…ï¼šResponse â†’ ViewModel ã«å¤‰æ›ğŸ¨ğŸ” |
| 368 | docs/clean_ts_study_032.md | clean_ts_study_032_satisfies_mold.png | ./picture/clean_ts_study_032_satisfies_mold.png | **Theme**: Satisfies Mold<br><br>**Labels to Render**:<br>- Object: "Object"<br>- Mold: "satisfies Type"<br>- Fit: "Perfect Fit"<br>- Error: "Mismatch"<br><br>**Visual Details**:<br>1. Core Concept: `satisfies` ensures an object matches a type.<br>2. Metaphor: A physical mold.<br>   - An object is pressed into a mold labeled "satisfies ViewModel".<br>   - It fits perfectly.<br>   - If it had extra bumps (Mismatch), it wouldn't fit.<br>3. Action: Fitting.<br>4. Layout: Mold close-up. | ## 4) TypeScriptã®æœ€æ–°å¯„ã‚Šãƒ†ã‚¯ï¼š`satisfies`ã§â€œå‹ã®å®‰å¿ƒâ€ã‚’ç››ã‚‹ğŸ§ğŸ›¡ï¸ |
| 369 | docs/clean_ts_study_032.md | clean_ts_study_032_controller_wiring.png | ./picture/clean_ts_study_032_controller_wiring.png | **Theme**: Controller Wiring Diagram<br><br>**Labels to Render**:<br>- Controller: "Controller"<br>- Wire 1: "new Presenter()"<br>- Wire 2: "new UseCase(Presenter)"<br>- Action: "Wire Up"<br><br>**Visual Details**:<br>1. Core Concept: Controller orchestrating the setup.<br>2. Metaphor: An electrician (Controller) connecting wires.<br>   - Wiring "Presenter" plug into "UseCase" socket.<br>   - Then pushing the "Start" button.<br>3. Action: Wiring.<br>4. Layout: Wiring diagram. | ## 5) Controllerã‹ã‚‰ã©ã†ä½¿ã†ã®ï¼Ÿï¼ˆè¶…ãƒŸãƒ‹ä¾‹ï¼‰ğŸšªâ¡ï¸ğŸ¨â¡ï¸ğŸ–¥ï¸ |
| 370 | docs/clean_ts_study_032.md | clean_ts_study_032_logic_leak.png | ./picture/clean_ts_study_032_logic_leak.png | **Theme**: UI Logic Leaking In<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Leak: "UI Logic (String)"<br>- Pure: "Pure Logic"<br>- Decay: "Rotting"<br><br>**Visual Details**:<br>1. Core Concept: UseCase decaying when it handles UI concerns.<br>2. Metaphor: A clean apple (UseCase).<br>   - A worm labeled "UI Logic" (String formatting) is burrowing into it.<br>   - The apple is starting to rot around the worm.<br>3. Action: Rotting.<br>4. Layout: Object focus. | ### âŒ UseCaseã§ `statusText: "å®Œäº†âœ…"` ã‚’ä½œã‚Šå§‹ã‚ã‚‹ |
| 371 | docs/clean_ts_study_032.md | clean_ts_study_032_pure_function.png | ./picture/clean_ts_study_032_pure_function.png | **Theme**: Presenter Purity<br><br>**Labels to Render**:<br>- Presenter: "Presenter"<br>- Input: "Data"<br>- Output: "ViewData"<br>- No Side Effect: "No DB/IO"<br><br>**Visual Details**:<br>1. Core Concept: Presenter should be pure (no side effects).<br>2. Metaphor: A pristine crystal prism.<br>   - Light (Data) enters and refracts into a spectrum (ViewData).<br>   - The prism is clear and clean, no dirt (DB/IO) attached.<br>3. Action: Refraction.<br>4. Layout: Optical diagram. | ### âŒ PresenterãŒå¤–éƒ¨I/Oã—å§‹ã‚ã‚‹ï¼ˆDB/HTTP/ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ |
| 372 | docs/clean_ts_study_033.md | clean_ts_study_033_response_vs_viewmodel.png | ./picture/clean_ts_study_033_response_vs_viewmodel.png | **Theme**: Response vs ViewModel<br><br>**Labels to Render**:<br>- Response: "Response (Inner)"<br>- Data: "Date / Boolean"<br>- ViewModel: "ViewModel (Outer)"<br>- View: "Text / Label"<br><br>**Visual Details**:<br>1. Core Concept: Difference between internal meaning and external display.<br>2. Metaphor: Comparison.<br>   - Left (Response): A box containing raw ingredients (Date object, Boolean switch).<br>   - Right (ViewModel): A box containing ready-to-eat food (Formatted Date string, "Done" Label).<br>   - Arrow showing transformation.<br>3. Action: Transformation.<br>4. Layout: Side by side. | ## 1) ViewModelã£ã¦ãªã«ï¼ŸResponseã¨ä½•ãŒé•ã†ã®ï¼ŸğŸ¤”ğŸ’¡ |
| 373 | docs/clean_ts_study_033.md | clean_ts_study_033_four_rules.png | ./picture/clean_ts_study_033_four_rules.png | **Theme**: 4 Rules of ViewModel<br><br>**Labels to Render**:<br>- 1: "Contract"<br>- 2: "String"<br>- 3: "Flag"<br>- 4: "Outer"<br>- Shield: "Rules"<br><br>**Visual Details**:<br>1. Core Concept: The 4 guiding rules for ViewModel design.<br>2. Metaphor: A shield divided into 4 quarters.<br>   - Q1: A contract scroll.<br>   - Q2: A pencil writing text.<br>   - Q3: A traffic light (Flag).<br>   - Q4: A browser icon (Outer).<br>3. Action: Protecting design.<br>4. Layout: Shield emblem. | ## 2) ViewModelè¨­è¨ˆã®ã‚³ãƒ„ï¼ˆã“ã‚Œå®ˆã‚‹ã¨å¼·ã„ï¼‰ğŸ’ªâœ¨ |
| 374 | docs/clean_ts_study_033.md | clean_ts_study_033_viewmodel_structure.png | ./picture/clean_ts_study_033_viewmodel_structure.png | **Theme**: TaskListViewModel Structure<br><br>**Labels to Render**:<br>- Root: "TaskListViewModel"<br>- Prop 1: "summaryText"<br>- Prop 2: "items[]"<br>- Prop 3: "emptyMessage?"<br><br>**Visual Details**:<br>1. Core Concept: The structure of the ViewModel object.<br>2. Metaphor: A tree diagram or organizational chart.<br>   - Root node: TaskListViewModel.<br>   - Branches: summaryText (String), items (Array), emptyMessage (Optional String).<br>   - Showing the hierarchy.<br>3. Action: Structuring.<br>4. Layout: Tree view. | ## 4) ViewModelã®å‹ã‚’å®šç¾©ã—ã‚ˆã†ï¼ˆTaskä¸€è¦§ï¼‰ğŸ§±âœ¨ |
| 375 | docs/clean_ts_study_033.md | clean_ts_study_033_presenter_factory.png | ./picture/clean_ts_study_033_presenter_factory.png | **Theme**: Presenter Factory<br><br>**Labels to Render**:<br>- Input: "Response"<br>- Machine: "Presenter"<br>- Tool 1: "Date Formatter"<br>- Tool 2: "String Builder"<br>- Output: "ViewModel"<br><br>**Visual Details**:<br>1. Core Concept: Presenter acts as a factory processing data.<br>2. Metaphor: An assembly line.<br>   - Input: Raw materials (Response).<br>   - Machine: Presenter with tools (Date Formatter, String Builder).<br>   - Output: Finished product (ViewModel).<br>3. Action: Manufacturing.<br>4. Layout: Left to Right flow. | ## 5) Presenterã§ Response â†’ ViewModel ã«å¤‰æ›ã™ã‚‹ğŸ¨â¡ï¸ğŸ“¦ |
| 376 | docs/clean_ts_study_033.md | clean_ts_study_033_presenter_test_lab.png | ./picture/clean_ts_study_033_presenter_test_lab.png | **Theme**: Presenter Test Lab<br><br>**Labels to Render**:<br>- Test: "Test Case"<br>- Input: "Mock Response"<br>- Presenter: "Presenter"<br>- Check: "Expect 'Done'"<br><br>**Visual Details**:<br>1. Core Concept: Testing Presenter logic in isolation.<br>2. Metaphor: A science experiment.<br>   - Scientist (Test) pouring a specific blue liquid (Mock Response) into the Presenter beaker.<br>   - Observing the result turn green (ViewModel) and checking against a chart (Expectation).<br>3. Action: Testing.<br>4. Layout: Lab scene. | ## 6) Presenterã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã“ã†ï¼ˆç”»é¢ãŒå¤‰ã‚ã£ã¦ã‚‚å®‰å¿ƒï¼‰ğŸ§ªâœ¨ |
| 377 | docs/clean_ts_study_033.md | clean_ts_study_033_entity_leak_accident.png | ./picture/clean_ts_study_033_entity_leak_accident.png | **Theme**: Entity Leak Accident<br><br>**Labels to Render**:<br>- View: "View (UI)"<br>- Entity: "Entity (Core)"<br>- Leak: "Direct Access"<br>- Danger: "Breakage"<br><br>**Visual Details**:<br>1. Core Concept: Danger of passing Entity directly to View.<br>2. Metaphor: Contamination.<br>   - The View (Screen) is directly touching the Entity (Core).<br>   - Cracks are forming on the Core because the View is pulling on it.<br>   - Warning signs around the contact point.<br>3. Action: Breaking.<br>4. Layout: Contact point close-up. | ## 7) ã‚ã‚ŠãŒã¡ãªäº‹æ•…é›†ï¼ˆå…ˆã«æ½°ãã€œï¼‰ğŸš‘ğŸ’¦ |
| 378 | docs/clean_ts_study_033.md | clean_ts_study_033_flag_logic.png | ./picture/clean_ts_study_033_flag_logic.png | **Theme**: Flag Logic vs UI If-Hell<br><br>**Labels to Render**:<br>- Good: "Presenter (Flag)"<br>- Bad: "UI (If Hell)"<br>- Flag: "canComplete: true"<br>- Logic: "if (user && status...)"<br><br>**Visual Details**:<br>1. Core Concept: Simplifying UI logic by pre-calculating flags in Presenter.<br>2. Metaphor: Comparison.<br>   - Good: Presenter hands a simple switch (Flag) to the UI.<br>   - Bad: UI is tangled in wires (Complex If Logic).<br>3. Action: Comparison.<br>4. Layout: Side by side. | ### âœ… ãƒ«ãƒ¼ãƒ«3ï¼šç”»é¢ã®â€œåˆ¤æ–­â€ã«å¿…è¦ãªãƒ•ãƒ©ã‚°ã‚’å…¥ã‚Œã‚‹ğŸš¦ |
| 379 | docs/clean_ts_study_034.md | clean_ts_study_034_translation_booth.png | ./picture/clean_ts_study_034_translation_booth.png | **Theme**: Error Translation Booth<br><br>**Labels to Render**:<br>- Inner: "Domain Error"<br>- Booth: "Translator (Boundary)"<br>- Outer: "HTTP Problem"<br>- Lang: "Language"<br><br>**Visual Details**:<br>1. Core Concept: Translating internal error concepts to external HTTP standard.<br>2. Metaphor: A translation booth at a border crossing.<br>   - Inner side: Character speaking "Domain Error" (Inner language).<br>   - Outer side: Character listening to "HTTP Problem" (Outer language).<br>   - The Translator inside the booth converts the message.<br>3. Action: Translating.<br>4. Layout: Side view of booth. | ## 1) ã¾ãšæœ€é‡è¦ï¼šå¤±æ•—ã¯â€œ2ç¨®é¡â€ã«åˆ†ã‘ã‚‹ğŸ§ âœ¨ |
| 380 | docs/clean_ts_study_034.md | clean_ts_study_034_problem_details_card.png | ./picture/clean_ts_study_034_problem_details_card.png | **Theme**: Problem Details Card<br><br>**Labels to Render**:<br>- Title: "Problem Details"<br>- Type: "type: URI"<br>- Status: "status: 404"<br>- Detail: "detail: Not Found"<br>- RFC: "RFC 9457"<br><br>**Visual Details**:<br>1. Core Concept: The structure of a Problem Details JSON object.<br>2. Metaphor: An ID card or standardized form.<br>   - Fields are clearly labeled: Type, Title, Status, Detail, Instance.<br>   - Stamped with "RFC 9457".<br>3. Action: Displaying.<br>4. Layout: Card view. | ## 2) å¤–å´ã®â€œæ¨™æº–ã®å½¢â€ã‚’æ±ºã‚ã‚‹ï¼šProblem Detailsï¼ˆRFC 9457ï¼‰ğŸ§¾âœ¨ |
| 381 | docs/clean_ts_study_034.md | clean_ts_study_034_mapping_table.png | ./picture/clean_ts_study_034_mapping_table.png | **Theme**: Error Mapping Table<br><br>**Labels to Render**:<br>- Domain: "Domain Error"<br>- HTTP: "HTTP Status"<br>- Invalid: "InvalidTitle -> 400"<br>- NotFound: "NotFound -> 404"<br>- Conflict: "Conflict -> 409"<br><br>**Visual Details**:<br>1. Core Concept: Mapping specific domain errors to HTTP status codes.<br>2. Metaphor: A dictionary or lookup table.<br>   - Left column: Domain Errors (InvalidTitle, TaskNotFound).<br>   - Right column: HTTP Status (400, 404).<br>   - Arrows connecting them.<br>3. Action: Mapping.<br>4. Layout: Table view. | ## 3) å¤‰æ›ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œã‚ã†ï¼ˆã“ã‚ŒãŒâ€œå¢ƒç•Œã®ç¿»è¨³è¾æ›¸â€ï¼‰ğŸ“šâ¡ï¸ğŸŒ |
| 382 | docs/clean_ts_study_034.md | clean_ts_study_034_union_tags.png | ./picture/clean_ts_study_034_union_tags.png | **Theme**: Discriminated Union Tags<br><br>**Labels to Render**:<br>- Error 1: "type: InvalidTitle"<br>- Error 2: "type: NotFound"<br>- Tag: "Discriminator"<br>- Easy: "Easy Switch"<br><br>**Visual Details**:<br>1. Core Concept: Using a literal type tag to discriminate unions.<br>2. Metaphor: Distinctly colored luggage tags.<br>   - Each error object has a prominent tag attached.<br>   - Tag 1: "InvalidTitle" (Red).<br>   - Tag 2: "NotFound" (Blue).<br>   - Easy to sort/switch based on color.<br>3. Action: Sorting.<br>4. Layout: Object view. | ## 4) å®Ÿè£…ï¼šå†…å´ã®ã‚¨ãƒ©ãƒ¼ï¼ˆDomainErrorï¼‰ã‚’â€œåˆ¤åˆ¥ã—ã‚„ã™ã„å½¢â€ã§æŒã¤ğŸ§© |
| 383 | docs/clean_ts_study_034.md | clean_ts_study_034_translator_machine.png | ./picture/clean_ts_study_034_translator_machine.png | **Theme**: Translator Machine<br><br>**Labels to Render**:<br>- Input: "Domain Error"<br>- Switch: "Switch Case"<br>- Output A: "400"<br>- Output B: "404"<br><br>**Visual Details**:<br>1. Core Concept: A function that switches on error type and returns HTTP response.<br>2. Metaphor: A sorting machine.<br>   - Input belt: Domain Errors.<br>   - Machine body: "Switch" mechanism.<br>   - Output chutes: Chute 400, Chute 404, Chute 409.<br>3. Action: Sorting.<br>4. Layout: Machine flow. | ## 6) å®Ÿè£…ï¼šç¿»è¨³é–¢æ•°ï¼ˆDomainError â†’ HTTP + ProblemDetailsï¼‰ğŸ”âœ¨ |
| 384 | docs/clean_ts_study_034.md | clean_ts_study_034_security_mask.png | ./picture/clean_ts_study_034_security_mask.png | **Theme**: Security Mask for 500 Errors<br><br>**Labels to Render**:<br>- Real Error: "DB Connection Failed (Stack Trace)"<br>- Mask: "500 Internal Error"<br>- Safe: "Safe for User"<br>- Log: "Log (Details)"<br><br>**Visual Details**:<br>1. Core Concept: Hiding sensitive technical details from the user.<br>2. Metaphor: A mask.<br>   - Behind the mask: A scary, detailed monster face "DB Connection Failed... Stack Trace...".<br>   - The mask itself: A plain, calm face "500 Internal Error".<br>   - The details are being piped into a "Log" bin instead.<br>3. Action: Masking.<br>4. Layout: Character close-up. | ## 8) æƒ³å®šå¤–ã‚¨ãƒ©ãƒ¼ï¼ˆæŠ€è¡“å¤±æ•—ï¼‰ã¯ã©ã†è¿”ã™ï¼ŸğŸ§¯ğŸ’¥ |
| 385 | docs/clean_ts_study_034.md | clean_ts_study_034_error_chain.png | ./picture/clean_ts_study_034_error_chain.png | **Theme**: Error Cause Chain<br><br>**Labels to Render**:<br>- Error 1: "Save Failed"<br>- Link: "cause"<br>- Error 2: "DB Error"<br>- Trace: "Traceable"<br><br>**Visual Details**:<br>1. Core Concept: Chaining errors to preserve context using `cause`.<br>2. Metaphor: A chain.<br>   - Link 1 (Top): "Save Failed" (High level).<br>   - Connected by a "cause" link to...<br>   - Link 2 (Bottom): "DB Error" (Low level).<br>   - A detective follows the chain to find the root cause.<br>3. Action: Chaining.<br>4. Layout: Vertical chain. | ## 9) ã‚¨ãƒ©ãƒ¼ã®â€œåŸå› â€ã‚’æ®‹ã™ï¼š`Error.cause` ãŒä¾¿åˆ©ğŸ§ ğŸ§µ |
| 386 | docs/clean_ts_study_035.md | clean_ts_study_035_inmemory_concept.png | ./picture/clean_ts_study_035_inmemory_concept.png | **Theme**: InMemory Repository Concept<br><br>**Labels to Render**:<br>- Port: "TaskRepository"<br>- Adapter: "InMemoryRepo"<br>- Storage: "Map<ID, Task>"<br>- Speed: "Fast (Memory)"<br><br>**Visual Details**:<br>1. Core Concept: Repository using memory instead of DB.<br>2. Metaphor: A lightweight, transparent box labeled "InMemoryRepo".<br>   - Inside, "Task" objects are stored in a simple grid (Map).<br>   - A lightning bolt icon indicates speed.<br>   - No heavy cables connecting to a database.<br>3. Action: Storing.<br>4. Layout: Object focus. | ## 1) InMemory Repositoryã£ã¦ãªã«ï¼Ÿ |
| 387 | docs/clean_ts_study_035.md | clean_ts_study_035_port_implementation.png | ./picture/clean_ts_study_035_port_implementation.png | **Theme**: Port Implementation Relationship<br><br>**Labels to Render**:<br>- Interface: "TaskRepository (Port)"<br>- Class: "InMemoryTaskRepository"<br>- Action: "implements"<br>- Methods: "save / findById"<br><br>**Visual Details**:<br>1. Core Concept: Adapter implementing the Port interface.<br>2. Metaphor: Puzzle pieces fitting together.<br>   - Top piece: "TaskRepository" interface (Hollow shape).<br>   - Bottom piece: "InMemoryTaskRepository" class (Solid shape).<br>   - They fit perfectly.<br>3. Action: Connecting.<br>4. Layout: Vertical connection. | ## 2) ã¾ãšâ€œPortâ€ã‚’ç¢ºèªã—ã‚ˆã† |
| 388 | docs/clean_ts_study_035.md | clean_ts_study_035_snapshot_strategy.png | ./picture/clean_ts_study_035_snapshot_strategy.png | **Theme**: Snapshot Strategy<br><br>**Labels to Render**:<br>- Entity: "Task (Entity)"<br>- Snapshot: "Snapshot (Data)"<br>- Store: "Map"<br>- Action: "toSnapshot / rehydrate"<br><br>**Visual Details**:<br>1. Core Concept: Converting Entity to Data for storage.<br>2. Metaphor: Freeze-drying.<br>   - Entity (Alive character) -> "toSnapshot" process -> Snapshot (Frozen block).<br>   - Snapshot -> "Map" storage.<br>   - Snapshot -> "rehydrate" process -> Entity (Alive again).<br>3. Action: Cycle.<br>4. Layout: Cycle flow. | ## 6) å®‰å…¨å¯„ã‚Šã®æ”¹è‰¯ï¼šSnapshotã‚’ä¿å­˜ã—ã¦â€œå¾©å…ƒâ€ã™ã‚‹ |
| 389 | docs/clean_ts_study_035.md | clean_ts_study_035_composition_root.png | ./picture/clean_ts_study_035_composition_root.png | **Theme**: Composition Root Injection<br><br>**Labels to Render**:<br>- Main: "Main (Composition)"<br>- UseCase: "CreateTaskInteractor"<br>- Repo: "InMemoryRepo"<br>- Inject: "new(repo)"<br><br>**Visual Details**:<br>1. Core Concept: Injecting the repository instance.<br>2. Metaphor: Assembly.<br>   - Main (Builder) taking a "InMemoryRepo" block.<br>   - Inserting it into the "CreateTaskInteractor" machine.<br>   - Showing the dependency satisfying the requirement.<br>3. Action: Injecting.<br>4. Layout: Assembly view. | ## 7) ä½¿ã„æ–¹ï¼ˆComposition Rootã§æ³¨å…¥ï¼‰ |
| 390 | docs/clean_ts_study_035.md | clean_ts_study_035_testing.png | ./picture/clean_ts_study_035_testing.png | **Theme**: Testing InMemory Repository<br><br>**Labels to Render**:<br>- Test: "Vitest"<br>- Repo: "InMemoryRepo"<br>- Check: "save -> find"<br>- Result: "Pass (Green)"<br><br>**Visual Details**:<br>1. Core Concept: Fast verification of repository logic.<br>2. Metaphor: A scientist (Vitest) checking a sample in the "InMemoryRepo".<br>   - Putting a task in, taking it out, and measuring it.<br>   - Giving a thumbs up (Pass).<br>   - Speed lines indicating it's fast.<br>3. Action: Testing.<br>4. Layout: Lab scene. | ## 8) ãƒ†ã‚¹ãƒˆï¼ˆVitestã§ã‚µã‚¯ãƒƒã¨ï¼‰ |
| 391 | docs/clean_ts_study_035.md | clean_ts_study_035_design_rules.png | ./picture/clean_ts_study_035_design_rules.png | **Theme**: Design Rules Summary<br><br>**Labels to Render**:<br>- Rule 1: "UseCase ignorant"<br>- Rule 2: "Adapter implements Port"<br>- Rule 3: "Swappable"<br>- Check: "OK"<br><br>**Visual Details**:<br>1. Core Concept: Key takeaways.<br>2. Metaphor: A checklist on a clipboard.<br>   - Three items checked off with a green marker.<br>   - "UseCase doesn't know Impl".<br>   - "Adapter fits Port".<br>   - "Can swap Impl".<br>3. Action: Checking.<br>4. Layout: List view. | ## 9) ã“ã®ç« ã®â€œè¨­è¨ˆã®ã‚³ãƒ„â€ã¾ã¨ã‚ |
| 392 | docs/clean_ts_study_036.md | clean_ts_study_036_file_structure.png | ./picture/clean_ts_study_036_file_structure.png | **Theme**: SQLite Adapter File Structure<br><br>**Labels to Render**:<br>- Folder: "adapters/outbound/sqlite"<br>- File 1: "SQLiteTaskRepo.ts"<br>- File 2: "schema.ts"<br>- Separation: "Isolated"<br><br>**Visual Details**:<br>1. Core Concept: Organizing DB files in the Adapter layer.<br>2. Metaphor: A neat folder or drawer labeled "sqlite".<br>   - Inside are two files: "SQLiteTaskRepo.ts" and "schema.ts".<br>   - It is clearly separated from the "usecases" folder.<br>3. Action: Organization.<br>4. Layout: Tree view. | ## 3) ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®ï¼ˆãŠã™ã™ã‚ï¼‰ |
| 393 | docs/clean_ts_study_036.md | clean_ts_study_036_schema_application.png | ./picture/clean_ts_study_036_schema_application.png | **Theme**: Schema Application at Startup<br><br>**Labels to Render**:<br>- App Start: "App Start"<br>- Schema: "schema.ts"<br>- DB: "SQLite DB"<br>- Table: "tasks Table"<br><br>**Visual Details**:<br>1. Core Concept: Ensuring tables exist on startup.<br>2. Metaphor: A blueprint (schema.ts) being applied to a construction site (DB).<br>   - At "App Start", the blueprint is unrolled.<br>   - The "tasks Table" structure appears in the DB.<br>3. Action: Applying/Building.<br>4. Layout: Process flow. | ## 4) å®Ÿè£…ï¼šschema ã®é©ç”¨ï¼ˆèµ·å‹•æ™‚ã«1å›ï¼‰ |
| 394 | docs/clean_ts_study_036.md | clean_ts_study_036_row_conversion.png | ./picture/clean_ts_study_036_row_conversion.png | **Theme**: Row to Entity Conversion<br><br>**Labels to Render**:<br>- Entity: "Task (Rich)"<br>- Row: "TaskRow (Flat)"<br>- Method 1: "toRow()"<br>- Method 2: "fromRow()"<br><br>**Visual Details**:<br>1. Core Concept: Converting between Domain Object and DB Row.<br>2. Metaphor: Transformation machine.<br>   - Top: Complex "Task" object enters "toRow()" -> Comes out as Flat "TaskRow".<br>   - Bottom: Flat "TaskRow" enters "fromRow()" -> Comes out as Complex "Task".<br>3. Action: Converting.<br>4. Layout: Cycle or Parallel flow. | ## 5) å®Ÿè£…ï¼šSQLiteTaskRepositoryï¼ˆPortã‚’æº€ãŸã™ï¼‰ |
| 395 | docs/clean_ts_study_036.md | clean_ts_study_036_transaction.png | ./picture/clean_ts_study_036_transaction.png | **Theme**: Transaction Atomicity<br><br>**Labels to Render**:<br>- Tx: "Transaction"<br>- Op 1: "Insert Task"<br>- Op 2: "Insert Log"<br>- Lock: "Atomic"<br><br>**Visual Details**:<br>1. Core Concept: Grouping operations atomically.<br>2. Metaphor: A sealed package.<br>   - "Insert Task" and "Insert Log" are put into a box labeled "Transaction".<br>   - The box is sealed tight (Atomic).<br>   - Either the whole box is delivered (Commit) or nothing is (Rollback).<br>3. Action: Grouping.<br>4. Layout: Grouped items. | ## 6) ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã£ã¦ã„ã¤è¦ã‚‹ã®ï¼Ÿ |
| 396 | docs/clean_ts_study_036.md | clean_ts_study_036_repo_swap.png | ./picture/clean_ts_study_036_repo_swap.png | **Theme**: Repository Swap in Composition Root<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Old: "InMemoryRepo"<br>- New: "SQLiteRepo"<br>- Action: "Swap"<br><br>**Visual Details**:<br>1. Core Concept: Changing implementation without affecting UseCase.<br>2. Metaphor: Unplugging a device.<br>   - UseCase has a socket.<br>   - "InMemoryRepo" plug is removed.<br>   - "SQLiteRepo" plug is inserted.<br>   - UseCase remains generic and accepts both.<br>3. Action: Swapping.<br>4. Layout: Connection view. | ## 8) ç°¡å˜ãªçµç·šï¼ˆå·®ã—æ›¿ãˆã®ç¬é–“ï¼‰ |
| 397 | docs/clean_ts_study_037.md | clean_ts_study_037_mapper_absorber.png | ./picture/clean_ts_study_037_mapper_absorber.png | **Theme**: Mapper as Shock Absorber<br><br>**Labels to Render**:<br>- Outer: "DB Record (Rough)"<br>- Inner: "Entity (Smooth)"<br>- Absorber: "Mapper"<br>- Safe: "Clean"<br><br>**Visual Details**:<br>1. Core Concept: Mapper absorbing the differences and roughness of external data.<br>2. Metaphor: A shock absorber or cushion.<br>   - Left: "DB Record" represented as a jagged, rusty gear.<br>   - Middle: "Mapper" represented as a soft, compressing spring or sponge.<br>   - Right: "Entity" represented as a smooth, polished sphere.<br>3. Action: Absorbing shock.<br>4. Layout: Left to Right. | ## 2) Mapperã£ã¦ãªã«ï¼Ÿ |
| 398 | docs/clean_ts_study_037.md | clean_ts_study_037_pollution.png | ./picture/clean_ts_study_037_pollution.png | **Theme**: Pollution without Mapper<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Intruder: "completed_at"<br>- Snake: "snake_case"<br>- Dirt: "SQL Terms"<br><br>**Visual Details**:<br>1. Core Concept: Database terms invading the domain layer.<br>2. Metaphor: A clean room (UseCase) invaded by snakes.<br>   - Snakes labeled "snake_case" and "completed_at" are crawling on the floor.<br>   - The UseCase character looks distressed.<br>3. Action: Invasion.<br>4. Layout: Room scene. | ## 3) ãªã‚“ã§éš”é›¢ãŒå¤§äº‹ï¼Ÿ |
| 399 | docs/clean_ts_study_037.md | clean_ts_study_037_data_shapes.png | ./picture/clean_ts_study_037_data_shapes.png | **Theme**: Data Shape Contrast<br><br>**Labels to Render**:<br>- Record: "Record (Outer)"<br>- Entity: "Entity (Inner)"<br>- Field 1: "completed: 0/1"<br>- Field 2: "completed: boolean"<br><br>**Visual Details**:<br>1. Core Concept: Contrasting the data structures.<br>2. Metaphor: Two different blueprints.<br>   - Left: Blueprint "Record" with "0/1" and "snake_case".<br>   - Right: Blueprint "Entity" with "boolean" and "camelCase".<br>   - Highlighting the difference in types.<br>3. Action: Comparison.<br>4. Layout: Side by side. | ## 5) ã¾ãšã€Œå¤‰æ›å‰ãƒ»å¤‰æ›å¾Œã®å½¢ã€ã‚’å›ºå®šã—ã‚ˆ |
| 400 | docs/clean_ts_study_037.md | clean_ts_study_037_repository_flow.png | ./picture/clean_ts_study_037_repository_flow.png | **Theme**: Repository Flow with Mapper<br><br>**Labels to Render**:<br>- DB: "DB"<br>- Row: "Row"<br>- Mapper: "Mapper"<br>- Entity: "Entity"<br>- Repo: "Repository"<br><br>**Visual Details**:<br>1. Core Concept: Repository delegates conversion to Mapper.<br>2. Metaphor: A pipeline inside the Repository box.<br>   - SQL fetches "Row".<br>   - "Row" passes through "Mapper" gate.<br>   - "Entity" comes out.<br>   - The Repository does not touch the Row properties directly.<br>3. Action: Processing.<br>4. Layout: Linear pipeline. | ## 8) Repositoryã§ã¯Mapperã ã‘ã‚’é ¼ã‚‹ |
| 401 | docs/clean_ts_study_037.md | clean_ts_study_037_round_trip.png | ./picture/clean_ts_study_037_round_trip.png | **Theme**: Round Trip Testing<br><br>**Labels to Render**:<br>- Start: "Record A"<br>- Mid: "Entity"<br>- End: "Record B"<br>- Check: "A == B"<br><br>**Visual Details**:<br>1. Core Concept: Verifying lossless conversion.<br>2. Metaphor: A loop or cycle.<br>   - "Record A" -> converted to "Entity" -> converted back to "Record B".<br>   - A scale checks that "Record A" and "Record B" weigh exactly the same.<br>3. Action: Measuring equality.<br>4. Layout: Cycle flow. | ## 9) å¤‰æ›æ¼ã‚Œã‚’æ½°ã™ãƒ†ã‚¹ãƒˆ |
| 402 | docs/clean_ts_study_038.md | clean_ts_study_038_adapters_translator.png | ./picture/clean_ts_study_038_adapters_translator.png | **Theme**: Adapters as Translators<br><br>**Labels to Render**:<br>- External: "External (HTTP/UI)"<br>- Adapter: "Adapter (Translator)"<br>- Internal: "Internal (UseCase)"<br>- Action: "Translate"<br><br>**Visual Details**:<br>1. Core Concept: Adapters convert data between external and internal formats.<br>2. Metaphor: A translation booth.<br>   - Left: "HTTP" (Foreign language) enters.<br>   - Middle: "Adapter" translates it.<br>   - Right: "Request" (Local language) exits to UseCase.<br>3. Action: Translating.<br>4. Layout: Left to Right flow. | ## 1) ã¾ãšè¶…ã–ã£ãã‚Šï¼šAdaptersã£ã¦ä½•ã™ã‚‹å ´æ‰€ï¼Ÿ |
| 403 | docs/clean_ts_study_038.md | clean_ts_study_038_eslint_guard.png | ./picture/clean_ts_study_038_eslint_guard.png | **Theme**: ESLint Guard<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Adapter: "Adapter"<br>- Guard: "ESLint"<br>- Block: "No Import"<br><br>**Visual Details**:<br>1. Core Concept: ESLint preventing bad dependencies.<br>2. Metaphor: A security guard (ESLint).<br>   - A wire attempts to connect from "UseCase" to "Adapter".<br>   - The Guard cuts the wire or blocks it with a shield "No Import".<br>3. Action: Blocking.<br>4. Layout: Barrier scene. | ## 4-1) ESLintã§ã€Œç¦æ­¢importã€ã‚’ã‚¬ãƒã‚¬ãƒã«ã™ã‚‹ |
| 404 | docs/clean_ts_study_038.md | clean_ts_study_038_dep_cruiser.png | ./picture/clean_ts_study_038_dep_cruiser.png | **Theme**: Dependency Cruiser Map<br><br>**Labels to Render**:<br>- Map: "Architecture Map"<br>- Node A: "UseCase"<br>- Node B: "Framework"<br>- Line: "Forbidden"<br>- Tool: "DepCruiser"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing and catching forbidden dependencies.<br>2. Metaphor: A radar screen or network map.<br>   - Nodes representing layers.<br>   - A red line connects UseCase to Framework.<br>   - The tool highlights this line as a violation.<br>3. Action: Detecting.<br>4. Layout: Network graph. | ## 4-2) dependency-cruiserã§ã€Œã‚¢ãƒ¼ã‚­é•åã€ã‚’ãƒ†ã‚¹ãƒˆåŒ–ã™ã‚‹ |
| 405 | docs/clean_ts_study_038.md | clean_ts_study_038_madge_cycle.png | ./picture/clean_ts_study_038_madge_cycle.png | **Theme**: Madge Circular Detection<br><br>**Labels to Render**:<br>- File A: "File A"<br>- File B: "File B"<br>- Cycle: "Circular Dependency"<br>- Tool: "Madge"<br><br>**Visual Details**:<br>1. Core Concept: Detecting circular references.<br>2. Metaphor: Ouroboros (Snake eating tail).<br>   - File A points to File B, File B points to File A.<br>   - Madge tool shines a light on this loop.<br>3. Action: Detection.<br>4. Layout: Circular flow. | ## 4-3) madgeã§ã€Œå¾ªç’°ä¾å­˜ã€ã‚’ã‚ã¶ã‚Šå‡ºã™ |
| 406 | docs/clean_ts_study_038.md | clean_ts_study_038_logic_sorting.png | ./picture/clean_ts_study_038_logic_sorting.png | **Theme**: Logic Sorting for Adapters<br><br>**Labels to Render**:<br>- Item 1: "Formatting (OK)"<br>- Item 2: "Business Rule (NG)"<br>- Bin 1: "Adapter"<br>- Bin 2: "UseCase"<br><br>**Visual Details**:<br>1. Core Concept: Deciding what logic belongs in Adapters.<br>2. Metaphor: Sorting items on a conveyor belt.<br>   - "Formatting" box goes into "Adapter" bin (Green check).<br>   - "Business Rule" box is rejected from Adapter and sent to "UseCase" bin.<br>3. Action: Sorting.<br>4. Layout: Sorting line. | ## 5) â€œAdapterså±¤â€ã®ç›£æŸ»ãƒã‚¤ãƒ³ãƒˆã‚’ã‚‚ã£ã¨å…·ä½“åŒ– |
| 407 | docs/clean_ts_study_039.md | clean_ts_study_039_web_layer.png | ./picture/clean_ts_study_039_web_layer.png | **Theme**: Framework as Outer Shell<br><br>**Labels to Render**:<br>- Core: "Core (UseCase/Entity)"<br>- Adapter: "Adapter (Controller)"<br>- Web: "Web (Express/Fastify)"<br>- Protect: "Protection"<br><br>**Visual Details**:<br>1. Core Concept: The Web Framework wraps the entire application as an outer shell.<br>2. Metaphor: Layers of an onion or planet.<br>   - Inner Core: Glowing UseCases/Entities.<br>   - Middle Layer: Adapters.<br>   - Outer Crust: "Express" protecting the inside.<br>3. Action: Wrapping/Protecting.<br>4. Layout: Concentric layers. | ## 1. ã“ã“ã§è¨€ã†ã€ŒWebãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯å¤–å´ã€ã£ã¦ã©ã†ã„ã†æ„å‘³ï¼Ÿ |
| 408 | docs/clean_ts_study_039.md | clean_ts_study_039_http_types.png | ./picture/clean_ts_study_039_http_types.png | **Theme**: Framework Agnostic Types<br><br>**Labels to Render**:<br>- Generic: "HttpRequest (Generic)"<br>- Specific: "Express.Request (Specific)"<br>- Check: "Safe for Core"<br>- Cross: "Keep Out"<br><br>**Visual Details**:<br>1. Core Concept: Defining HTTP types that don't depend on the framework.<br>2. Metaphor: Comparison of two ID cards.<br>   - Generic Card: Simple text "Method, Path, Body". Safe for Core.<br>   - Specific Card: Complex chip "Express Internal". Keep Out.<br>3. Action: Comparison.<br>4. Layout: Side by side. | ## 4-1. ã¾ãšã¯å†…å´ã«å¯„ã›ãŸHTTPå…±é€šå‹ï¼ˆFrameworkéä¾å­˜ï¼‰ã‚’ä½œã‚‹ |
| 409 | docs/clean_ts_study_039.md | clean_ts_study_039_controller_flow.png | ./picture/clean_ts_study_039_controller_flow.png | **Theme**: Controller Responsibilities Flow<br><br>**Labels to Render**:<br>- Step 1: "Receive & Convert"<br>- Step 2: "Call UseCase"<br>- Step 3: "Convert & Return"<br>- Controller: "Controller"<br><br>**Visual Details**:<br>1. Core Concept: The three steps of a Controller.<br>2. Metaphor: A relay station.<br>   - Step 1: Receives a package and repackages it.<br>   - Step 2: Hands it to the runner (UseCase).<br>   - Step 3: Receives result and packages it for shipping.<br>3. Action: Flowing.<br>4. Layout: Sequential steps. | ## 4-2. Controllerã¯ã€Œå—ã‘å–ã£ã¦â†’UseCaseå‘¼ã‚“ã§â†’è¿”ã™ã€ã ã‘ |
| 410 | docs/clean_ts_study_039.md | clean_ts_study_039_express_adapter.png | ./picture/clean_ts_study_039_express_adapter.png | **Theme**: Express Adapter<br><br>**Labels to Render**:<br>- Express: "Express Req"<br>- Adapter: "adaptExpressRequest"<br>- Internal: "HttpRequest"<br>- Plug: "Convert"<br><br>**Visual Details**:<br>1. Core Concept: Adapting the framework request to the internal request.<br>2. Metaphor: A power adapter plug.<br>   - Input: "Express Req" (3-prong).<br>   - Adapter: "adaptExpressRequest".<br>   - Output: "HttpRequest" (2-prong).<br>3. Action: Plugging/Converting.<br>4. Layout: Left to Right. | ## 4-3. Expressã¯Frameworks & Driversã«éš”é›¢ã—ã¦ã€Controllerã‚’å‘¼ã¶ã ã‘ |
| 411 | docs/clean_ts_study_039.md | clean_ts_study_039_pollution.png | ./picture/clean_ts_study_039_pollution.png | **Theme**: UseCase Pollution Accident<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Object: "req.body"<br>- Dirt: "Framework Dependency"<br>- Reaction: "Eww!"<br><br>**Visual Details**:<br>1. Core Concept: UseCase touching raw framework objects.<br>2. Metaphor: A UseCase character holding a dirty object labeled "req.body".<br>   - The object is dripping slime (Framework Dependency).<br>   - The character looks disgusted.<br>3. Action: Holding dirty object.<br>4. Layout: Character focus. | ## 5. ã‚ˆãã‚ã‚‹äº‹æ•…ã¨ã€ç§’é€Ÿã§æ²»ã™ã‚³ãƒ„ |
| 412 | docs/clean_ts_study_040.md | clean_ts_study_040_factory_separation.png | ./picture/clean_ts_study_040_factory_separation.png | **Theme**: Factory Separation<br><br>**Labels to Render**:<br>- Factory: "DB Factory (Outer)"<br>- Repo: "Repository (Adapter)"<br>- Object: "DB Connection"<br>- Handover: "Inject"<br><br>**Visual Details**:<br>1. Core Concept: Separation of creation and usage.<br>2. Metaphor: A manufacturing plant (Factory) producing a "DB Connection" unit.<br>   - A worker (Repository) receives the unit to use it.<br>   - The worker doesn't know how it was made.<br>3. Action: Handover.<br>4. Layout: Left to Right. | ## æ­£ã—ã„åˆ†é›¢ã®å½¢ |
| 413 | docs/clean_ts_study_040.md | clean_ts_study_040_hardcoded_connection.png | ./picture/clean_ts_study_040_hardcoded_connection.png | **Theme**: Hardcoded Connection Anti-Pattern<br><br>**Labels to Render**:<br>- Repo: "Repository"<br>- File: "app.db"<br>- Chain: "Hardcoded"<br>- Problem: "Can't Swap"<br><br>**Visual Details**:<br>1. Core Concept: Tight coupling to a specific file/config.<br>2. Metaphor: A Repository character chained to a heavy rock labeled "app.db".<br>   - The chain is labeled "Hardcoded".<br>   - The character cannot move to a testing environment.<br>3. Action: Trapped.<br>4. Layout: Character focus. | ## â€œã‚„ã‚ŠãŒã¡ãªäº‹æ•…â€ä¾‹ |
| 414 | docs/clean_ts_study_040.md | clean_ts_study_040_db_factory.png | ./picture/clean_ts_study_040_db_factory.png | **Theme**: DB Factory Machine<br><br>**Labels to Render**:<br>- Input: "Options (File)"<br>- Machine: "createSqliteDb"<br>- Process: "PRAGMA / Init"<br>- Output: "Ready DB"<br><br>**Visual Details**:<br>1. Core Concept: Encapsulating setup logic.<br>2. Metaphor: A factory machine.<br>   - Input: Configuration options.<br>   - Internal gears: applying PRAGMA settings.<br>   - Output: A shiny, ready-to-use "DB" object.<br>3. Action: Manufacturing.<br>4. Layout: Process flow. | ## ã‚¹ãƒ†ãƒƒãƒ—1ï¼šå¤–å´ã«ã€ŒDBã‚’ä½œã‚‹ã ã‘ã€ã®å·¥æˆ¿ã‚’ä½œã‚‹ |
| 415 | docs/clean_ts_study_040.md | clean_ts_study_040_repo_injection.png | ./picture/clean_ts_study_040_repo_injection.png | **Theme**: Repository Injection<br><br>**Labels to Render**:<br>- Constructor: "constructor(db)"<br>- DB: "DB Object"<br>- Repo: "Repository"<br>- Ignorant: "Don't know Path"<br><br>**Visual Details**:<br>1. Core Concept: Dependency Injection of the DB.<br>2. Metaphor: A Repository robot with an open slot.<br>   - An external hand inserts the "DB Object".<br>   - The robot doesn't scan the object's origin (Path), just uses it.<br>3. Action: Insertion.<br>4. Layout: Character close-up. | ## ã‚¹ãƒ†ãƒƒãƒ—2ï¼šRepositoryã¯ã€Œæ¥ç¶šæ¸ˆã¿DBã€ã‚’å—ã‘å–ã‚‹ã ã‘ã«ã™ã‚‹ |
| 416 | docs/clean_ts_study_040.md | clean_ts_study_040_memory_test.png | ./picture/clean_ts_study_040_memory_test.png | **Theme**: Memory DB Testing<br><br>**Labels to Render**:<br>- Test: "Test Runner"<br>- Factory: "Factory"<br>- Arg: ":memory:"<br>- Repo: "Repository"<br>- Speed: "Fast"<br><br>**Visual Details**:<br>1. Core Concept: Swapping to in-memory DB for tests.<br>2. Metaphor: A test setup.<br>   - Test Runner passes ":memory:" token to Factory.<br>   - Factory produces a light, floating "Memory DB".<br>   - Repository uses it happily.<br>3. Action: Testing.<br>4. Layout: Lab scene. | ## ãƒ†ã‚¹ãƒˆãŒæ°—æŒã¡ã‚ˆããªã‚‹ä¾‹ |
| 417 | docs/clean_ts_study_041.md | clean_ts_study_041_config_rules.png | ./picture/clean_ts_study_041_config_rules.png | **Theme**: 3 Rules of Config<br><br>**Labels to Render**:<br>- Rule 1: "Read Outside"<br>- Rule 2: "Inner Ignorant"<br>- Rule 3: "Inject Minimal"<br>- Goal: "Safe"<br><br>**Visual Details**:<br>1. Core Concept: Three pillars of safe configuration.<br>2. Metaphor: A temple supported by 3 columns.<br>   - Column 1: "Read at Boundary".<br>   - Column 2: "Inner doesn't know Env".<br>   - Column 3: "Pass only what's needed".<br>3. Action: Supporting structure.<br>4. Layout: Pillar view. | ## ã¾ãšçµè«–ï¼šConfigã®é‰„å‰‡3ã¤ |
| 418 | docs/clean_ts_study_041.md | clean_ts_study_041_env_accident.png | ./picture/clean_ts_study_041_env_accident.png | **Theme**: UseCase Reading Env Accident<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Env: "process.env"<br>- Distraction: "Looking Out"<br>- Risk: "Dependent"<br><br>**Visual Details**:<br>1. Core Concept: UseCase should not look at global environment.<br>2. Metaphor: A UseCase character distracted from their work.<br>   - Instead of looking at their desk (Business Logic), they are craning their neck to look out the window at a billboard "process.env".<br>3. Action: Distraction.<br>4. Layout: Character focus. | ## ãªã‚“ã§å±ãªã„ã®ï¼Ÿã‚ˆãã‚ã‚‹äº‹æ•…é›† |
| 419 | docs/clean_ts_study_041.md | clean_ts_study_041_zod_validation.png | ./picture/clean_ts_study_041_zod_validation.png | **Theme**: Config Validation Machine<br><br>**Labels to Render**:<br>- Input: "Raw Env"<br>- Machine: "Zod Schema"<br>- Output: "Typed Config"<br>- Reject: "Error"<br><br>**Visual Details**:<br>1. Core Concept: Validating environment variables before use.<br>2. Metaphor: A processing machine.<br>   - Raw materials (Env Vars) enter.<br>   - Zod gears check them.<br>   - Good config (Typed Object) comes out.<br>   - Bad config causes a red halt light.<br>3. Action: Validating.<br>4. Layout: Process flow. | ## 3) å¤–å´ã§Configã‚’â€œå‹ãƒã‚§ãƒƒã‚¯â€ã™ã‚‹ï¼ˆZodã§å®‰å¿ƒï¼‰ |
| 420 | docs/clean_ts_study_041.md | clean_ts_study_041_minimal_injection.png | ./picture/clean_ts_study_041_minimal_injection.png | **Theme**: Minimal Injection Distribution<br><br>**Labels to Render**:<br>- Config: "App Config"<br>- DB_PATH: "DB_PATH"<br>- MAX_LEN: "MAX_LEN"<br>- Adapter: "Adapter (DB)"<br>- UseCase: "UseCase"<br><br>**Visual Details**:<br>1. Core Concept: Distributing only relevant config to each layer.<br>2. Metaphor: A mail sorting room.<br>   - The "Config" bag is opened.<br>   - "DB_PATH" envelope is sent to "Adapter".<br>   - "MAX_LEN" envelope is sent to "UseCase".<br>   - UseCase does NOT get the whole bag.<br>3. Action: Sorting/Distributing.<br>4. Layout: Distribution flow. | ## 4) ã©ã“ã¸æ¸¡ã™ï¼Ÿâ€œå¿…è¦æœ€å°é™â€æ³¨å…¥ã®ä¾‹ |
| 421 | docs/clean_ts_study_041.md | clean_ts_study_041_easy_testing.png | ./picture/clean_ts_study_041_easy_testing.png | **Theme**: Easy Testing with Values<br><br>**Labels to Render**:<br>- Test: "Test Code"<br>- Inject: "maxTitleLength: 10"<br>- UseCase: "UseCase"<br>- Happy: "Easy"<br><br>**Visual Details**:<br>1. Core Concept: Testing without environment setup.<br>2. Metaphor: A developer running a test.<br>   - Instead of building a complex environment, they simply hand a card saying "10" to the UseCase.<br>   - UseCase works perfectly.<br>   - Simple and fast.<br>3. Action: Handing over.<br>4. Layout: Interaction close-up. | ## ãƒ†ã‚¹ãƒˆãŒæ¥½ã«ãªã‚‹ç†ç”± |
| 422 | docs/clean_ts_study_042.md | clean_ts_study_042_notification_flow.png | ./picture/clean_ts_study_042_notification_flow.png | **Theme**: Notification Flow (Port-Adapter)<br><br>**Labels to Render**:<br>- UseCase: "UseCase (Call)"<br>- Port: "NotifierPort"<br>- Adapter: "SlackAdapter"<br>- External: "Slack API"<br><br>**Visual Details**:<br>1. Core Concept: Unidirectional control flow across the boundary.<br>2. Metaphor: A relay race.<br>   - Runner 1 (UseCase) hands the baton (Notification) to the Interface (Port).<br>   - Runner 2 (Adapter) takes the baton and runs to the finish line (External Service).<br>   - Boundary wall separates Runner 1 from Runner 2.<br>3. Action: Handing over baton.<br>4. Layout: Left to Right flow. | ## ã¾ãšçµè«–ï¼šå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºã®â€œå‹â€ã¯ã“ã‚Œã ã‘ğŸ§© |
| 423 | docs/clean_ts_study_042.md | clean_ts_study_042_inner_words_port.png | ./picture/clean_ts_study_042_inner_words_port.png | **Theme**: Port Defined with Inner Words<br><br>**Labels to Render**:<br>- Inner: "TaskNotification (Clean)"<br>- Outer: "Slack Payload (Dirty)"<br>- Port: "Port Boundary"<br>- Block: "Block"<br><br>**Visual Details**:<br>1. Core Concept: Port accepts only domain-centric data.<br>2. Metaphor: A shape sorter gate.<br>   - The gate (Port) matches the shape of "TaskNotification" (Clean circle).<br>   - A complex, jagged shape "Slack Payload" tries to enter but doesn't fit.<br>3. Action: Filtering/Blocking.<br>4. Layout: Gate view. | ## ã‚¹ãƒ†ãƒƒãƒ—1ï¼šPortã‚’å®šç¾©ã™ã‚‹ï¼ˆå†…å´ã®è¨€è‘‰ã§ï¼‰ğŸ”ŒğŸ“˜ |
| 424 | docs/clean_ts_study_042.md | clean_ts_study_042_usecase_ignorance.png | ./picture/clean_ts_study_042_usecase_ignorance.png | **Theme**: UseCase Ignorance of External Service<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Port: "NotifierPort"<br>- Blind: "Don't know"<br>- Service: "Console / Slack / Email"<br><br>**Visual Details**:<br>1. Core Concept: Decoupling.<br>2. Metaphor: UseCase speaking into a generic megaphone (Port).<br>   - Behind a curtain, the megaphone could be connected to anything (Speaker, Radio, Internet).<br>   - UseCase is happy just speaking, not caring about the destination.<br>3. Action: Speaking/Notifying.<br>4. Layout: Character focus. | ## ã‚¹ãƒ†ãƒƒãƒ—2ï¼šUseCaseã‹ã‚‰Portã‚’å‘¼ã¶ï¼ˆå¤–éƒ¨APIã¯çµ¶å¯¾ã«è§¦ã‚‰ãªã„ï¼‰ğŸš«ğŸŒ |
| 425 | docs/clean_ts_study_042.md | clean_ts_study_042_adapter_translation.png | ./picture/clean_ts_study_042_adapter_translation.png | **Theme**: Adapter Translation Logic<br><br>**Labels to Render**:<br>- Input: "TaskNotification"<br>- Adapter: "SlackAdapter"<br>- Output: "JSON Payload"<br>- API: "POST /webhook"<br><br>**Visual Details**:<br>1. Core Concept: Converting internal data to external format.<br>2. Metaphor: A factory machine (Adapter).<br>   - Input: Clean "TaskNotification" box.<br>   - Machine processes it (wraps it in Slack format).<br>   - Output: "JSON Payload" box ready for shipping.<br>3. Action: Manufacturing/Converting.<br>4. Layout: Process flow. | ## ã‚¹ãƒ†ãƒƒãƒ—4ï¼šSlack Incoming Webhook ã§é€šçŸ¥ã™ã‚‹Adapterï¼ˆå¤–å´ã ã‘ã§å®Œçµï¼‰ğŸ’¬ğŸ”” |
| 426 | docs/clean_ts_study_042.md | clean_ts_study_042_composition_switch.png | ./picture/clean_ts_study_042_composition_switch.png | **Theme**: Composition Root Switching<br><br>**Labels to Render**:<br>- Env: "Env Var"<br>- Switch: "Composition Root"<br>- Adapter A: "Console"<br>- Adapter B: "Slack"<br>- UseCase: "UseCase"<br><br>**Visual Details**:<br>1. Core Concept: Dynamic injection based on configuration.<br>2. Metaphor: A railroad switch.<br>   - The track from UseCase comes in.<br>   - The Switch (Composition Root) looks at the signal (Env Var).<br>   - It routes the track to either "Console" or "Slack" destination.<br>3. Action: Switching tracks.<br>4. Layout: Railroad junction. | ## ã‚¹ãƒ†ãƒƒãƒ—5ï¼šComposition Root ã§æ³¨å…¥ï¼ˆå·®ã—æ›¿ãˆã‚¹ã‚¤ãƒƒãƒã¯ã“ã“ã ã‘ï¼‰ğŸ—ï¸ğŸ” |
| 427 | docs/clean_ts_study_042.md | clean_ts_study_042_failure_policy.png | ./picture/clean_ts_study_042_failure_policy.png | **Theme**: Notification Failure Policies<br><br>**Labels to Render**:<br>- Policy A: "Best Effort (Ignore)"<br>- Policy B: "Strict (Rollback)"<br>- Main: "Task Complete"<br>- Sub: "Notify Fail"<br><br>**Visual Details**:<br>1. Core Concept: Two different error handling strategies.<br>2. Metaphor: Two scenarios.<br>   - Scenario A: Main Runner finishes race (Green), Support Runner trips (Red). Team still wins.<br>   - Scenario B: Support Runner trips (Red), Main Runner stops and runs back (Rollback). Team loses.<br>3. Action: Running/Stopping.<br>4. Layout: Split view. | ## ã€Œé€šçŸ¥å¤±æ•—ã—ãŸã‚‰ã€ã‚¿ã‚¹ã‚¯å®Œäº†ã‚‚å¤±æ•—ï¼Ÿã€å•é¡ŒğŸ¤”âš–ï¸ |
| 428 | docs/clean_ts_study_042.md | clean_ts_study_042_spy_testing.png | ./picture/clean_ts_study_042_spy_testing.png | **Theme**: Spy Notifier for Testing<br><br>**Labels to Render**:<br>- Test: "Test"<br>- Spy: "SpyNotifier"<br>- Record: "calls[]"<br>- Check: "assert(calls.length == 1)"<br><br>**Visual Details**:<br>1. Core Concept: Recording calls for verification.<br>2. Metaphor: A spy character taking notes.<br>   - UseCase hands a message to the Spy.<br>   - Spy quietly writes it down in a notebook labeled "calls[]".<br>   - Test Inspector checks the notebook later.<br>3. Action: Recording.<br>4. Layout: Character interaction. | ## ãƒ†ã‚¹ãƒˆã¯ã©ã†ã™ã‚‹ï¼Ÿï¼ˆç­”ãˆï¼šSpy/Fakeã§OKï¼‰ğŸ§ªğŸ­ |
| 429 | docs/clean_ts_study_043.md | clean_ts_study_043_composition_root_concept.png | ./picture/clean_ts_study_043_composition_root_concept.png | **Theme**: Composition Root Concept<br><br>**Labels to Render**:<br>- Builder: "Composition Root"<br>- Parts: "UseCase / Adapter"<br>- Product: "App"<br>- Location: "One Place"<br><br>**Visual Details**:<br>1. Core Concept: Centralized assembly.<br>2. Metaphor: A master builder standing at a specific workbench.<br>   - He takes separate parts (UseCase gear, Adapter frame).<br>   - He assembles them into a finished robot (App).<br>   - The rest of the factory floor is clean, no other workbenches.<br>3. Action: Assembling.<br>4. Layout: Workbench view. | ## 2) Composition Rootã£ã¦ãªã«ï¼ŸğŸ¤”ğŸ§© |
| 430 | docs/clean_ts_study_043.md | clean_ts_study_043_one_place_benefits.png | ./picture/clean_ts_study_043_one_place_benefits.png | **Theme**: Benefits of Single Assembly Point<br><br>**Labels to Render**:<br>- Scattered: "Scattered (Chaos)"<br>- Centralized: "Composition Root (Order)"<br>- Swap: "Easy Swap"<br>- Search: "Where is new()?"<br><br>**Visual Details**:<br>1. Core Concept: Order vs Chaos.<br>2. Metaphor: Comparison of two workshops.<br>   - Left (Scattered): Tools and parts scattered all over the floor. A worker looks confused "Where is it?".<br>   - Right (Centralized): A neat pegboard and tool chest. A worker easily swaps a "Blue Tool" for a "Red Tool".<br>3. Action: Comparison.<br>4. Layout: Split view. | ## 3) ãªã‚“ã§ã€Œ1ã‹æ‰€ã€ã«é–‰ã˜è¾¼ã‚ã‚‹ã®ï¼ŸğŸ’¡ğŸ˜† |
| 431 | docs/clean_ts_study_043.md | clean_ts_study_043_dos_and_donts.png | ./picture/clean_ts_study_043_dos_and_donts.png | **Theme**: Composition Root Sorting<br><br>**Labels to Render**:<br>- Box: "Composition Root"<br>- Do: "DB Connect / new Class"<br>- Don't: "Business Logic"<br>- Bin: "Other Layers"<br><br>**Visual Details**:<br>1. Core Concept: Filtering what belongs in Composition Root.<br>2. Metaphor: Sorting items into a box.<br>   - "DB Connection" and "Dependency Wiring" go INTO the box.<br>   - "Domain Rule" and "If/Else Logic" are tossed OUT into a different bin.<br>3. Action: Sorting.<br>4. Layout: Object sorting. | ## 4) Composition Rootã«ã€Œç½®ãã‚‚ã®ï¼ç½®ã‹ãªã„ã‚‚ã®ã€ğŸ“¦ğŸš« |
| 432 | docs/clean_ts_study_043.md | clean_ts_study_043_dependency_tree.png | ./picture/clean_ts_study_043_dependency_tree.png | **Theme**: Dependency Tree Visualization<br><br>**Labels to Render**:<br>- Root: "Controller"<br>- Branch: "UseCase"<br>- Leaf: "Port / Adapter"<br>- Flow: "Dependency"<br><br>**Visual Details**:<br>1. Core Concept: The hierarchy of dependencies.<br>2. Metaphor: A tree structure.<br>   - Top (or Root): Web/Controller.<br>   - Middle: UseCase.<br>   - Bottom: Port/Adapter.<br>   - Arrows show the direction of creation/dependency (Outer holds Inner).<br>3. Action: Structure display.<br>4. Layout: Tree diagram. | ## 5) ãƒŸãƒ‹Taskã‚¢ãƒ—ãƒªã§ã€Œä¾å­˜ã®æœ¨ã€ã‚’æã“ã†ğŸŒ³âœï¸ |
| 433 | docs/clean_ts_study_043.md | clean_ts_study_043_lifetime_scopes.png | ./picture/clean_ts_study_043_lifetime_scopes.png | **Theme**: Dependency Lifetimes<br><br>**Labels to Render**:<br>- Singleton: "Singleton (Forever)"<br>- Request: "Scoped (One Request)"<br>- Transient: "Transient (Flash)"<br>- DB: "DB Connection"<br><br>**Visual Details**:<br>1. Core Concept: How long an object lives.<br>2. Metaphor: Three characters.<br>   - Singleton: A wizard who stays forever.<br>   - Scoped: A courier who delivers one package and leaves.<br>   - Transient: A spark that appears and vanishes instantly.<br>3. Action: Duration comparison.<br>4. Layout: Character lineup. | ### ã‚¹ãƒ†ãƒƒãƒ—Bï¼šãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ï¼ˆå¯¿å‘½ï¼‰ã‚’æ±ºã‚ã‚‹ğŸ§¬ |
| 434 | docs/clean_ts_study_043.md | clean_ts_study_043_service_locator_trap.png | ./picture/clean_ts_study_043_service_locator_trap.png | **Theme**: Service Locator Trap<br><br>**Labels to Render**:<br>- Container: "Global Container"<br>- Hand: "Anywhere"<br>- Trap: "Hidden Dependency"<br>- Safe: "Constructor Injection"<br><br>**Visual Details**:<br>1. Core Concept: Random access to dependencies is bad.<br>2. Metaphor: A "Mystery Box" in the middle of the room.<br>   - Random hands from everywhere (UseCase, Entity) are reaching in to grab things.<br>   - It looks chaotic and dangerous.<br>   - Contrast with "Constructor Injection" where items are handed politely at the door.<br>3. Action: Chaotic grabbing.<br>4. Layout: Central chaos. | ### åœ°é›·â‘¡ï¼šã©ã“ã§ã‚‚ container.resolve() ã—å§‹ã‚ã‚‹ğŸ“¦ğŸ’€ |
| 435 | docs/clean_ts_study_043.md | clean_ts_study_043_visual_tools.png | ./picture/clean_ts_study_043_visual_tools.png | **Theme**: Architecture Visualization Tools<br><br>**Labels to Render**:<br>- Tool: "Dependency Cruiser"<br>- Map: "Dependency Graph"<br>- Alert: "Cycle Detected"<br>- Code: "src/"<br><br>**Visual Details**:<br>1. Core Concept: Tools that see the invisible structure.<br>2. Metaphor: An X-Ray scanner or Radar.<br>   - It scans the "src/" folder.<br>   - It projects a hologram map of the dependencies.<br>   - A red flashing light indicates a "Circular Dependency".<br>3. Action: Scanning.<br>4. Layout: Tech interface. | ## 10) ä¾å­˜ãŒå´©ã‚Œã¦ãªã„ã‹â€œè¦‹ãˆã‚‹åŒ–â€ã™ã‚‹æ–¹æ³•ğŸ‘€ğŸ•µï¸â€â™€ï¸ |
| 436 | docs/clean_ts_study_044.md | clean_ts_study_044_manual_di_concept.png | ./picture/clean_ts_study_044_manual_di_concept.png | **Theme**: Manual DI Concept<br><br>**Labels to Render**:<br>- No DI: "Self Creation (new)"<br>- DI: "Injection (Args)"<br>- UseCase: "UseCase"<br>- Tool: "Repo"<br><br>**Visual Details**:<br>1. Core Concept: Receiving dependencies vs Creating them.<br>2. Metaphor: Comparison.<br>   - Left (No DI): UseCase character struggling to forge a "Repo" sword by themselves.<br>   - Right (DI): An external hand passing a finished "Repo" sword to UseCase. UseCase looks ready to fight.<br>3. Action: Comparison.<br>4. Layout: Side by side. | ## 2) â€œæ‰‹å‹•DIâ€ã£ã¦ãªã«ï¼ŸğŸ’‰ |
| 437 | docs/clean_ts_study_044.md | clean_ts_study_044_assembly_parts.png | ./picture/clean_ts_study_044_assembly_parts.png | **Theme**: Assembly Parts List<br><br>**Labels to Render**:<br>- Inner: "Core (UseCase)"<br>- Outer: "Parts (Repo/Clock)"<br>- Workbench: "Assembly"<br>- Ready: "Ready"<br><br>**Visual Details**:<br>1. Core Concept: Organizing parts before assembly.<br>2. Metaphor: A workbench with categorized trays.<br>   - Tray 1: "Inner" containing glowing Core gems.<br>   - Tray 2: "Outer" containing mechanical Parts (Repo, Clock).<br>   - Everything is laid out neatly for the builder.<br>3. Action: Displaying parts.<br>4. Layout: Workbench view. | ## 3) ã¾ãš â€œçµ„ã¿ç«‹ã¦å¯¾è±¡â€ ã‚’æ•´ç†ã—ã‚ˆğŸ§ ğŸ“ |
| 438 | docs/clean_ts_study_044.md | clean_ts_study_044_three_rules.png | ./picture/clean_ts_study_044_three_rules.png | **Theme**: Three Rules of Manual DI<br><br>**Labels to Render**:<br>- Rule 1: "No Outer Import"<br>- Rule 2: "Constructor Inject"<br>- Rule 3: "One File"<br>- Shield: "Iron Rules"<br><br>**Visual Details**:<br>1. Core Concept: The 3 constraints for clean DI.<br>2. Metaphor: A triangular shield or emblem.<br>   - Corner 1: A "Stop" sign on an Import line.<br>   - Corner 2: A "Gift" box entering a Constructor door.<br>   - Corner 3: A single "File" icon glowing.<br>3. Action: Protecting.<br>4. Layout: Shield emblem. | ## 4) ãã‚Œã„ã«ä¿ã¤ãŸã‚ã® â€œé‰„ã®æŸâ€ 3ã¤ğŸ›¡ï¸âœ¨ |
| 439 | docs/clean_ts_study_044.md | clean_ts_study_044_main_entry.png | ./picture/clean_ts_study_044_main_entry.png | **Theme**: Main Entry Point<br><br>**Labels to Render**:<br>- Main: "main.ts"<br>- Action: "composeApp()"<br>- Engine: "App Server"<br>- Run: "Start"<br><br>**Visual Details**:<br>1. Core Concept: Main.ts only starts the application.<br>2. Metaphor: A driver (Main) turning the ignition key.<br>   - The key is labeled "composeApp()".<br>   - The engine (App Server) roars to life.<br>   - Simple action, big result.<br>3. Action: Starting engine.<br>4. Layout: Close-up action. | ## 8) `src/main.ts` ã¯ â€œèµ·å‹•ã™ã‚‹ã ã‘â€ ã«ã™ã‚‹ğŸš€âœ¨ |
| 440 | docs/clean_ts_study_044.md | clean_ts_study_044_controller_accident.png | ./picture/clean_ts_study_044_controller_accident.png | **Theme**: Controller Creating Repository Accident<br><br>**Labels to Render**:<br>- Controller: "Controller"<br>- Action: "new Repo()"<br>- Heavy: "Too Heavy"<br>- Crash: "Crash"<br><br>**Visual Details**:<br>1. Core Concept: Controller taking on too much responsibility.<br>2. Metaphor: A Controller character trying to lift a giant weight labeled "Repository" (created by new).<br>   - The floor cracks under the weight.<br>   - The Controller collapses.<br>   - "Don't create heavy things!"<br>3. Action: Collapsing.<br>4. Layout: Character focus. | ### äº‹æ•…â‘ ï¼šController ãŒ Repository ã‚’ new ã—ã¡ã‚ƒã† |
| 441 | docs/clean_ts_study_044.md | clean_ts_study_044_singleton_trap.png | ./picture/clean_ts_study_044_singleton_trap.png | **Theme**: Global Singleton Trap<br><br>**Labels to Render**:<br>- Global: "Global Singleton"<br>- Connect: "Hidden Wires"<br>- Inject: "Explicit Inject"<br>- Clear: "Visible"<br><br>**Visual Details**:<br>1. Core Concept: Hidden dependencies vs Visible injection.<br>2. Metaphor: Comparison.<br>   - Left (Global): A messy web of invisible fishing lines connecting everyone to a cloud (Singleton). Hard to see.<br>   - Right (Inject): Thick, clear pipes connecting components explicitly. Easy to trace.<br>3. Action: Comparison.<br>4. Layout: Side by side. | ### äº‹æ•…â‘¡ï¼šã©ã“ã§ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã« singletonï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ï¼‰ã«ã™ã‚‹ |
| 442 | docs/clean_ts_study_045.md | clean_ts_study_045_proof_of_clean.png | ./picture/clean_ts_study_045_proof_of_clean.png | **Theme**: Proof of Clean Core<br><br>**Labels to Render**:<br>- Core: "Core (Unchanged)"<br>- Outer: "Outer (Changed)"<br>- Shield: "Protection"<br>- Swap: "Swap"<br><br>**Visual Details**:<br>1. Core Concept: Core remains stable while outer layers change.<br>2. Metaphor: A calm person (Core) sitting in a glass sphere.<br>   - Outside, the scenery changes from "Day (Memory)" to "Night (SQLite)".<br>   - The person inside is unaffected.<br>3. Action: Protection/Stability.<br>4. Layout: Center focus. | ## 1) ä»Šæ—¥ã®ã‚´ãƒ¼ãƒ«ï¼ˆã“ã‚ŒãŒã§ããŸã‚‰å’æ¥­ğŸ“ï¼‰ğŸ¯âœ¨ |
| 443 | docs/clean_ts_study_045.md | clean_ts_study_045_port_contract_check.png | ./picture/clean_ts_study_045_port_contract_check.png | **Theme**: Port Contract Quality<br><br>**Labels to Render**:<br>- Bad: "DB Dependent (id: number)"<br>- Good: "Domain Centric (id: TaskId)"<br>- Port: "Port"<br>- DB: "DB"<br><br>**Visual Details**:<br>1. Core Concept: Interface design affects swappability.<br>2. Metaphor: Puzzle pieces.<br>   - Bad: Port piece has a "SQL" shape protruding. Only fits SQL DB.<br>   - Good: Port piece has a generic "Storage" shape. Fits Memory, SQL, File.<br>3. Action: Fitting.<br>4. Layout: Comparison. | ## 2) å·®ã—æ›¿ãˆãŒæˆç«‹ã™ã‚‹ãŸã‚ã®â€œçµ¶å¯¾æ¡ä»¶â€ğŸš§ |
| 444 | docs/clean_ts_study_045.md | clean_ts_study_045_swap_point.png | ./picture/clean_ts_study_045_swap_point.png | **Theme**: Composition Root Swap Point<br><br>**Labels to Render**:<br>- Switch: "Composition Root"<br>- UseCase: "UseCase (Fixed)"<br>- Repo A: "Memory"<br>- Repo B: "SQLite"<br><br>**Visual Details**:<br>1. Core Concept: Only one place changes.<br>2. Metaphor: A railway switch.<br>   - The track comes from UseCase (Fixed path).<br>   - The switch (Composition Root) moves the track to connect to either Repo A or Repo B.<br>3. Action: Switching.<br>4. Layout: Junction view. | ## 3) å·®ã—æ›¿ãˆãƒã‚¤ãƒ³ãƒˆã¯ã“ã“ã ã‘ï¼ğŸ¯ï¼ˆComposition Rootï¼‰ |
| 445 | docs/clean_ts_study_045.md | clean_ts_study_045_env_switch.png | ./picture/clean_ts_study_045_env_switch.png | **Theme**: Environment Variable Switch<br><br>**Labels to Render**:<br>- Var: "TASK_STORE"<br>- Val 1: "memory"<br>- Val 2: "sqlite"<br>- App: "App Behavior"<br><br>**Visual Details**:<br>1. Core Concept: Controlling behavior via config.<br>2. Metaphor: A control panel with a big toggle switch labeled "TASK_STORE".<br>   - Toggled to "sqlite".<br>   - An LED labeled "Persistence" lights up.<br>3. Action: Toggling.<br>4. Layout: Control panel. | ## 4) â€œåˆ‡ã‚Šæ›¿ãˆã‚¹ã‚¤ãƒƒãƒâ€ã‚’1ã¤ä½œã‚‹ ğŸ›ï¸âœ¨ |
| 446 | docs/clean_ts_study_045.md | clean_ts_study_045_sqlite_adapter_absorb.png | ./picture/clean_ts_study_045_sqlite_adapter_absorb.png | **Theme**: SQLite Adapter Absorption<br><br>**Labels to Render**:<br>- Input: "SQL Rows"<br>- Adapter: "Adapter (Mapper)"<br>- Output: "Domain Entities"<br>- Clean: "Clean"<br><br>**Visual Details**:<br>1. Core Concept: Adapter converting rows to entities.<br>2. Metaphor: A filter or sponge.<br>   - Dirty water (SQL Rows) enters the filter (Adapter).<br>   - Clean water (Domain Entities) exits.<br>   - The dirt (SQL details) stays in the filter.<br>3. Action: Filtering.<br>4. Layout: Flow view. | ## 6) SQLite Adapterï¼ˆnode:sqlite ã‚’ä½¿ã†æœ€å°ã®é›°å›²æ°—ï¼‰ğŸ—ƒï¸âœ¨ |
| 447 | docs/clean_ts_study_045.md | clean_ts_study_045_testing_evidence.png | ./picture/clean_ts_study_045_testing_evidence.png | **Theme**: Shared Test Suite<br><br>**Labels to Render**:<br>- Test: "UseCase Test"<br>- Target A: "Memory Repo"<br>- Target B: "SQLite Repo"<br>- Pass: "Both Pass"<br><br>**Visual Details**:<br>1. Core Concept: Running the same test against different implementations.<br>2. Metaphor: A key (Test) that unlocks two different locks (Memory Repo, SQLite Repo).<br>   - Both locks open successfully.<br>   - Green checkmarks on both.<br>3. Action: Unlocking.<br>4. Layout: One key, two locks. | ## 8) æœ€å¼·ã®è¨¼æ‹ ï¼šåŒã˜ UseCase ãƒ†ã‚¹ãƒˆã‚’ä¸¡æ–¹ã§å›ã™ ğŸ§ªğŸ”¥ |
| 448 | docs/clean_ts_study_045.md | clean_ts_study_045_troubleshoot_leak.png | ./picture/clean_ts_study_045_troubleshoot_leak.png | **Theme**: Troubleshooting Leaks<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Leak: "rowid (DB term)"<br>- Alarm: "Leak Detected"<br>- Fix: "Remove"<br><br>**Visual Details**:<br>1. Core Concept: Detecting DB leakage in UseCase.<br>2. Metaphor: A scanner scanning the UseCase code.<br>   - It finds the word "rowid" and flashes red.<br>   - A robot arm moves to remove it.<br>3. Action: Detecting/Fixing.<br>4. Layout: Scanning scene. | ## 9) ã†ã¾ãå·®ã—æ›¿ãˆã§ããªã„æ™‚ã®â€œæ¼ã‚Œãƒã‚§ãƒƒã‚¯â€ğŸ•µï¸â€â™€ï¸âš ï¸ |
| 449 | docs/cap_ts_study_030.md | cap_ts_study_030_magic_trick.png | ./picture/cap_ts_study_030_magic_trick.png | **Theme**: Distributed Systems Observation<br><br>**Labels to Render**:<br>- No Obs: "è¦³æ¸¬ãªã— (æ‰‹å“)"<br>- Obs: "è¦³æ¸¬ã‚ã‚Š (è¿½è·¡)"<br>- Rabbit: "Data"<br><br>**Visual Details**:<br>1. Core Concept: Observation makes the invisible visible.<br>2. Metaphor:<br>   - Left (No Obs): A magician's hat with a question mark. A rabbit (Data) has disappeared. The audience looks confused.<br>   - Right (With Obs): A clear glass box. We can see exactly where the rabbit is. The audience nods understandingly.<br>3. Action: Disappearing vs Seeing.<br>4. Layout: Split view. | # 1) è¦³æ¸¬ãŒãªã„ã¨ã€åˆ†æ•£ã¯â€œæ‰‹å“â€ã«ãªã‚‹ ğŸ©ğŸ˜µâ€ğŸ’« |
| 450 | docs/cap_ts_study_030.md | cap_ts_study_030_async_storage_backpack.png | ./picture/cap_ts_study_030_async_storage_backpack.png | **Theme**: AsyncLocalStorage Context<br><br>**Labels to Render**:<br>- Code: "Async Function"<br>- Context: "Context (ID)"<br>- Invisible: "Invisible Link"<br><br>**Visual Details**:<br>1. Core Concept: Context is carried implicitly across async calls.<br>2. Metaphor: A runner (Code) moving through an obstacle course (Async calls).<br>   - They are wearing a glowing, semi-transparent backpack labeled "Context (ID)".<br>   - They don't need to hold it in their hands (Arguments). It stays with them automatically.<br>3. Action: Running with backpack.<br>4. Layout: Character action. | # 4) å®Ÿè£…ï¼šAsyncLocalStorageã§â€œå‹æ‰‹ã«â€å¼•ãå›ã™ ğŸª„ğŸ§  |
| 451 | docs/cap_ts_study_030.md | cap_ts_study_030_traceparent_decoder.png | ./picture/cap_ts_study_030_traceparent_decoder.png | **Theme**: Traceparent Parsing<br><br>**Labels to Render**:<br>- Input: "traceparent String"<br>- Decoder: "Parser"<br>- TraceID: "Trace ID"<br>- ParentID: "Parent ID"<br><br>**Visual Details**:<br>1. Core Concept: Breaking down the standard string.<br>2. Metaphor: A prism or splitting machine.<br>   - Input: A long beam of light labeled with the traceparent string format "00-trace-parent-01".<br>   - Process: Passing through a prism.<br>   - Output: Splits into two distinct colored beams: "Trace ID" and "Parent ID".<br>3. Action: Splitting/Parsing.<br>4. Layout: Left to Right flow. | ## 5-3. traceparent ã‚’é›‘ã«èª­ã‚€ï¼ˆæœ€å°ãƒ‘ãƒ¼ã‚µï¼‰ğŸ“¨ğŸ” |
| 452 | docs/cap_ts_study_030.md | cap_ts_study_030_json_library.png | ./picture/cap_ts_study_030_json_library.png | **Theme**: JSON Logs vs Text Logs<br><br>**Labels to Render**:<br>- Text Log: "Text Log (Messy)"<br>- JSON Log: "JSON Log (Indexed)"<br>- Search: "Search: Order-123"<br><br>**Visual Details**:<br>1. Core Concept: Structured logs enable powerful search.<br>2. Metaphor: Library comparison.<br>   - Left (Text Log): A pile of random books on the floor. Hard to find anything.<br>   - Right (JSON Log): A neat, futuristic digital catalog.<br>   - A search bar "Order-123" instantly highlights the correct book in the right section.<br>3. Action: Searching.<br>4. Layout: Split view. | # 6) ãƒ­ã‚°ï¼šJSONã«ã™ã‚‹ã¨â€œæ¤œç´¢ãŒç¥â€ã«ãªã‚‹ ğŸ”âœ¨ |
| 453 | docs/cap_ts_study_030.md | cap_ts_study_030_worker_baton.png | ./picture/cap_ts_study_030_worker_baton.png | **Theme**: Correlation ID Baton Pass<br><br>**Labels to Render**:<br>- API: "API"<br>- Worker: "Worker"<br>- Baton: "Correlation ID"<br>- Message: "Message"<br><br>**Visual Details**:<br>1. Core Concept: Context propagation to worker.<br>2. Metaphor: Relay race baton pass.<br>   - Runner A (API) hands a baton labeled "Correlation ID" to Runner B (Worker).<br>   - The baton is wrapped in an envelope labeled "Message".<br>   - Ensuring the race (trace) continues.<br>3. Action: Passing baton.<br>4. Layout: Side view of runners. | # 7) Workerã¸â€œç›¸é–¢IDã‚’æŒã¡è¶Šã™â€ ğŸ§µâ¡ï¸âš™ï¸ |
| 454 | docs/cap_ts_study_030.md | cap_ts_study_030_metrics_dashboard.png | ./picture/cap_ts_study_030_metrics_dashboard.png | **Theme**: Key Metrics Dashboard<br><br>**Labels to Render**:<br>- Speed: "Latency"<br>- Distance: "Requests"<br>- Engine: "Errors"<br>- Fuel: "Queue Depth"<br><br>**Visual Details**:<br>1. Core Concept: Essential metrics for health monitoring.<br>2. Metaphor: A car dashboard.<br>   - Speedometer: "Latency" (Needle moving).<br>   - Odometer: "Requests" (Rolling numbers).<br>   - Warning Light: "Errors" (Red light).<br>   - Fuel Gauge: "Queue Depth" (Full/Empty).<br>3. Action: Monitoring.<br>4. Layout: Dashboard view. | # 8) ä¸»è¦ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼šæœ€ä½ã“ã‚Œã ã‘æŠ¼ã•ãˆã‚ˆã† ğŸ“ˆâœ… |
| 455 | docs/cap_ts_study_030.md | cap_ts_study_030_label_explosion.png | ./picture/cap_ts_study_030_label_explosion.png | **Theme**: Metrics Label Explosion<br><br>**Labels to Render**:<br>- Good: "Status Code (Limited)"<br>- Bad: "User ID (Unlimited)"<br>- Explosion: "Explosion!"<br>- DB: "Prometheus"<br><br>**Visual Details**:<br>1. Core Concept: High cardinality kills metrics databases.<br>2. Metaphor: Storage room.<br>   - Good Side: Neatly stacked boxes labeled "200", "404", "500".<br>   - Bad Side: An explosion of millions of tiny confetti pieces, each with a different "User ID".<br>   - The storage room (Prometheus) is bursting/cracking from the pressure.<br>3. Action: Exploding.<br>4. Layout: Split view. | ## 11-1. ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®â€œãƒ©ãƒ™ãƒ«çˆ†ç™ºâ€ğŸ’£ |
| 456 | docs/cap_ts_study_031.md | cap_ts_study_031_five_monsters.png | ./picture/cap_ts_study_031_five_monsters.png | **Theme**: The 5 Distributed Pains<br><br>**Labels to Render**:<br>- Turtle: "Delay"<br>- Bomb: "Failure"<br>- Plug: "Partition"<br>- Twins: "Duplicate"<br>- Cards: "Reordering"<br><br>**Visual Details**:<br>1. Core Concept: The 5 enemies of distributed systems.<br>2. Metaphor: 5 cute but annoying monsters.<br>   - Turtle: Sleeping (Delay).<br>   - Bomb: Exploding (Failure).<br>   - Plug: Broken/Sparking (Partition).<br>   - Twins: Two identical mischievous imps (Duplicate).<br>   - Cards: A hand of cards being shuffled (Reordering).<br>3. Action: Posing as a team.<br>4. Layout: Lineup. | # 1) ã¾ãšå¤§äº‹ãªå‰æï¼šåˆ†æ•£ã£ã½ã„ãƒã‚°ã¯ã€Œå†ç¾ã§ããŸç¬é–“ã«å‹ã¡ã€ğŸ†ğŸ˜† |
| 457 | docs/cap_ts_study_031.md | cap_ts_study_031_fault_adapter.png | ./picture/cap_ts_study_031_fault_adapter.png | **Theme**: Fault Injection Adapter<br><br>**Labels to Render**:<br>- App: "App Logic"<br>- Adapter: "Fault Adapter"<br>- External: "External"<br>- Dials: "Delay / Error / Drop"<br><br>**Visual Details**:<br>1. Core Concept: Injection happens at the boundary.<br>2. Metaphor: A physical adapter unit between two cables.<br>   - Left Cable: "App Logic" (Clean).<br>   - Middle Unit: "Fault Adapter" with control knobs/dials labeled "Delay", "Error", "Drop".<br>   - Right Cable: "External" (Dirty/Glitchy).<br>3. Action: Adjusting dials.<br>4. Layout: Connection view. | # 3) æ–¹é‡ï¼šã‚¢ãƒ—ãƒªæœ¬ä½“ã‚’æ±šã•ãšã€ãƒ†ã‚¹ãƒˆå´ã‹ã‚‰â€œæ•…éšœã‚¹ã‚¤ãƒƒãƒâ€ã‚’å·®ã—è¾¼ã‚€ğŸ›ï¸âœ¨ |
| 458 | docs/cap_ts_study_031.md | cap_ts_study_031_magic_dice.png | ./picture/cap_ts_study_031_magic_dice.png | **Theme**: Seeded PRNG<br><br>**Labels to Render**:<br>- Seed: "Seed: 42"<br>- Dice: "PRNG"<br>- Result: "Always 6"<br>- Chaos: "Random (No Seed)"<br><br>**Visual Details**:<br>1. Core Concept: Deterministic randomness.<br>2. Metaphor: Comparison.<br>   - Left (Seeded): A magic dice glowing with "Seed: 42". It rolls a 6. It rolls again, still 6.<br>   - Right (No Seed): A normal dice rolling wildly (1, 5, 3...).<br>3. Action: Rolling.<br>4. Layout: Split view. | ## 4-2. â€œseedä»˜ãç–‘ä¼¼ä¹±æ•°â€ã§ãƒ†ã‚¹ãƒˆã‚’å®‰å®šã•ã›ã‚‹ğŸ€ğŸ¯ |
| 459 | docs/cap_ts_study_031.md | cap_ts_study_031_prank_queue.png | ./picture/cap_ts_study_031_prank_queue.png | **Theme**: Faulty Queue Wrapper<br><br>**Labels to Render**:<br>- Wrapper: "Faulty Wrapper"<br>- Inner: "Real Queue"<br>- Goblin: "Fault Logic"<br>- Action: "Drop / Duplicate"<br><br>**Visual Details**:<br>1. Core Concept: Wrapping a component to inject faults.<br>2. Metaphor: A box inside a box.<br>   - Outer Box: "Faulty Wrapper". A goblin sits here intercepting items.<br>   - The goblin tears up a letter (Drop) or photocopies it (Duplicate).<br>   - Inner Box: "Real Queue" receiving the result.<br>3. Action: Intercepting.<br>4. Layout: Cutaway view. | # 5) ãƒãƒ³ã‚ºã‚ªãƒ³â‘¡ï¼šã‚­ãƒ¥ãƒ¼ã«â€œæ•…éšœæ³¨å…¥ç‰ˆãƒ©ãƒƒãƒ‘ãƒ¼â€ã‚’ã‹ã¶ã›ã‚‹ğŸ“®ğŸ² |
| 460 | docs/cap_ts_study_031.md | cap_ts_study_031_idempotent_clerk.png | ./picture/cap_ts_study_031_idempotent_clerk.png | **Theme**: Idempotency Check<br><br>**Labels to Render**:<br>- Clerk: "Worker"<br>- Customer 1: "Order #1"<br>- Customer 2: "Order #1 (Copy)"<br>- Sign: "Processed"<br><br>**Visual Details**:<br>1. Core Concept: Handling duplicates safely.<br>2. Metaphor: A service counter.<br>   - Clerk receives a request "Order #1" and processes it.<br>   - A second identical "Order #1" arrives.<br>   - Clerk checks a ledger, sees "Processed", and rejects/ignores the second one politely.<br>   - Inventory is not touched twice.<br>3. Action: Checking ledger.<br>4. Layout: Service scene. | ## 8-2. ä¾‹ï¼šé‡è¤‡é…é”ã§ã‚‚åœ¨åº«ãŒäºŒé‡ã«æ¸›ã‚‰ãªã„ãƒ†ã‚¹ãƒˆğŸ“¨ğŸ§ª |
| 461 | docs/cap_ts_study_031.md | cap_ts_study_031_state_bouncer.png | ./picture/cap_ts_study_031_state_bouncer.png | **Theme**: State Machine Guard<br><br>**Labels to Render**:<br>- Bouncer: "State Guard"<br>- Event: "Payment (Early)"<br>- Checklist: "Order Created?"<br>- Action: "Wait"<br><br>**Visual Details**:<br>1. Core Concept: Handling reordered events.<br>2. Metaphor: A club entrance bouncer.<br>   - An event "Payment" arrives too early.<br>   - Bouncer checks list: "Order Created" is not checked yet.<br>   - Bouncer tells "Payment" to wait in the "Pending" area.<br>3. Action: Blocking/Queuing.<br>4. Layout: Entrance scene. | ## 9-2. é †åºã‚ºãƒ¬ã§å£Šã‚Œã‚‹ â†’ **çŠ¶æ…‹æ©Ÿæ¢°ï¼ˆState Machineï¼‰ã§ã‚¬ãƒ¼ãƒ‰ã™ã‚‹**ğŸ”€ğŸ§  |
| 462 | docs/cap_ts_study_031.md | cap_ts_study_031_taming_randomness.png | ./picture/cap_ts_study_031_taming_randomness.png | **Theme**: Taming Flaky Tests<br><br>**Labels to Render**:<br>- Beast: "Randomness"<br>- Trainer: "Seed / Config"<br>- Test: "Stable Test"<br><br>**Visual Details**:<br>1. Core Concept: Controlling chaos for stability.<br>2. Metaphor: A lion tamer.<br>   - Beast (Randomness) is wild but sitting calmly on a stool.<br>   - Trainer (Seed) holds a whip/chair keeping it under control.<br>   - The show (Test) goes on smoothly.<br>3. Action: Taming.<br>4. Layout: Circus scene. | # 10) â€œãƒ©ãƒ³ãƒ€ãƒ â€ã¨ä»²è‰¯ãã—ã¦ãƒ†ã‚¹ãƒˆã‚’ãƒ•ãƒ¬ãƒ¼ã‚¯ã«ã—ãªã„ã‚³ãƒ„ğŸ€ğŸ˜† |
| 463 | docs/cap_ts_study_032.md | cap_ts_study_032_graduation_checklist.png | ./picture/cap_ts_study_032_graduation_checklist.png | **Theme**: Graduation Checklist<br><br>**Labels to Render**:<br>- List: "Graduation Requirements"<br>- Item 1: "202 Accepted"<br>- Item 2: "Eventual Consistency"<br>- Item 3: "Idempotency"<br>- Item 4: "Retry Safe"<br>- Item 5: "Traceable"<br><br>**Visual Details**:<br>1. Core Concept: The criteria for success.<br>2. Metaphor: A diploma or a golden checklist board.<br>   - 5 items listed.<br>   - Each item has a shining gold star or checkmark next to it.<br>   - A graduation cap sits on top.<br>3. Action: Checking off.<br>4. Layout: List view. | ## 2. ã“ã®å’æ¥­åˆ¶ä½œã®ã€Œåˆæ ¼ãƒ©ã‚¤ãƒ³ã€âœ…ğŸ“ |
| 464 | docs/cap_ts_study_032.md | cap_ts_study_032_folder_structure.png | ./picture/cap_ts_study_032_folder_structure.png | **Theme**: Project Folder Structure<br><br>**Labels to Render**:<br>- Root: "mini-ec"<br>- Shared: "packages/shared"<br>- Apps: "apps (api/worker/inv/pay)"<br>- Data: "data/ec.db"<br><br>**Visual Details**:<br>1. Core Concept: Monorepo organization.<br>2. Metaphor: A clean shelf or tree diagram.<br>   - Root folder "mini-ec" branching out.<br>   - "Shared" toolkit box.<br>   - "Apps" section with 4 distinct service boxes.<br>   - "Data" safe containing the DB file.<br>3. Action: Structure display.<br>4. Layout: Tree diagram. | ## 4. ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆï¼ˆ4ãƒ—ãƒ­ã‚»ã‚¹ï¼‰ğŸ“âœ¨ |
| 465 | docs/cap_ts_study_032.md | cap_ts_study_032_request_fingerprint.png | ./picture/cap_ts_study_032_request_fingerprint.png | **Theme**: Request Fingerprint (Hash)<br><br>**Labels to Render**:<br>- Input: "Request Body"<br>- Process: "SHA256"<br>- Output: "Fingerprint (Hash)"<br>- Key: "Idempotency Key"<br><br>**Visual Details**:<br>1. Core Concept: Generating a unique signature for a request.<br>2. Metaphor: A futuristic scanner.<br>   - A document (Request Body) passes through a blue laser scanner.<br>   - The scanner displays a unique digital fingerprint (Hash) on a screen.<br>   - This fingerprint is linked to a physical key (Idempotency Key).<br>3. Action: Scanning/Hashing.<br>4. Layout: Process flow. | ### 5.3 `packages/shared/src/hash.ts`ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆåŒä¸€æ€§ãƒã‚§ãƒƒã‚¯ç”¨ï¼‰ğŸ” |
| 466 | docs/cap_ts_study_032.md | cap_ts_study_032_api_reception.png | ./picture/cap_ts_study_032_api_reception.png | **Theme**: API Reception Desk<br><br>**Labels to Render**:<br>- Client: "Client"<br>- API: "API (Reception)"<br>- Response: "202 Accepted (Pending)"<br>- Box: "Outbox"<br><br>**Visual Details**:<br>1. Core Concept: Asynchronous acceptance.<br>2. Metaphor: A hotel reception.<br>   - Client hands a request.<br>   - Receptionist (API) stamps it "ACCEPTED" and hands back a receipt ticket.<br>   - Receptionist puts the request into a "Processing Queue" box behind the desk.<br>   - Client leaves happy, not waiting for the room to be cleaned yet.<br>3. Action: Stamping/Accepting.<br>4. Layout: Service scene. | ### 6.1 æ³¨æ–‡APIã®ä»•æ§˜ï¼ˆè¶…ã‚·ãƒ³ãƒ—ãƒ«ï¼‰ğŸ§¾ |
| 467 | docs/cap_ts_study_032.md | cap_ts_study_032_inventory_robot.png | ./picture/cap_ts_study_032_inventory_robot.png | **Theme**: Idempotent Inventory Robot<br><br>**Labels to Render**:<br>- Worker: "Worker"<br>- Robot: "Inventory Service"<br>- Request: "Reserve #1"<br>- Response: "Already Done (OK)"<br><br>**Visual Details**:<br>1. Core Concept: Handling duplicate requests safely.<br>2. Metaphor: A warehouse robot.<br>   - Worker tries to hand a duplicate "Reserve #1" order to the robot.<br>   - Robot scans it, sees it's already in its memory bank.<br>   - Robot flashes a green "OK" sign without moving any more boxes.<br>3. Action: Avoiding duplicate work.<br>4. Layout: Interaction scene. | ## 7. Inventory Serviceï¼ˆapps/inventoryï¼‰ğŸ“¦âœ¨ï¼šåœ¨åº«ç¢ºä¿ã¯å†ªç­‰ã«ã™ã‚‹ğŸ§· |
| 468 | docs/cap_ts_study_032.md | cap_ts_study_032_worker_bee.png | ./picture/cap_ts_study_032_worker_bee.png | **Theme**: Worker Bee Process<br><br>**Labels to Render**:<br>- Bee: "Worker"<br>- Flower 1: "Outbox"<br>- Flower 2: "Inventory"<br>- Flower 3: "Payment"<br>- Hive: "Confirmed"<br><br>**Visual Details**:<br>1. Core Concept: Worker orchestrating the flow.<br>2. Metaphor: A busy bee.<br>   - Step 1: Collects nectar from "Outbox" flower.<br>   - Step 2: Visits "Inventory" flower.<br>   - Step 3: Visits "Payment" flower.<br>   - Step 4: Returns to the Hive to mark "Confirmed".<br>3. Action: Flying/Visiting.<br>4. Layout: Path or cycle. | ### 9.1 Workerã®å‡¦ç†ãƒ«ãƒ¼ãƒ«ï¼ˆè¶…é‡è¦ï¼‰ğŸ“Œâœ¨ |
| 469 | docs/cap_ts_study_032.md | cap_ts_study_032_chaos_monkey.png | ./picture/cap_ts_study_032_chaos_monkey.png | **Theme**: Chaos Monkey Fault Injection<br><br>**Labels to Render**:<br>- Monkey: "Chaos Monkey"<br>- Dials: "Delay / Fail"<br>- System: "Inventory / Payment"<br>- Result: "Retry"<br><br>**Visual Details**:<br>1. Core Concept: Testing resilience by injecting faults.<br>2. Metaphor: A mischievous monkey operating a control panel connected to the system.<br>   - Monkey turns the "Fail" dial to 30%.<br>   - Monkey pulls a lever "Delay".<br>   - The System shakes, but a "Retry" spring absorbs the shock.<br>3. Action: Messing with controls.<br>4. Layout: Control room. | ## 11. æ•…éšœæ³¨å…¥ã§ã€Œåˆ†æ•£ã£ã½ã•ã€ã‚’å‡ºã™ğŸ§ªğŸ² |
| 470 | docs/clean_cs_index.md | clean_cs_index_concentric_circles.png | ./picture/clean_cs_index_concentric_circles.png | **Theme**: The 4 Layers of Clean Architecture<br><br>**Labels to Render**:<br>- Center: "Entities"<br>- Ring 1: "Use Cases"<br>- Ring 2: "Adapters"<br>- Outer: "Frameworks"<br><br>**Visual Details**:<br>1. Core Concept: The standard layered architecture.<br>2. Metaphor: A target board or onion with 4 distinct colored rings.<br>   - Center (Yellow): Entities.<br>   - Ring 1 (Red): Use Cases.<br>   - Ring 2 (Green): Interface Adapters.<br>   - Outer (Blue): Frameworks & Drivers.<br>3. Action: Static structural view.<br>4. Layout: Concentric circles. | ## Part 0ï¼šã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ã®èŠ¯ï¼ˆ1ã€œ7ï¼‰â­•ğŸ§  |
| 471 | docs/clean_cs_index.md | clean_cs_index_dependency_rule.png | ./picture/clean_cs_index_dependency_rule.png | **Theme**: Dependency Rule<br><br>**Labels to Render**:<br>- Outer: "Mechanisms (DB/Web)"<br>- Inner: "Policies (Rules)"<br>- Arrow: "Dependency"<br><br>**Visual Details**:<br>1. Core Concept: Source code dependencies must point only inward.<br>2. Metaphor: Gravity or magnetism.<br>   - Arrows from the outer rings are pulled towards the center.<br>   - No arrow escapes from the center to the outside.<br>   - Inner circle is "Policies", Outer is "Mechanisms".<br>3. Action: Flowing inward.<br>4. Layout: Concentric circles with arrows. | ### 3ç« ï¼šDependency Ruleï¼ˆä¾å­˜ã¯å†…å´ã¸ï¼‰ã‚’ä½“ã«å…¥ã‚Œã‚‹â¡ï¸ |
| 472 | docs/clean_cs_index.md | clean_cs_index_rich_entity.png | ./picture/clean_cs_index_rich_entity.png | **Theme**: Rich Entity vs Data Box<br><br>**Labels to Render**:<br>- Rich: "Rich Entity"<br>- Rules: "Logic/Rules"<br>- Poor: "Anemic (Data Only)"<br><br>**Visual Details**:<br>1. Core Concept: Entities should contain business logic.<br>2. Metaphor: Comparison.<br>   - Rich: A strong character (King/Queen) holding a scepter (ID) and a book (Rules).<br>   - Poor: An empty cardboard box labeled "Data" with setters open.<br>3. Action: Comparison.<br>4. Layout: Side by side. | ## Part 1ï¼šEntitiesï¼ˆEnterprise Business Rulesï¼‰ã‚’åšãï¼ˆ8ã€œ16ï¼‰ğŸ‘‘ğŸ’ |
| 473 | docs/clean_cs_index.md | clean_cs_index_usecase_conductor.png | ./picture/clean_cs_index_usecase_conductor.png | **Theme**: Use Case Conductor<br><br>**Labels to Render**:<br>- Conductor: "Use Case"<br>- Musicians: "Entities"<br>- Score: "Application Rules"<br><br>**Visual Details**:<br>1. Core Concept: Use Cases orchestrate the application flow.<br>2. Metaphor: An orchestra conductor.<br>   - The Conductor (Use Case) is waving a baton.<br>   - The Musicians (Entities) play their instruments based on the Conductor's signals.<br>   - The Score (Sheet Music) represents the application steps.<br>3. Action: Conducting.<br>4. Layout: Orchestra scene. | ## Part 2ï¼šUse Casesï¼ˆApplication Business Rulesï¼‰ã‚’åšãï¼ˆ17ã€œ28ï¼‰ğŸ®ğŸ“¦ |
| 474 | docs/clean_cs_index.md | clean_cs_index_adapter_bridge.png | ./picture/clean_cs_index_adapter_bridge.png | **Theme**: Interface Adapter Bridge<br><br>**Labels to Render**:<br>- Left: "Web / DB (External)"<br>- Bridge: "Adapter"<br>- Right: "Use Case / Entity (Internal)"<br>- Action: "Convert"<br><br>**Visual Details**:<br>1. Core Concept: Adapters convert data between formats.<br>2. Metaphor: A bridge connecting two different lands.<br>   - Left Land: "External" (Rough terrain).<br>   - Right Land: "Internal" (Clean garden).<br>   - The Bridge (Adapter) allows safe passage and conversion of goods (Data).<br>3. Action: Crossing/Converting.<br>4. Layout: Bridge view. | ## Part 3ï¼šInterface Adaptersï¼ˆå¤‰æ›å±¤ï¼‰ã‚’åšãï¼ˆ29ã€œ38ï¼‰ğŸ”„ğŸ§© |
| 475 | docs/clean_cs_index.md | clean_cs_index_framework_shell.png | ./picture/clean_cs_index_framework_shell.png | **Theme**: Framework as Outer Shell<br><br>**Labels to Render**:<br>- Core: "Core"<br>- Shell: "Frameworks (Web/DB)"<br>- Tools: "Tools"<br><br>**Visual Details**:<br>1. Core Concept: Frameworks protect and serve the core, but are not the core.<br>2. Metaphor: A protective suit or exoskeleton.<br>   - The Pilot (Core) sits inside.<br>   - The Suit (Frameworks) handles the harsh environment (HTTP, SQL).<br>   - The Pilot controls the Suit, not the other way around.<br>3. Action: Protection.<br>4. Layout: Suit cutaway. | ## Part 4ï¼šFrameworks & Driversï¼ˆå¤–å´ï¼‰ã‚’â€œå¤–ã«é–‰ã˜ã‚‹â€ï¼ˆ39ã€œ42ï¼‰ğŸ§·ğŸ§± |
| 476 | docs/clean_cs_index.md | clean_cs_index_test_pyramid.png | ./picture/clean_cs_index_test_pyramid.png | **Theme**: Testing Pyramid<br><br>**Labels to Render**:<br>- Base: "Unit Tests (Fast/Many)"<br>- Mid: "Integration Tests"<br>- Top: "E2E Tests (Slow/Few)"<br><br>**Visual Details**:<br>1. Core Concept: The distribution of tests.<br>2. Metaphor: A pyramid structure.<br>   - Broad Base: "Unit Tests" (Entities/UseCases).<br>   - Middle: "Integration Tests" (Adapters).<br>   - Sharp Top: "E2E Tests" (Full System).<br>   - Clouds at the top showing "Slow". Ground at the bottom showing "Fast".<br>3. Action: Static structure.<br>4. Layout: Pyramid. | ## Part 5ï¼šãƒ†ã‚¹ãƒˆã¨â€œä¾å­˜ãƒ«ãƒ¼ãƒ«å¼·åˆ¶â€ã¯ä¸­æ ¸ã®ä¸€éƒ¨ï¼ˆ43ã€œ45ï¼‰ğŸ§ªğŸ›¡ï¸ |
| 477 | docs/clean_cs_study_001.md | clean_cs_study_001_spaghetti_code.png | ./picture/clean_cs_study_001_spaghetti_code.png | **Theme**: Spaghetti Dependencies<br><br>**Labels to Render**:<br>- UI: "UI (Noodle)"<br>- Logic: "Logic (Noodle)"<br>- DB: "DB (Meatball)"<br>- Pull: "Pull Here"<br><br>**Visual Details**:<br>1. Core Concept: Everything is tangled.<br>2. Metaphor: A plate of spaghetti.<br>   - Noodles are labeled UI and Logic.<br>   - A fork pulls the UI noodle.<br>   - The DB meatball is dragged along and falls off the plate.<br>3. Action: Pulling causing chaos.<br>4. Layout: Food scene. | ### A) ä¾å­˜ãŒãã¡ã‚ƒãã¡ã‚ƒğŸ•¸ï¸ |
| 478 | docs/clean_cs_study_001.md | clean_cs_study_001_broken_dam.png | ./picture/clean_cs_study_001_broken_dam.png | **Theme**: Broken Boundary Dam<br><br>**Labels to Render**:<br>- Change: "Change (Water)"<br>- Wall: "Boundary (Dam)"<br>- Core: "Core Logic"<br>- Leak: "Leak"<br><br>**Visual Details**:<br>1. Core Concept: Lack of boundary allows changes to flood the core.<br>2. Metaphor: A cracked dam.<br>   - Water labeled "Change" is pressing against a wall.<br>   - The wall has cracks and water is spraying onto the "Core Logic" village below.<br>3. Action: Leaking/Flooding.<br>4. Layout: Landscape view. | ### B) å¢ƒç•ŒãŒãªã„ï¼ˆor å¢ƒç•ŒãŒç ´ã‚Œã¦ã‚‹ï¼‰ğŸšªğŸ’¥ |
| 479 | docs/clean_cs_study_001.md | clean_cs_study_001_dependency_chain.png | ./picture/clean_cs_study_001_dependency_chain.png | **Theme**: Compilation Dependency Chain<br><br>**Labels to Render**:<br>- Code: "My Code"<br>- Dep: "Dependency"<br>- Lock: "Compile Error"<br>- Chain: "chained"<br><br>**Visual Details**:<br>1. Core Concept: You cannot move without your dependency.<br>2. Metaphor: A prisoner ball and chain.<br>   - Character "My Code" tries to walk.<br>   - Attached by a heavy chain to a giant iron ball "Dependency".<br>   - The ball is stuck, preventing movement.<br>3. Action: Struggling to move.<br>4. Layout: Character focus. | ## 2. ä¾å­˜ã£ã¦ãªã«ï¼Ÿï¼ˆC#ã§è¶…ã‚ã‹ã‚‹è¨€ã„æ–¹ï¼‰ğŸ§ ğŸ’¡ |
| 480 | docs/clean_cs_study_001.md | clean_cs_study_001_boundary_border.png | ./picture/clean_cs_study_001_boundary_border.png | **Theme**: Boundary Border Control<br><br>**Labels to Render**:<br>- Logic Land: "Logic Land (Safe)"<br>- Infra Land: "Infra Land (Wild)"<br>- Border: "Interface"<br>- Guard: "Adapter"<br><br>**Visual Details**:<br>1. Core Concept: Explicit line between safe and unsafe worlds.<br>2. Metaphor: A border crossing.<br>   - Left: "Logic Land" (Clean, sunny).<br>   - Right: "Infra Land" (Stormy, construction).<br>   - A gate (Interface) stands between them.<br>   - A guard (Adapter) checks passports.<br>3. Action: Guarding.<br>4. Layout: Split view. | ## 3. å¢ƒç•Œã£ã¦ãªã«ï¼Ÿï¼ˆâ€œä¸–ç•ŒãŒå¤‰ã‚ã‚‹å ´æ‰€â€ï¼‰ğŸŒğŸšª |
| 481 | docs/clean_cs_study_001.md | clean_cs_study_001_god_controller.png | ./picture/clean_cs_study_001_god_controller.png | **Theme**: The God Controller<br><br>**Labels to Render**:<br>- Head: "Controller"<br>- Arm 1: "UI Logic"<br>- Arm 2: "DB SQL"<br>- Arm 3: "Validation"<br>- Arm 4: "HTTP"<br><br>**Visual Details**:<br>1. Core Concept: Controller doing too much.<br>2. Metaphor: A multi-armed deity or monster.<br>   - It is juggling too many disparate items (UI mask, DB scroll, Validation shield).<br>   - It looks exhausted and wobbly.<br>3. Action: Juggling/Struggling.<br>4. Layout: Character focus. | ## 4. â€œã¤ã‚‰ã„è¨­è¨ˆâ€ã®ãƒŸãƒ‹ä¾‹ï¼ˆãªãœåœ°ç„ã«ãªã‚‹ã®ã‹ï¼‰ğŸ˜‡ğŸ”¥ |
| 482 | docs/clean_cs_study_001.md | clean_cs_study_001_compass_inward.png | ./picture/clean_cs_study_001_compass_inward.png | **Theme**: Inward Dependency Compass<br><br>**Labels to Render**:<br>- North: "Entities (Core)"<br>- Needle: "Dependency"<br>- South: "DB / Web"<br>- Direction: "Inward"<br><br>**Visual Details**:<br>1. Core Concept: All dependencies point to the center.<br>2. Metaphor: A compass.<br>   - The center of the compass is a glowing "Core".<br>   - The needle (Dependency) is magnetically locked pointing to the Center.<br>   - The rim is "DB / Web".<br>3. Action: Pointing.<br>4. Layout: Compass close-up. | ## 5. ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãŒè§£æ±ºã™ã‚‹ã‚³ãƒˆï¼ˆã“ã®ç« ã®ç­”ãˆï¼‰âœ…ğŸ¯ |
| 483 | docs/clean_cs_study_001.md | clean_cs_study_001_pain_classification.png | ./picture/clean_cs_study_001_pain_classification.png | **Theme**: Pain Classification Sorting<br><br>**Labels to Render**:<br>- Box 1: "Dependency Problem"<br>- Box 2: "No Boundary"<br>- Item: "My Painful Bug"<br>- Hand: "Sorting"<br><br>**Visual Details**:<br>1. Core Concept: Categorizing past bad experiences.<br>2. Metaphor: A sorting station.<br>   - A user holds a jagged rock labeled "My Painful Bug".<br>   - They are deciding which bin to throw it in: "Dependency Problem" or "No Boundary".<br>3. Action: Sorting.<br>4. Layout: Sorting scene. | ## 6. ãƒŸãƒ‹èª²é¡Œï¼šã‚ãªãŸã®ã€Œã¤ã‚‰ã„ä¿®æ­£ã€ã‚’åˆ†é¡ã—ã¦ã¿ã‚ˆã†ğŸ“ğŸ˜µâ€ğŸ’«â¡ï¸ğŸ˜Œ |
| 484 | docs/clean_cs_study_002.md | clean_cs_study_002_onigiri_layers.png | ./picture/clean_cs_study_002_onigiri_layers.png | **Theme**: Onigiri Layers Metaphor<br><br>**Labels to Render**:<br>- Core: "Entities (Salmon)"<br>- Rice: "Use Cases (Rice)"<br>- Seaweed: "Frameworks (Seaweed)"<br>- Tasty: "Important!"<br><br>**Visual Details**:<br>1. Core Concept: The core is the most valuable part, the wrapper is exchangeable.<br>2. Metaphor: An Onigiri (Japanese Rice Ball).<br>   - Cross-section view.<br>   - Center: Delicious salmon filling (Entities).<br>   - Middle: White rice (Use Cases).<br>   - Outer: Nori seaweed wrapper (Frameworks).<br>3. Action: Displaying layers.<br>4. Layout: Cross-section. | > ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼šğŸ™ |
| 485 | docs/clean_cs_study_002.md | clean_cs_study_002_layer_icons.png | ./picture/clean_cs_study_002_layer_icons.png | **Theme**: 4 Layer Icons<br><br>**Labels to Render**:<br>- Crown: "Entities (Rule)"<br>- List: "Use Cases (Steps)"<br>- Speech: "Adapters (Translate)"<br>- Tools: "Frameworks (Tools)"<br><br>**Visual Details**:<br>1. Core Concept: Mnemonic for each layer.<br>2. Metaphor: Four distinct icons arranged in a row.<br>   - Crown: Representing authority/rules.<br>   - Checklist: Representing procedure.<br>   - Speech Bubbles (Translation): Representing adaptation.<br>   - Toolbox: Representing external tools/drivers.<br>3. Action: Static display.<br>4. Layout: Horizontal row. | ## 2. 4å±¤ã‚’ã€Œä¸€è¨€ã€ã§è¦šãˆã‚‹ã‚³ãƒ„ğŸ’¡âœ¨ |
| 486 | docs/clean_cs_study_002.md | clean_cs_study_002_pure_diamond.png | ./picture/clean_cs_study_002_pure_diamond.png | **Theme**: Pure vs Polluted Entity<br><br>**Labels to Render**:<br>- Pure: "Pure Entity"<br>- Polluted: "Polluted Entity"<br>- Attribute: "[Key]"<br>- DB: "DB Type"<br><br>**Visual Details**:<br>1. Core Concept: Keeping entities free from framework pollution.<br>2. Metaphor: Comparison.<br>   - Left: A sparkling, clean diamond (Pure).<br>   - Right: A diamond covered in sticky notes ("[Key]", "[Table]") and mud (Polluted).<br>3. Action: Comparison.<br>4. Layout: Side by side. | ### A) Entitiesï¼ˆä¸­æ ¸ãƒ«ãƒ¼ãƒ«ï¼‰ğŸ‘‘ğŸ’ |
| 487 | docs/clean_cs_study_002.md | clean_cs_study_002_usecase_script.png | ./picture/clean_cs_study_002_usecase_script.png | **Theme**: Use Case Script<br><br>**Labels to Render**:<br>- Director: "Use Case"<br>- Script: "Scenario"<br>- Actor: "Entity"<br>- Action: "Directing"<br><br>**Visual Details**:<br>1. Core Concept: Use Case defines the flow/scenario.<br>2. Metaphor: A movie director holding a script.<br>   - The script lists steps: "1. Validate", "2. Save", "3. Notify".<br>   - The Director points to the Actor (Entity) to perform.<br>3. Action: Directing.<br>4. Layout: Character scene. | ### B) Use Casesï¼ˆã‚¢ãƒ—ãƒªã®æ‰‹é †ï¼‰ğŸ®ğŸ“¦ |
| 488 | docs/clean_cs_study_002.md | clean_cs_study_002_adapter_translator.png | ./picture/clean_cs_study_002_adapter_translator.png | **Theme**: Adapter Translator<br><br>**Labels to Render**:<br>- External: "External (English)"<br>- Translator: "Adapter"<br>- Internal: "Internal (Japanese)"<br>- Chat: "Hello -> Konnichiwa"<br><br>**Visual Details**:<br>1. Core Concept: Translating between external and internal languages.<br>2. Metaphor: A simultaneous interpreter.<br>   - Left side speaks "External Language" (HTTP/SQL).<br>   - Right side speaks "Internal Language" (Domain Objects).<br>   - The Interpreter (Adapter) sits in the middle converting.<br>3. Action: Translating.<br>4. Layout: Middle focus. | ### C) Interface Adaptersï¼ˆå¤‰æ›ãƒ»é€šè¨³ï¼‰ğŸ”„ğŸ§© |
| 489 | docs/clean_cs_study_002.md | clean_cs_study_002_data_relay.png | ./picture/clean_cs_study_002_data_relay.png | **Theme**: Data Flow Relay<br><br>**Labels to Render**:<br>- Start: "Web (Framework)"<br>- Pass 1: "Controller (Adapter)"<br>- Pass 2: "UseCase"<br>- Goal: "Entity"<br><br>**Visual Details**:<br>1. Core Concept: Data passing through layers.<br>2. Metaphor: A relay race.<br>   - Runner 1 (Web) passes baton to Runner 2 (Controller).<br>   - Runner 2 passes to Runner 3 (UseCase).<br>   - Runner 3 runs towards the goal (Entity).<br>3. Action: Passing baton.<br>4. Layout: Sequential flow. | ## 4. å…·ä½“ä¾‹ï¼šãƒ¡ãƒ¢ä½œæˆï¼ˆCreate Memoï¼‰ã‚’4å±¤ã«æµã™ğŸŒŠğŸ“âœ¨ |
| 490 | docs/clean_cs_study_002.md | clean_cs_study_002_sorting_bins.png | ./picture/clean_cs_study_002_sorting_bins.png | **Theme**: Layer Sorting Game<br><br>**Labels to Render**:<br>- Bin 1: "Entities"<br>- Bin 2: "Use Cases"<br>- Bin 3: "Adapters"<br>- Bin 4: "Frameworks"<br>- Item: "Code File"<br><br>**Visual Details**:<br>1. Core Concept: Classifying code into the correct layer.<br>2. Metaphor: A recycling sorting station.<br>   - 4 colored bins corresponding to the layers.<br>   - A hand holding a file labeled "MemoController" hovering over the "Adapters" bin.<br>3. Action: Sorting.<br>4. Layout: Sorting scene. | ## 5. â€œã©ã®å±¤ï¼Ÿâ€ä»•åˆ†ã‘ã‚²ãƒ¼ãƒ ğŸ®ğŸ˜†âœ¨ï¼ˆãƒŸãƒ‹èª²é¡Œï¼‰ |
| 491 | docs/clean_cs_study_003.md | clean_cs_study_003_dependency_card.png | ./picture/clean_cs_study_003_dependency_card.png | **Theme**: Dependency Definition<br><br>**Labels to Render**:<br>- Class A: "Class A"<br>- Class B: "Class B"<br>- Card: "Name Card (B)"<br>- Link: "Dependency"<br><br>**Visual Details**:<br>1. Core Concept: Knowing the name creates a dependency.<br>2. Metaphor: Class A is holding a business card with "Class B" written on it.<br>   - A visible string connects the card to Class B.<br>   - This string represents the dependency.<br>3. Action: Holding card.<br>4. Layout: Connection view. | # 1) ã¾ãšã€Œä¾å­˜ã€ã£ã¦ãªã«ï¼ŸğŸ§© |
| 492 | docs/clean_cs_study_003.md | clean_cs_study_003_stormy_outside.png | ./picture/clean_cs_study_003_stormy_outside.png | **Theme**: Volatile Outer World<br><br>**Labels to Render**:<br>- Outer: "Outer (Volatile)"<br>- Inner: "Inner (Stable)"<br>- Storm: "Changes (DB/UI)"<br>- Castle: "Business Rules"<br><br>**Visual Details**:<br>1. Core Concept: Protecting the stable core from the chaotic outside.<br>2. Metaphor: A castle (Inner) surrounded by a storm (Outer).<br>   - The castle is calm and lit.<br>   - Outside, tornadoes labeled "DB Change", "UI Change" are swirling.<br>   - The walls protect the inside.<br>3. Action: Protecting.<br>4. Layout: Center focus. | # 3) ãªã‚“ã§ãã“ã¾ã§ã€Œå†…å´ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€ãªã®ï¼ŸğŸ¥º |
| 493 | docs/clean_cs_study_003.md | clean_cs_study_003_dip_socket.png | ./picture/clean_cs_study_003_dip_socket.png | **Theme**: Dependency Inversion Plug<br><br>**Labels to Render**:<br>- Inner: "Inner Layer"<br>- Outer: "Outer Layer"<br>- Socket: "Interface (Port)"<br>- Plug: "Implementation (Adapter)"<br><br>**Visual Details**:<br>1. Core Concept: Interface belongs to the caller (Inner).<br>2. Metaphor: A wall socket installed in the Inner room.<br>   - The Outer room brings a cord with a Plug.<br>   - Connecting the plug to the socket.<br>   - Arrow showing dependency (Plug depends on Socket shape).<br>3. Action: Plugging in.<br>4. Layout: Side by side. | # 4) ã©ã†ã‚„ã£ã¦å®ˆã‚‹ã®ï¼Ÿï¼ˆçµè«–ï¼šinterface ã‚’å†…å´ã¸ï¼‰ğŸ”ŒğŸª„ |
| 494 | docs/clean_cs_study_003.md | clean_cs_study_003_ng_ok_touch.png | ./picture/clean_cs_study_003_ng_ok_touch.png | **Theme**: Direct Access vs Interface<br><br>**Labels to Render**:<br>- NG: "Direct (Hot)"<br>- OK: "Interface (Safe)"<br>- UseCase: "UseCase"<br>- DB: "DB (Hot)"<br>- Remote: "Interface"<br><br>**Visual Details**:<br>1. Core Concept: Decoupling via interface.<br>2. Metaphor:<br>   - NG: UseCase touching a hot stove (DB) directly with bare hands (Ouch!).<br>   - OK: UseCase using a remote control (Interface) to operate the stove from a distance.<br>3. Action: Touching vs Controlling.<br>4. Layout: Split view. | ## 5) ä¾‹ï¼šãƒ¡ãƒ¢ä½œæˆï¼ˆCreateMemoï¼‰ã§è¦‹ã‚‹ â€œNGâ†’OKâ€ ğŸ“âš™ï¸ |
| 495 | docs/clean_cs_study_003.md | clean_cs_study_003_banned_poster.png | ./picture/clean_cs_study_003_banned_poster.png | **Theme**: Forbidden References<br><br>**Labels to Render**:<br>- Poster: "BANNED LIST"<br>- Item 1: "DbContext"<br>- Item 2: "HttpContext"<br>- Item 3: "Controller"<br>- Location: "Domain Layer"<br><br>**Visual Details**:<br>1. Core Concept: Explicitly listing forbidden dependencies.<br>2. Metaphor: A "Wanted" or "Prohibited" poster on a wall in the "Domain Layer" room.<br>   - Crossed-out icons of DbContext, HttpContext.<br>   - A guard is checking it.<br>3. Action: Displaying rules.<br>4. Layout: Wall poster. | ## 6) â€œç¦æ­¢å‚ç…§ãƒªã‚¹ãƒˆâ€ ã‚’ä½œã‚ã†ğŸ§¾ğŸš«ï¼ˆãƒŸãƒ‹èª²é¡Œã¤ãï¼‰ |
| 496 | docs/clean_cs_study_003.md | clean_cs_study_003_attribute_sticker.png | ./picture/clean_cs_study_003_attribute_sticker.png | **Theme**: Attribute Pollution<br><br>**Labels to Render**:<br>- Entity: "Entity King"<br>- Sticker: "[Key]"<br>- Reaction: "Undignified"<br>- Pollutant: "EF Core"<br><br>**Visual Details**:<br>1. Core Concept: Framework attributes pollute the domain model.<br>2. Metaphor: A dignified King (Entity).<br>   - Someone has slapped a cheap neon sticker saying "[Key]" right on his forehead.<br>   - He looks annoyed.<br>   - The sticker comes from a spray can labeled "EF Core".<br>3. Action: Vandalism.<br>4. Layout: Character close-up. | ## 8) ã‚¯ã‚¤ã‚ºï¼šã“ã‚Œã¯ä¾å­˜é•åï¼Ÿã©ã“ãŒãƒ€ãƒ¡ï¼ŸğŸ®ğŸ˜† |
| 497 | docs/clean_cs_study_025.md | clean_cs_study_025_savechanges_bubble.png | ./picture/clean_cs_study_025_savechanges_bubble.png | **Theme**: SaveChanges Bubble<br><br>**Labels to Render**:<br>- Bubble: "Transaction"<br>- Action: "SaveChanges()"<br>- Inside: "Op 1 / Op 2"<br>- Outside: "Error (Rollback)"<br><br>**Visual Details**:<br>1. Core Concept: Automatic transaction boundary.<br>2. Metaphor: A protective bubble.<br>   - Inside the bubble, operations (Op 1, Op 2) are floating safely.<br>   - The bubble is labeled "SaveChanges()".<br>   - An error arrow hits the bubble, and the whole bubble pops/disappears (Rollback).<br>3. Action: Protection.<br>4. Layout: Bubble close-up. | ## 2) ã¾ãšå®‰å¿ƒãƒã‚¤ãƒ³ãƒˆï¼šEF Coreã¯ `SaveChanges` ãŒè‡ªå‹•ã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã ã‚ˆğŸ˜ŒğŸ«¶ |
| 498 | docs/clean_cs_study_025.md | clean_cs_study_025_partial_commit_accident.png | ./picture/clean_cs_study_025_partial_commit_accident.png | **Theme**: Partial Commit Accident<br><br>**Labels to Render**:<br>- Op 1: "Save 1 (Committed)"<br>- Crash: "Crash!"<br>- Op 2: "Save 2 (Failed)"<br>- State: "Inconsistent"<br><br>**Visual Details**:<br>1. Core Concept: The danger of multiple SaveChanges.<br>2. Metaphor: A broken bridge.<br>   - Step 1 (Save 1) is a solid plank.<br>   - Step 2 (Save 2) is missing because of a "Crash!".<br>   - The character is stuck in the middle (Inconsistent state).<br>3. Action: Falling/Stuck.<br>4. Layout: Timeline view. | ### (A) `SaveChanges` ã‚’2å›ä»¥ä¸Šã—ãŸã„æ™‚ |
| 499 | docs/clean_cs_study_025.md | clean_cs_study_025_boundary_decision.png | ./picture/clean_cs_study_025_boundary_decision.png | **Theme**: Transaction Boundary Decision<br><br>**Labels to Render**:<br>- Brain: "UseCase (Decider)"<br>- Muscle: "Infra (Executor)"<br>- Document: "Transaction Script"<br>- Action: "Handover"<br><br>**Visual Details**:<br>1. Core Concept: Separation of decision and execution.<br>2. Metaphor: A commander and a soldier.<br>   - Commander (UseCase) hands a scroll "Transaction Script" to the Soldier (Infra).<br>   - Soldier is ready to pull the lever "Commit".<br>3. Action: Handing over orders.<br>4. Layout: Character interaction. | ## 4) ç½®ãå ´æ‰€ãƒ«ãƒ¼ãƒ«ï¼šUseCaseãŒã€Œå¢ƒç•Œã€ã‚’æ±ºã‚ã€å¤–å´ãŒã€Œå®Ÿè¡Œã€ã™ã‚‹ğŸ§¼ğŸ”Œ |
| 500 | docs/clean_cs_study_025.md | clean_cs_study_025_uow_funnel.png | ./picture/clean_cs_study_025_uow_funnel.png | **Theme**: UnitOfWork Funnel<br><br>**Labels to Render**:<br>- Input 1: "Add Memo"<br>- Input 2: "Add Log"<br>- Funnel: "UnitOfWork"<br>- Action: "SaveChangesAsync"<br>- DB: "DB"<br><br>**Visual Details**:<br>1. Core Concept: Aggregating operations into one commit.<br>2. Metaphor: A funnel.<br>   - Multiple items (Memo, Log) are dropped into the top.<br>   - At the bottom, a single gate "SaveChangesAsync" releases them into the DB bin all at once.<br>3. Action: Funneling.<br>4. Layout: Vertical flow. | ## 5) å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³â‘ ï¼šUseCaseã¯ `IUnitOfWork.SaveChanges()` ã‚’æœ€å¾Œã«1å›ã ã‘ğŸ§âœ¨ |
| 501 | docs/clean_cs_study_025.md | clean_cs_study_025_transaction_decorator.png | ./picture/clean_cs_study_025_transaction_decorator.png | **Theme**: Transaction Decorator<br><br>**Labels to Render**:<br>- Outer: "Transaction Decorator"<br>- Inner: "Real UseCase"<br>- Start: "Begin"<br>- End: "Commit"<br><br>**Visual Details**:<br>1. Core Concept: Wrapping logic with transaction management.<br>2. Metaphor: Russian Dolls (Matryoshka).<br>   - The inner doll is "Real UseCase" (Doing logic).<br>   - The outer doll is "Transaction Decorator" (Handling Begin/Commit).<br>   - Encapsulation.<br>3. Action: Enclosing.<br>4. Layout: Cutaway view. | ## 6) å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³â‘¡ï¼šã©ã†ã—ã¦ã‚‚è¤‡æ•° `SaveChanges` ãŒå¿…è¦ãªã‚‰ã€Œãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œå½¹ã€ã‚’å¤–å´ã«ç½®ãğŸğŸ§± |
| 502 | docs/clean_cs_study_025.md | clean_cs_study_025_scope_warning.png | ./picture/clean_cs_study_025_scope_warning.png | **Theme**: TransactionScope Warning<br><br>**Labels to Render**:<br>- Button: "SaveChanges (Safe)"<br>- Machine: "TransactionScope (Complex)"<br>- Warning: "Async Trap"<br>- User: "Be Careful"<br><br>**Visual Details**:<br>1. Core Concept: Complexity of TransactionScope.<br>2. Metaphor: A simple button vs a complex control panel.<br>   - "SaveChanges" is a simple green button.<br>   - "TransactionScope" is a massive panel with dials and "High Voltage" signs (Async Trap).<br>   - User looks hesitant to touch the panel.<br>3. Action: Hesitation.<br>4. Layout: Comparison. | ## 8) `TransactionScope` ã¯å¼·ã„ã‘ã©ã€ã¾ãšã¯â€œä½¿ã‚ãªã„â€å¯„ã‚Šã§OKğŸ™…â€â™€ï¸ğŸ’¦ |
| 503 | docs/clean_cs_study_026.md | clean_cs_study_026_clean_room_guard.png | ./picture/clean_cs_study_026_clean_room_guard.png | **Theme**: Inner doesn't know Outer<br><br>**Labels to Render**:<br>- Core: "Core (Inner)"<br>- Guard: "Security Guard"<br>- Intruder 1: "HTTP 404"<br>- Intruder 2: "ActionResult"<br>- Stop: "Access Denied"<br><br>**Visual Details**:<br>1. Core Concept: Core layer protection.<br>2. Metaphor: A clean white room (Core) protected by a security guard.<br>   - Dirty characters labeled "HTTP 404" and "ActionResult" try to enter.<br>   - The guard stops them at the door.<br>3. Action: Blocking access.<br>4. Layout: Entrance scene. | ## ã¾ãšå¤§å‰æï¼šå†…å´ã¯å¤–å´ã‚’çŸ¥ã‚‰ãªã„ ğŸ§ â­• |
| 504 | docs/clean_cs_study_026.md | clean_cs_study_026_failure_sorting.png | ./picture/clean_cs_study_026_failure_sorting.png | **Theme**: Failure Sorting<br><br>**Labels to Render**:<br>- Failure: "Failure"<br>- Expected: "Expected (Validation)"<br>- Unexpected: "Unexpected (Crash)"<br>- Chute 1: "Return Result"<br>- Chute 2: "Throw Exception"<br><br>**Visual Details**:<br>1. Core Concept: Categorizing failures.<br>2. Metaphor: A sorting machine.<br>   - Input: "Failure" boxes.<br>   - Sorter: Checking the label.<br>   - "Validation/NotFound" -> Gentle slide "Result" (Green).<br>   - "DB Crash" -> Trapdoor "Exception" (Red).<br>3. Action: Sorting.<br>4. Layout: Branching flow. | ## å¤±æ•—ã«ã¯2ç¨®é¡ã‚ã‚‹ã‚ˆ âš ï¸ğŸŒ¸ |
| 505 | docs/clean_cs_study_026.md | clean_cs_study_026_result_box.png | ./picture/clean_cs_study_026_result_box.png | **Theme**: Result<T> Box<br><br>**Labels to Render**:<br>- Box: "Result<T>"<br>- Success: "Value (Success)"<br>- Failure: "Error (Failure)"<br>- Exclusive: "OR"<br><br>**Visual Details**:<br>1. Core Concept: The Result pattern structure.<br>2. Metaphor: A special box that can hold only ONE thing.<br>   - Compartment A: "Value".<br>   - Compartment B: "Error".<br>   - A slider mechanism ensures if A is open, B is locked, and vice versa.<br>3. Action: Switching/Locking.<br>4. Layout: Object mechanic. | ### 2) Resultï¼ˆæˆåŠŸ/å¤±æ•—ï¼‰ã‚’ä½œã‚‹ï¼ˆCoreã«ç½®ãï¼‰ğŸ |
| 506 | docs/clean_cs_study_026.md | clean_cs_study_026_output_port_fork.png | ./picture/clean_cs_study_026_output_port_fork.png | **Theme**: Output Port Fork<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Fork: "Output Port"<br>- Path 1: "PresentSuccess()"<br>- Path 2: "PresentFailure()"<br><br>**Visual Details**:<br>1. Core Concept: Diverging flow at Output Port.<br>2. Metaphor: A fork in the road.<br>   - UseCase character stands at the junction.<br>   - Left path: Sunny, labeled "Success".<br>   - Right path: Cloudy, labeled "Failure".<br>3. Action: Choosing path.<br>4. Layout: Path branching. | ## UseCaseã§ã®æµã—æ–¹ï¼šOutputPortã«ã€ŒæˆåŠŸã€ã¨ã€Œå¤±æ•—ã€ã‚’æ¸¡ã™ ğŸ¤â¡ï¸ |
| 507 | docs/clean_cs_study_026.md | clean_cs_study_026_presenter_translation_booth.png | ./picture/clean_cs_study_026_presenter_translation_booth.png | **Theme**: Presenter Translation Booth<br><br>**Labels to Render**:<br>- Input: "Error (Validation)"<br>- Booth: "Presenter"<br>- Output: "HTTP 400 (ProblemDetails)"<br>- Ref: "RFC 9457"<br><br>**Visual Details**:<br>1. Core Concept: Translating domain error to HTTP error.<br>2. Metaphor: A translation booth.<br>   - Input: A card "Validation Error" (Internal language).<br>   - Output: A formal document "ProblemDetails" with "400" stamp (External language).<br>3. Action: Translating/Stamping.<br>4. Layout: Booth view. | ### Presenterä¾‹ï¼ˆå¤–å´ï¼‰ï¼šError â†’ HTTP/ProblemDetailsï¼ˆã“ã“ã§ã‚„ã‚‹ï¼ï¼‰ |
| 508 | docs/clean_cs_study_026.md | clean_cs_study_026_actionresult_leak.png | ./picture/clean_cs_study_026_actionresult_leak.png | **Theme**: ActionResult Leak<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Leak: "ActionResult"<br>- Pollution: "Web Dependency"<br>- Stop: "NG"<br><br>**Visual Details**:<br>1. Core Concept: Accidental leakage of web types into UseCase.<br>2. Metaphor: A chemical leak.<br>   - UseCase is holding a flask labeled "ActionResult".<br>   - It is dripping green slime "Web Dependency" onto the floor.<br>   - A hazardous material sign "NG".<br>3. Action: Leaking.<br>4. Layout: Warning scene. | ## ã‚ˆãã‚ã‚‹äº‹æ•…ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆã‚ã‚‹ã‚ã‚‹ğŸ˜­ï¼‰ğŸ©º |
| 509 | docs/clean_cs_study_027.md | clean_cs_study_027_chaos_vs_order.png | ./picture/clean_cs_study_027_chaos_vs_order.png | **Theme**: Chaos vs Order in Expansion<br><br>**Labels to Render**:<br>- Chaos: "Chaos (No Template)"<br>- Order: "Order (Template)"<br>- UseCase 1: "UseCase A"<br>- UseCase 2: "UseCase B"<br>- UseCase 3: "UseCase C"<br><br>**Visual Details**:<br>1. Core Concept: Templates prevent chaos.<br>2. Metaphor: Construction site.<br>   - Chaos: Houses are all different shapes and collapsing. Architects are confused.<br>   - Order: Houses are identical, sturdy, and aligned. Architects are calm.<br>3. Action: Comparison.<br>4. Layout: Side by side. | ## 1) ã“ã®ç« ã®ã‚´ãƒ¼ãƒ«ğŸ¯ğŸ’ |
| 510 | docs/clean_cs_study_027.md | clean_cs_study_027_usecase_kit.png | ./picture/clean_cs_study_027_usecase_kit.png | **Theme**: UseCase Kit<br><br>**Labels to Render**:<br>- Kit: "UseCase Kit"<br>- Part 1: "Request"<br>- Part 2: "InputPort"<br>- Part 3: "Interactor"<br>- Part 4: "Response"<br>- Part 5: "OutputPort"<br>- Part 6: "Presenter"<br><br>**Visual Details**:<br>1. Core Concept: The standard set of components.<br>2. Metaphor: A model kit or Lego set box.<br>   - The box is labeled "UseCase Kit".<br>   - Inside, there are 6 distinct parts neatly arranged.<br>3. Action: Opening the kit.<br>4. Layout: Object view. | ## 2) â€œå‹â€ã®å…¨ä½“å›³ï¼ˆã“ã‚Œã‚’æ¯å›ã‚³ãƒ”ãƒšè„³ã§ä½œã‚‹ğŸ§ ğŸ“‹ï¼‰ |
| 511 | docs/clean_cs_study_027.md | clean_cs_study_027_result_pattern.png | ./picture/clean_cs_study_027_result_pattern.png | **Theme**: Result Pattern Output<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Output: "Result<T>"<br>- Green: "Success (Value)"<br>- Red: "Fail (Error)"<br><br>**Visual Details**:<br>1. Core Concept: Unifying output format.<br>2. Metaphor: A traffic light signal held by the UseCase.<br>   - Green Light: Emits a "Success Value" box.<br>   - Red Light: Emits a "Fail Error" box.<br>   - Standardized signal for all UseCases.<br>3. Action: Signaling.<br>4. Layout: Process flow. | ## 4) â€œçµæœã®å½¢â€ã‚’çµ±ä¸€ã—ã¦ã€æ¯å›ã®æ‚©ã¿ã‚’æ¶ˆã™ğŸ±âœ¨ |
| 512 | docs/clean_cs_study_027.md | clean_cs_study_027_presenter_plug.png | ./picture/clean_cs_study_027_presenter_plug.png | **Theme**: Presenter Plug<br><br>**Labels to Render**:<br>- Socket: "OutputPort (Interface)"<br>- Plug: "Presenter (Implementation)"<br>- Signal: "Result"<br>- Conversion: "ViewModel"<br><br>**Visual Details**:<br>1. Core Concept: Presenter implementing OutputPort.<br>2. Metaphor: Plugging in.<br>   - UseCase provides a socket "OutputPort".<br>   - Presenter connects with a matching plug.<br>   - Signal "Result" flows through and gets converted to "ViewModel" inside the Presenter.<br>3. Action: Connecting.<br>4. Layout: Connection view. | ## 6) Presenterï¼ˆAdapterå´ï¼‰ğŸ¤âœ¨ï¼ˆè¶…é‡è¦ï¼ï¼‰ |
| 513 | docs/clean_cs_study_027.md | clean_cs_study_027_ai_blueprint.png | ./picture/clean_cs_study_027_ai_blueprint.png | **Theme**: AI Blueprint Generation<br><br>**Labels to Render**:<br>- Human: "User"<br>- Command: "Generate UseCase"<br>- Robot: "AI"<br>- Blueprint: "Template"<br>- Result: "Perfect Code"<br><br>**Visual Details**:<br>1. Core Concept: Using AI with a template.<br>2. Metaphor: A robot architect.<br>   - User hands a "Template" blueprint to the Robot.<br>   - Robot instantly builds a perfect structure based on it.<br>   - Highlighting precision.<br>3. Action: Generating.<br>4. Layout: Interaction scene. | ## 8) AIï¼ˆCopilot/Codexï¼‰ã«é››å½¢ã‚’ä½œã‚‰ã›ã‚‹ã‚³ãƒ„ğŸ¤–ğŸª„ |
| 514 | docs/clean_cs_study_027.md | clean_cs_study_027_dependency_scanner.png | ./picture/clean_cs_study_027_dependency_scanner.png | **Theme**: Dependency Scanner Check<br><br>**Labels to Render**:<br>- Code: "UseCase Code"<br>- Scanner: "Dependency Check"<br>- Safe: "Domain Only"<br>- Danger: "ASP.NET / EF Core"<br>- Result: "Green/Safe"<br><br>**Visual Details**:<br>1. Core Concept: Verifying dependencies.<br>2. Metaphor: Airport security scanner.<br>   - Code passes through.<br>   - Scanner looks for "Dangerous Items" (ASP.NET, EF Core).<br>   - Screen shows "Green/Safe" because only Domain items are found.<br>3. Action: Scanning.<br>4. Layout: Scanning scene. | ## 9) â€œå‹ãŒå´©ã‚Œã¦ãªã„ï¼Ÿâ€ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆâœ…âœ¨ |
| 515 | docs/clean_cs_study_028.md | clean_cs_study_028_blindfolded_usecase.png | ./picture/clean_cs_study_028_blindfolded_usecase.png | **Theme**: UseCase Blindfold<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Blindfold: "No Dependencies"<br>- Output: "Result"<br>- DB: "DB (Invisible)"<br>- Web: "Web (Invisible)"<br><br>**Visual Details**:<br>1. Core Concept: UseCase does not know about the outside world.<br>2. Metaphor: A UseCase character wearing a blindfold.<br>   - It is handing out a "Result" box.<br>   - Around it, "DB" and "Web" are visible to us, but the UseCase cannot see them.<br>3. Action: Working blindly.<br>4. Layout: Character focus. | ## ã“ã®ç« ã®ã‚´ãƒ¼ãƒ« ğŸ¯ğŸ’– |
| 516 | docs/clean_cs_study_028.md | clean_cs_study_028_procedure_manual.png | ./picture/clean_cs_study_028_procedure_manual.png | **Theme**: Procedure Manual<br><br>**Labels to Render**:<br>- Book: "UseCase Manual"<br>- Step 1: "1. Input"<br>- Step 2: "2. Rules"<br>- Step 3: "3. Output"<br>- Stop: "No UI/DB"<br><br>**Visual Details**:<br>1. Core Concept: UseCase as a simple procedure list.<br>2. Metaphor: A clean clipboard or manual.<br>   - Three simple steps checked off.<br>   - A warning sign "No UI/DB" at the bottom.<br>3. Action: Displaying steps.<br>4. Layout: List view. | ## ã¾ãšã¯åˆè¨€è‘‰ğŸª„ï¼šUseCaseã¯ã€Œæ‰‹é †æ›¸ã€ğŸ“œâœ¨ |
| 517 | docs/clean_cs_study_028.md | clean_cs_study_028_inward_arrows.png | ./picture/clean_cs_study_028_inward_arrows.png | **Theme**: Inward Dependency Check<br><br>**Labels to Render**:<br>- UseCases: "UseCases"<br>- Entities: "Entities"<br>- Interfaces: "Interfaces"<br>- Arrow: "Reference"<br>- Web: "Web (NG)"<br><br>**Visual Details**:<br>1. Core Concept: Correct dependency direction.<br>2. Metaphor: A compass or flow chart.<br>   - Green arrows point inward from UseCases to Entities/Interfaces.<br>   - A Red arrow pointing outward to "Web" is crossed out with a big X.<br>3. Action: Direction checking.<br>4. Layout: Radial or Network. | ### â‘  å‚ç…§æ–¹å‘ãƒã‚§ãƒƒã‚¯ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‚ç…§ï¼‰ğŸ§­ğŸ“Œ |
| 518 | docs/clean_cs_study_028.md | clean_cs_study_028_forbidden_radar.png | ./picture/clean_cs_study_028_forbidden_radar.png | **Theme**: Forbidden Word Radar<br><br>**Labels to Render**:<br>- Radar: "Code Scanner"<br>- Blip 1: "Controller (Red)"<br>- Blip 2: "DbContext (Red)"<br>- Safe: "Core Area"<br><br>**Visual Details**:<br>1. Core Concept: Scanning for forbidden terms.<br>2. Metaphor: A radar screen.<br>   - The sweep line detects red dots labeled "Controller" and "DbContext" inside the "Core Area".<br>   - Warning indicators flashing.<br>3. Action: Detection.<br>4. Layout: Radar view. | ### â‘¢ â€œç¦å¥â€ã‚¹ã‚­ãƒ£ãƒ³ï¼ˆåå‰ã§è¦‹ã¤ã‘ã‚‹ï¼‰ğŸ”ğŸ§¹ |
| 519 | docs/clean_cs_study_028.md | clean_cs_study_028_fake_plug.png | ./picture/clean_cs_study_028_fake_plug.png | **Theme**: Fake Plug Testing<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Socket: "IRepository"<br>- Fake: "FakeRepo (Toy)"<br>- Real: "RealRepo (Heavy)"<br>- Connected: "Test Ready"<br><br>**Visual Details**:<br>1. Core Concept: Swapping real implementation with fake for testing.<br>2. Metaphor: Plugging in a toy.<br>   - UseCase has a socket.<br>   - A lightweight toy plug "FakeRepo" is inserted.<br>   - A heavy industrial plug "RealRepo" is disconnected on the floor.<br>3. Action: Plugging in.<br>4. Layout: Connection view. | ### â‘¤ â€œFakeå·®ã—æ›¿ãˆâ€ã§UseCaseãŒå‹•ãï¼Ÿï¼ˆå‹•ãå®Œæˆãƒã‚§ãƒƒã‚¯ï¼‰ğŸ­ğŸ§ª |
| 520 | docs/clean_cs_study_028.md | clean_cs_study_028_contamination_dto.png | ./picture/clean_cs_study_028_contamination_dto.png | **Theme**: Request DTO Contamination<br><br>**Labels to Render**:<br>- Request: "RequestModel"<br>- Dirt: "[Required]"<br>- Slime: "[JsonProp]"<br>- Clean: "Pure Class"<br><br>**Visual Details**:<br>1. Core Concept: Pollution of RequestModel with framework attributes.<br>2. Metaphor: A white box (RequestModel) covered in mud.<br>   - The mud splatters are labeled "[Required]" and "[JsonProp]".<br>   - A cleaning cloth labeled "Remove" is wiping it to reveal "Pure Class".<br>3. Action: Cleaning/Contamination.<br>4. Layout: Before and After. | ### ã‚ã‚‹ã‚ã‚‹â‘ ï¼šRequestModelã«API DTOã‚’ãã®ã¾ã¾å…¥ã‚Œã¡ã‚ƒã†ğŸ±â¡ï¸ğŸ“¨ |
| 521 | docs/clean_cs_study_029.md | clean_cs_study_029_controller_diet.png | ./picture/clean_cs_study_029_controller_diet.png | **Theme**: Controller Diet<br><br>**Labels to Render**:<br>- Fat Controller: "Fat Controller (Logic Burger)"<br>- Thin Controller: "Thin Controller (HTTP Salad)"<br>- Health: "Design Health"<br><br>**Visual Details**:<br>1. Core Concept: Slimming down the controller.<br>2. Metaphor: A diet comparison.<br>   - Fat Controller: Eating giant burgers labeled "Logic", "DB".<br>   - Thin Controller: Eating a light salad labeled "HTTP".<br>   - Thin Controller looks fit and happy.<br>3. Action: Eating.<br>4. Layout: Side by side. | ## ã“ã®ç« ã®ã‚´ãƒ¼ãƒ« ğŸ¯âœ¨ |
| 522 | docs/clean_cs_study_029.md | clean_cs_study_029_relay_baton.png | ./picture/clean_cs_study_029_relay_baton.png | **Theme**: Controller Relay Baton<br><br>**Labels to Render**:<br>- Runner 1: "HTTP"<br>- Controller: "Controller"<br>- Runner 2: "UseCase"<br>- Baton: "Request"<br><br>**Visual Details**:<br>1. Core Concept: Controller passes the request without processing logic.<br>2. Metaphor: Relay race.<br>   - Runner 1 (HTTP) hands baton to Controller.<br>   - Controller immediately hands it to Runner 2 (UseCase).<br>   - Controller stays in the relay zone, UseCase runs the track.<br>3. Action: Passing baton.<br>4. Layout: Action scene. | ## ã¾ãšçµè«–ï¼šControllerã®ä»•äº‹ã¯ã‚³ãƒ¬ã ã‘ï¼ğŸ«¶âœ¨ |
| 523 | docs/clean_cs_study_029.md | clean_cs_study_029_controller_collapse.png | ./picture/clean_cs_study_029_controller_collapse.png | **Theme**: Controller Collapse<br><br>**Labels to Render**:<br>- Floor: "Controller Layer"<br>- Weight 1: "DB Logic"<br>- Weight 2: "Business Rules"<br>- Weight 3: "Validation"<br>- Collapse: "Crash!"<br><br>**Visual Details**:<br>1. Core Concept: Overloaded controller collapses.<br>2. Metaphor: A floor collapsing under heavy weights.<br>   - Weights labeled "DB Logic", "Business Rules", "Validation" are piled on the Controller floor.<br>   - The floor breaks, and everything falls into chaos.<br>3. Action: Collapsing.<br>4. Layout: Structural failure. | ## ãªã‚“ã§Controllerã‚’è–„ãã™ã‚‹ã®ï¼ŸğŸ¥ºğŸ‘‰ğŸ’¡ |
| 524 | docs/clean_cs_study_029.md | clean_cs_study_029_actors_lineup.png | ./picture/clean_cs_study_029_actors_lineup.png | **Theme**: Minimal API Actors Lineup<br><br>**Labels to Render**:<br>- Actor 1: "API DTO (Outer)"<br>- Actor 2: "Request (Inner)"<br>- Actor 3: "InputPort (Interface)"<br>- Actor 4: "Presenter (Output)"<br><br>**Visual Details**:<br>1. Core Concept: The roles in a minimal API setup.<br>2. Metaphor: A cast lineup on stage.<br>   - Actor 1: Dressed in Web/JSON clothes.<br>   - Actor 2: Dressed in plain clothes (Internal).<br>   - Actor 3: A door frame (Interface).<br>   - Actor 4: Holding a microphone (Presenter).<br>3. Action: Bowing/Standing.<br>4. Layout: Lineup. | ## â€œè–„ã„Controllerâ€ã®é»„é‡‘ãƒ†ãƒ³ãƒ—ãƒ¬ ğŸ†âœ¨ |
| 525 | docs/clean_cs_study_029.md | clean_cs_study_029_validation_gates.png | ./picture/clean_cs_study_029_validation_gates.png | **Theme**: Validation Gates<br><br>**Labels to Render**:<br>- Gate 1: "Format (Adapter)"<br>- Gate 2: "Domain (Rule)"<br>- Input: "Data"<br>- Check 1: "Is Email?"<br>- Check 2: "Is Allowed?"<br><br>**Visual Details**:<br>1. Core Concept: Two stages of validation.<br>2. Metaphor: Two distinct gates.<br>   - Gate 1 (Adapter): Checking ticket shape/color (Format).<br>   - Gate 2 (Domain): Checking ID against a list (Business Rule).<br>   - Data passes sequentially.<br>3. Action: Passing gates.<br>4. Layout: Sequential flow. | ## Validationã¯ã©ã“ã§ã‚„ã‚‹ï¼ŸğŸ›‘ğŸ¤”ï¼ˆControllerãŒå¤ªã‚‹æœ€å¤§åŸå› ï¼ï¼‰ |
| 526 | docs/clean_cs_study_029.md | clean_cs_study_029_pipeline_filters.png | ./picture/clean_cs_study_029_pipeline_filters.png | **Theme**: Pipeline Filters<br><br>**Labels to Render**:<br>- Pipe: "Request Pipeline"<br>- Filter 1: "Log"<br>- Filter 2: "Auth"<br>- Filter 3: "Validation"<br>- End: "Controller"<br><br>**Visual Details**:<br>1. Core Concept: Offloading tasks to filters.<br>2. Metaphor: A water pipeline with filter stations.<br>   - Water (Request) flows through Filter 1 (Log), Filter 2 (Auth), Filter 3 (Validation).<br>   - Finally reaches the tap (Controller) clean and ready.<br>3. Action: Flowing.<br>4. Layout: Pipeline view. | ## â€œå…±é€šå‡¦ç†â€ã¯Controllerã«ç½®ã‹ãªã„ï¼šFiltersã¸é€ƒãŒã™ ğŸƒâ€â™€ï¸ğŸ’¨âœ¨ |
| 527 | docs/clean_cs_study_030.md | clean_cs_study_030_muddy_boot_dto.png | ./picture/clean_cs_study_030_muddy_boot_dto.png | **Theme**: Dirty DTO vs Clean UseCase<br><br>**Labels to Render**:<br>- DTO: "API DTO (Muddy)"<br>- UseCase: "UseCase (Clean Carpet)"<br>- Action: "Take Off Boots"<br>- Request: "Request (Clean Socks)"<br><br>**Visual Details**:<br>1. Core Concept: DTO is dirty from the outside world.<br>2. Metaphor: Entering a Japanese house.<br>   - DTO is a muddy boot.<br>   - UseCase is a clean tatami/carpet.<br>   - You must take off the boot (Convert) and wear clean socks (Request) to enter.<br>3. Action: Removing dirty item.<br>4. Layout: Transition scene. | ## 1) ã©ã†ã—ã¦åˆ†ã‘ã‚‹ã®ï¼ŸğŸ¤”ğŸ’­ï¼ˆè¶…ã–ã£ãã‚Šçµè«–ï¼‰ |
| 528 | docs/clean_cs_study_030.md | clean_cs_study_030_trio_characters.png | ./picture/clean_cs_study_030_trio_characters.png | **Theme**: The Trio of Data<br><br>**Labels to Render**:<br>- DTO: "API DTO (Delivery)"<br>- Request: "Request (Butler)"<br>- Domain: "Domain (King)"<br>- Item: "Data"<br><br>**Visual Details**:<br>1. Core Concept: Three roles.<br>2. Metaphor: Characters.<br>   - DTO: Delivery guy with a cardboard box (Outer).<br>   - Request: Butler with a silver platter (Inner).<br>   - Domain: King receiving the item (Core).<br>3. Action: Passing the item.<br>4. Layout: Lineup. | ## 2) ä»Šæ—¥ã®ä¸»å½¹3äººğŸ™ï¼ˆã“ã®3ã¤ã‚’åˆ†ã‘ã‚‹ï¼ï¼‰ |
| 529 | docs/clean_cs_study_030.md | clean_cs_study_030_puppet_usecase.png | ./picture/clean_cs_study_030_puppet_usecase.png | **Theme**: Puppet UseCase<br><br>**Labels to Render**:<br>- Puppeteer: "API DTO"<br>- Puppet: "UseCase"<br>- String: "Dependency"<br>- Movement: "Uncontrolled"<br><br>**Visual Details**:<br>1. Core Concept: Dependency makes UseCase fragile.<br>2. Metaphor: A marionette.<br>   - UseCase is a puppet.<br>   - API DTO is the puppeteer pulling the strings.<br>   - When DTO moves (changes), UseCase is forced to move jerkily.<br>3. Action: Manipulation.<br>4. Layout: Control scene. | ## 3) â€œåˆ†ã‘ãªã„â€ã¨ã©ã†å£Šã‚Œã‚‹ï¼ŸğŸ¥²ï¼ˆNGä¾‹ï¼‰ |
| 530 | docs/clean_cs_study_030.md | clean_cs_study_030_relay_race.png | ./picture/clean_cs_study_030_relay_race.png | **Theme**: Data Relay Race<br><br>**Labels to Render**:<br>- Runner 1: "HTTP"<br>- Baton 1: "DTO"<br>- Zone: "Adapter (Convert)"<br>- Runner 2: "Request"<br>- Goal: "Domain"<br><br>**Visual Details**:<br>1. Core Concept: Handover and conversion.<br>2. Metaphor: Relay race.<br>   - Runner 1 (HTTP) hands "DTO" baton.<br>   - In the "Adapter Zone", the baton is swapped for a "Request" baton.<br>   - Runner 2 runs towards the "Domain" goal.<br>3. Action: Relay.<br>4. Layout: Track view. | ## 4) OKã®å½¢âœ…ï¼ˆä»Šæ—¥ã®ã‚´ãƒ¼ãƒ«ï¼‰ |
| 531 | docs/clean_cs_study_030.md | clean_cs_study_030_converter_workshop.png | ./picture/clean_cs_study_030_converter_workshop.png | **Theme**: Converter Workshop<br><br>**Labels to Render**:<br>- Shop: "Adapter Workshop"<br>- Input: "Raw DTO"<br>- Worker: "ToRequest()"<br>- Output: "Refined Request"<br><br>**Visual Details**:<br>1. Core Concept: Conversion logic placement.<br>2. Metaphor: A workshop.<br>   - Raw material (DTO) enters.<br>   - Worker (Extension Method) polishes and refines it.<br>   - Finished product (Request) leaves.<br>3. Action: Refining.<br>4. Layout: Workshop interior. | ### 5-3. å¤‰æ›ï¼ˆWebå´ã«ç½®ãã®ãŒåŸºæœ¬ï¼‰ğŸ” |
| 532 | docs/clean_cs_study_030.md | clean_cs_study_030_validation_checkpoints.png | ./picture/clean_cs_study_030_validation_checkpoints.png | **Theme**: Two Checkpoints<br><br>**Labels to Render**:<br>- Checkpoint 1: "Adapter (Format)"<br>- Checkpoint 2: "Domain (Rule)"<br>- Traveler: "Data"<br>- Guard 1: "Ticket Check"<br>- Guard 2: "Health Check"<br><br>**Visual Details**:<br>1. Core Concept: Separation of validation concerns.<br>2. Metaphor: Border control.<br>   - Checkpoint 1 (Adapter): Checking passport validity (Format).<br>   - Checkpoint 2 (Domain): Medical screening (Business Rule).<br>3. Action: Checking.<br>4. Layout: Sequential gates. | ## 6) ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã©ã“ã§ã‚„ã‚‹ã®ï¼ŸğŸ›‘âœ¨ï¼ˆè¶…å¤§äº‹ï¼‰ |
| 533 | docs/clean_cs_study_031.md | clean_cs_study_031_three_models.png | ./picture/clean_cs_study_031_three_models.png | **Theme**: Three Models Separation<br><br>**Labels to Render**:<br>- Box 1: "ResponseModel (Fact)"<br>- Box 2: "ViewModel (UI)"<br>- Box 3: "API DTO (Contract)"<br>- UseCase: "UseCase"<br>- Presenter: "Presenter"<br><br>**Visual Details**:<br>1. Core Concept: Distinct roles of the three models.<br>2. Metaphor: Three distinct containers.<br>   - Box 1: Plain cardboard (ResponseModel) held by UseCase.<br>   - Box 2: Colorful gift box (ViewModel) held by Presenter.<br>   - Box 3: Sealed metal case (API DTO) ready for shipping.<br>3. Action: Handover.<br>4. Layout: Left to Right flow. | ## 1) ã¾ãšã¯è¶…ã–ã£ãã‚Šï¼š3ã¤ã®â€œãƒ¢ãƒ‡ãƒ«â€ã‚’åˆ†ã‘ã‚‹ç†ç”± ğŸ§ ğŸ’¡ |
| 534 | docs/clean_cs_study_031.md | clean_cs_study_031_presenter_translator.png | ./picture/clean_cs_study_031_presenter_translator.png | **Theme**: Presenter as Translator<br><br>**Labels to Render**:<br>- UseCase: "UseCase (Internal)"<br>- Presenter: "Presenter (Translator)"<br>- Web: "Web (External)"<br>- Chat: "Domain -> HTTP"<br><br>**Visual Details**:<br>1. Core Concept: Presenter translates internal language to external.<br>2. Metaphor: A translation booth.<br>   - UseCase speaks "Domain Language".<br>   - Presenter sits in the booth and translates it to "HTTP Language".<br>   - Presenter is focused on translation, not business logic.<br>3. Action: Translating.<br>4. Layout: Booth view. | ### ãƒ«ãƒ¼ãƒ«7ï¼šPresenterã¯â€œç¿»è¨³å°‚é–€â€ğŸ”„ |
| 535 | docs/clean_cs_study_031.md | clean_cs_study_031_unified_result_box.png | ./picture/clean_cs_study_031_unified_result_box.png | **Theme**: Unified Presenter Result<br><br>**Labels to Render**:<br>- Box: "PresenterResult"<br>- Slot 1: "Success (Value)"<br>- Slot 2: "Failure (ProblemDetails)"<br>- Controller: "Controller"<br><br>**Visual Details**:<br>1. Core Concept: Unified return type for Success and Failure.<br>2. Metaphor: A standard shipping container.<br>   - It has a slot for "Success Payload" (Green) and "Failure Payload" (Red).<br>   - Regardless of content, the container shape is the same.<br>   - Controller handles the container easily.<br>3. Action: Handling.<br>4. Layout: Object view. | ### 3-2) Presenterï¼šViewModel ã¨ â€œçµ±ä¸€ã•ã‚ŒãŸçµæœâ€ ã‚’ä½œã‚‹ ğŸ¤âœ¨ |
| 536 | docs/clean_cs_study_031.md | clean_cs_study_031_problemdetails_form.png | ./picture/clean_cs_study_031_problemdetails_form.png | **Theme**: ProblemDetails Form<br><br>**Labels to Render**:<br>- Form: "ProblemDetails"<br>- Field 1: "Type"<br>- Field 2: "Title"<br>- Field 3: "Status"<br>- Field 4: "Detail"<br>- Stamp: "RFC 9457"<br><br>**Visual Details**:<br>1. Core Concept: Standard error format.<br>2. Metaphor: A standardized government form.<br>   - Fields are clearly labeled: Type, Title, Status, Detail.<br>   - Stamped with "RFC 9457" indicating compliance.<br>3. Action: Displaying.<br>4. Layout: Document close-up. | ## 4) â€œæœ€æ–°ã®æ¨ã—â€ã‚¨ãƒ©ãƒ¼å½¢å¼ï¼šProblemDetails ğŸ§¯âœ¨ |
| 537 | docs/clean_cs_study_031.md | clean_cs_study_031_entity_leak.png | ./picture/clean_cs_study_031_entity_leak.png | **Theme**: Entity Leak Accident<br><br>**Labels to Render**:<br>- API: "API Response"<br>- Leak: "Domain Entity"<br>- Danger: "Internal Logic Exposed"<br>- Stop: "Stop!"<br><br>**Visual Details**:<br>1. Core Concept: Domain Entity leaking to API.<br>2. Metaphor: A breach in a pipe.<br>   - The "API Response" pipe has a crack.<br>   - "Domain Entity" (Glowing liquid) is leaking out.<br>   - Warning signs "Internal Logic Exposed".<br>3. Action: Leaking.<br>4. Layout: Warning scene. | ### äº‹æ•…2ï¼šPresenterãŒDomain Entityã‚’ãã®ã¾ã¾è¿”ã™ğŸ§Ÿâ€â™€ï¸ |
| 538 | docs/clean_ts_study_014.md | clean_ts_study_014_result_pattern.png | ./picture/clean_ts_study_014_result_pattern.png | **Theme**: Result Pattern (Ok/Err) Container<br><br>**Labels to Render**:<br>- Result: "Result<T, E>"<br>- Ok: "Ok (Success)"<br>- Err: "Err (Failure)"<br>- Value: "Value"<br>- Error: "Error"<br><br>**Visual Details**:<br>1. Core Concept: A single container type that can hold either Success or Failure, but never both.<br>2. Metaphor: A split box or toggle switch.<br>   - Left Side (Green): "Ok" compartment containing a glowing "Value".<br>   - Right Side (Red): "Err" compartment containing a dark "Error" object.<br>   - A slider indicates only one side can be active at a time.<br>3. Action: Containing result.<br>4. Layout: Split view. | ## 3) Resultå‹ã‚’1ã¤æ±ºã‚ã‚ˆã†ğŸ§¯âœ¨ï¼ˆå¤±æ•—ã®æˆ»ã—æ–¹ã‚’çµ±ä¸€ï¼‰ |
| 539 | docs/clean_ts_study_014.md | clean_ts_study_014_usecase_interface.png | ./picture/clean_ts_study_014_usecase_interface.png | **Theme**: UseCase Interface Contract<br><br>**Labels to Render**:<br>- Interface: "UseCase<Req, Res, Fail>"<br>- Method: "execute(request)"<br>- Return: "Promise<Result>"<br>- Consistency: "çµ±ä¸€ (Consistent)"<br><br>**Visual Details**:<br>1. Core Concept: A standard interface ensures all UseCases look the same.<br>2. Metaphor: A universal socket or connector.<br>   - The Interface is a specific shape (Socket).<br>   - Multiple different plugs (UseCases) all fit into this same socket.<br>   - Highlighting the "execute" method as the connection point.<br>3. Action: Connecting.<br>4. Layout: Connector view. | ### 4-1. ã€ŒUseCaseã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€ã‚’çµ±ä¸€ã™ã‚‹ğŸ›ï¸ |
| 540 | docs/clean_ts_study_014.md | clean_ts_study_014_model_separation.png | ./picture/clean_ts_study_014_model_separation.png | **Theme**: Separation of Models<br><br>**Labels to Render**:<br>- Request: "Request (In)"<br>- Response: "Response (Out)"<br>- Failure: "Failure (Error)"<br>- Clean: "Separated"<br><br>**Visual Details**:<br>1. Core Concept: Distinct models for distinct purposes.<br>2. Metaphor: Three separate, clearly labeled bins or trays.<br>   - Bin 1 (Blue): "Request" containing input data.<br>   - Bin 2 (Green): "Response" containing output data.<br>   - Bin 3 (Red): "Failure" containing error types.<br>   - No mixing allowed.<br>3. Action: Sorting/Separating.<br>4. Layout: Three distinct objects. | ### 5-1. Request / Response / Failure ã‚’åˆ†ã‘ã¦ç½®ãğŸ“¦ğŸ“Œ |
| 541 | docs/clean_ts_study_014.md | clean_ts_study_014_interactor_anatomy.png | ./picture/clean_ts_study_014_interactor_anatomy.png | **Theme**: Anatomy of Interactor Class<br><br>**Labels to Render**:<br>- Class: "Interactor Class"<br>- Constructor: "constructor(Port)"<br>- Method: "execute(Request)"<br>- Logic: "Business Logic"<br><br>**Visual Details**:<br>1. Core Concept: The internal structure of an Interactor.<br>2. Metaphor: An X-ray or blueprint of a machine (Interactor).<br>   - Input Slot 1: "Constructor" receiving a "Port" tool.<br>   - Input Slot 2: "execute" receiving a "Request" envelope.<br>   - Internal Gears: "Business Logic" processing the request using the tool.<br>3. Action: Processing.<br>4. Layout: Blueprint style. | ### 5-3. Interactorï¼ˆå®Ÿè¡Œå½¹ï¼‰ã®å‹ã‚’å®Œæˆã•ã›ã‚‹ğŸ¬âœ… |
| 542 | docs/clean_ts_study_014.md | clean_ts_study_014_class_vs_func.png | ./picture/clean_ts_study_014_class_vs_func.png | **Theme**: Class vs Function Interactor<br><br>**Labels to Render**:<br>- Class: "Class (Explicit)"<br>- Function: "Function (Simple)"<br>- Dependency: "Dependency"<br>- Visible: "Visible"<br><br>**Visual Details**:<br>1. Core Concept: Comparison of two implementation styles.<br>2. Metaphor: Comparison.<br>   - Class: A structured building with a clear "Reception" (Constructor) where dependencies are handed over. Visible and organized.<br>   - Function: A simple tool or lightweight drone. Fast but dependencies might be hidden or passed differently.<br>3. Action: Comparison.<br>4. Layout: Split view. | ## 6) ã‚¯ãƒ©ã‚¹ï¼Ÿé–¢æ•°ï¼Ÿã©ã£ã¡ãŒã„ã„ã®ï¼ŸğŸ¤”âœ¨ |
| 543 | docs/clean_ts_study_014.md | clean_ts_study_014_folder_structure.png | ./picture/clean_ts_study_014_folder_structure.png | **Theme**: Organized Folder Structure<br><br>**Labels to Render**:<br>- Folder: "create-task"<br>- File 1: "Models.ts"<br>- File 2: "Errors.ts"<br>- File 3: "Interactor.ts"<br>- Tidy: "Organized"<br><br>**Visual Details**:<br>1. Core Concept: Clean file organization.<br>2. Metaphor: A neat filing cabinet or folder tree.<br>   - The main folder "create-task" is open.<br>   - Inside, three distinct files are filed neatly: Models, Errors, Interactor.<br>   - No loose papers.<br>3. Action: Organization.<br>4. Layout: Tree view. | ## 7) å‘½åã¨é…ç½®ãƒ«ãƒ¼ãƒ«ï¼ˆè¿·å­ã‚¼ãƒ­ã®ãŸã‚ï¼‰ğŸ—ºï¸ğŸ§­ |
| 544 | docs/clean_ts_study_015.md | clean_ts_study_015_forbidden_items.png | ./picture/clean_ts_study_015_forbidden_items.png | **Theme**: Forbidden Items in Request<br><br>**Labels to Render**:<br>- Bin: "Request Model"<br>- Safe: "UseCase Data (String/Int)"<br>- Trash: "HTTP (req/res)"<br>- Trash: "DB (Record/Row)"<br><br>**Visual Details**:<br>1. Core Concept: Filtering out technical implementation details.<br>2. Metaphor: A clean white box (Request Model) with a security filter.<br>   - "UseCase Data" (Blue Gems) are allowed in.<br>   - "HTTP objects" (Green Slime) and "DB Rows" (Rusty Gears) are being bounced off or thrown into a trash bin.<br>3. Action: Filtering/Rejection.<br>4. Layout: Security check. | ## 3) çµ¶å¯¾ãƒ«ãƒ¼ãƒ«ï¼šRequestã«å…¥ã‚Œã¡ã‚ƒãƒ€ãƒ¡ãªã‚‚ã®ğŸš«ğŸ§¨ |
| 545 | docs/clean_ts_study_015.md | clean_ts_study_015_immutable_request.png | ./picture/clean_ts_study_015_immutable_request.png | **Theme**: Immutable Request Object<br><br>**Labels to Render**:<br>- Object: "Request (Readonly)"<br>- Tool: "Mutation (Write)"<br>- Effect: "No Change"<br>- Material: "Ice / Diamond"<br><br>**Visual Details**:<br>1. Core Concept: Request object cannot be modified after creation.<br>2. Metaphor: An object made of solid diamond or ice.<br>   - A hammer labeled "Mutation" strikes it.<br>   - The object remains perfectly intact, no scratches.<br>   - Sparks fly from the impact.<br>3. Action: Resistance to change.<br>4. Layout: Impact close-up. | ### ã‚³ãƒ„4ï¼š**Requestã¯åŸºæœ¬ immutableï¼ˆreadonlyï¼‰ã«å¯„ã›ã‚‹**ğŸ§Š |
| 546 | docs/clean_ts_study_015.md | clean_ts_study_015_brand_type.png | ./picture/clean_ts_study_015_brand_type.png | **Theme**: Brand Type Safety<br><br>**Labels to Render**:<br>- String: "String (Plain)"<br>- Brand: "TaskId (Branded)"<br>- Lock: "TaskId Lock"<br>- Key 1: "Plain Key"<br>- Key 2: "Branded Key"<br><br>**Visual Details**:<br>1. Core Concept: Distinguished types prevent accidental mixing.<br>2. Metaphor: Keys and Locks.<br>   - "Plain Key" (String) looks similar but lacks the special "Brand" mark. It doesn't fit the "TaskId Lock".<br>   - "Branded Key" (TaskId) has a glowing mark and fits perfectly.<br>3. Action: Fitting/Rejection.<br>4. Layout: Lock and Key. | ### 5-1. å‹ã®åœŸå°ï¼šBrandå‹ã‚’ç”¨æ„ğŸ§·âœ¨ |
| 547 | docs/clean_ts_study_015.md | clean_ts_study_015_request_examples.png | ./picture/clean_ts_study_015_request_examples.png | **Theme**: Request Model Examples<br><br>**Labels to Render**:<br>- Create: "Create (Title)"<br>- Complete: "Complete (TaskId)"<br>- List: "List (Filter)"<br>- Simple: "Minimal"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing specific request structures.<br>2. Metaphor: Three distinct, small, neat parcels.<br>   - Parcel 1 (Create): Contains only a "Title" card.<br>   - Parcel 2 (Complete): Contains only a "TaskId" card.<br>   - Parcel 3 (List): Contains only a "Filter" card.<br>   - Highlighting their simplicity.<br>3. Action: Displaying content.<br>4. Layout: Three items row. | ### 5-2. CreateTaskRequestğŸ“¥ğŸ—’ï¸ |
| 548 | docs/clean_ts_study_015.md | clean_ts_study_015_controller_refill.png | ./picture/clean_ts_study_015_controller_refill.png | **Theme**: Controller Refilling Process<br><br>**Labels to Render**:<br>- Raw: "Raw Input (Unknown)"<br>- Worker: "Controller"<br>- New: "Request (Trusted)"<br>- Action: "Refill / Sanitize"<br><br>**Visual Details**:<br>1. Core Concept: Controller converting untrusted input to trusted Request.<br>2. Metaphor: A refilling station.<br>   - Input: A muddy bucket labeled "Raw Input".<br>   - Worker (Controller): Carefully pouring the content through a filter/funnel into a clean glass bottle labeled "Request".<br>   - Result: The liquid in the bottle is clear.<br>3. Action: Pouring/Refilling.<br>4. Layout: Process flow. | ## 6) Requestã‚’ä½œã‚‹å´ï¼ˆå¤–å´ï¼‰ã§ã®â€œè©°ã‚æ›¿ãˆâ€ãƒ«ãƒ¼ãƒ«ğŸ§ƒâœ¨ |
| 549 | docs/clean_ts_study_015.md | clean_ts_study_015_satisfies_check.png | ./picture/clean_ts_study_015_satisfies_check.png | **Theme**: satisfies Operator Check<br><br>**Labels to Render**:<br>- Object: "Object Literal"<br>- Mold: "Type (Interface)"<br>- Action: "satisfies"<br>- Fit: "Perfect Match"<br><br>**Visual Details**:<br>1. Core Concept: Verifying an object matches a type without widening.<br>2. Metaphor: A quality control check with a mold.<br>   - An object is pressed into a mold labeled "satisfies Request".<br>   - It fits perfectly.<br>   - A green light indicates "Safe".<br>3. Action: Checking fit.<br>4. Layout: Mold close-up. | ### ãƒ«ãƒ¼ãƒ«âœ… |
| 550 | docs/clean_ts_study_016.md | clean_ts_study_016_response_concept.png | ./picture/clean_ts_study_016_response_concept.png | **Theme**: Response Concept<br><br>**Labels to Render**:<br>- Object: "Response"<br>- Content: "Raw Data (Result)"<br>- No UI: "No UI Format"<br>- No HTTP: "No HTTP Headers"<br><br>**Visual Details**:<br>1. Core Concept: Response contains the raw result of the UseCase, untainted by UI/HTTP.<br>2. Metaphor: A clean, plain report card or clipboard.<br>   - Contains data fields: "Score: 100", "Result: Pass".<br>   - Does NOT contain flashy stickers, colors (UI), or postage stamps (HTTP).<br>3. Action: Displaying facts.<br>4. Layout: Document close-up. | ## ã¾ãšçµè«–ï¼šResponseã£ã¦ä½•ï¼ŸğŸ¤”ğŸ“¦ |
| 551 | docs/clean_ts_study_016.md | clean_ts_study_016_bad_response.png | ./picture/clean_ts_study_016_bad_response.png | **Theme**: Bad Response Examples<br><br>**Labels to Render**:<br>- Box: "Polluted Response"<br>- Sticker 1: "HTTP 201"<br>- Sticker 2: "SQL Row"<br>- Sticker 3: "UI Button"<br>- Reaction: "Heavy / Confused"<br><br>**Visual Details**:<br>1. Core Concept: A Response object polluted with external concerns.<br>2. Metaphor: A box covered in inappropriate stickers and junk.<br>   - "HTTP 201" sticker.<br>   - "SQL Row" rusty gear attached.<br>   - "UI Button" glued on.<br>   - It looks heavy and hard to use.<br>3. Action: Overloading.<br>4. Layout: Object focus. | ## â€œã‚„ã£ã¡ã‚ƒãƒ€ãƒ¡Responseâ€ã‚ã‚‹ã‚ã‚‹ğŸ˜‡ğŸ’¥ |
| 552 | docs/clean_ts_study_016.md | clean_ts_study_016_dto_layer.png | ./picture/clean_ts_study_016_dto_layer.png | **Theme**: Thin DTO vs Rich Entity<br><br>**Labels to Render**:<br>- Entity: "Entity (Rich Logic)"<br>- DTO: "DTO (Data Only)"<br>- Action: "Copy Data"<br>- Method: "No Methods"<br><br>**Visual Details**:<br>1. Core Concept: DTO is a lightweight data carrier, unlike the heavy Entity.<br>2. Metaphor: Comparison.<br>   - Entity: A complex robot with gears and tools (Methods).<br>   - DTO: A simple paper specification sheet showing the robot's stats (Data).<br>   - An arrow shows data being copied from Robot to Paper.<br>3. Action: Extracting data.<br>4. Layout: Side by side. | ## Responseç”¨ã®DTOï¼ˆå‡ºåŠ›ç”¨ãƒ‡ãƒ¼ã‚¿ï¼‰ã‚’ä½œã‚ã†ğŸ“¦âœ¨ |
| 553 | docs/clean_ts_study_016.md | clean_ts_study_016_response_examples.png | ./picture/clean_ts_study_016_response_examples.png | **Theme**: Response Examples (Create/Complete/List)<br><br>**Labels to Render**:<br>- Create: "Create (TaskDto)"<br>- Complete: "Complete (TaskDto)"<br>- List: "List (Items[], Total)"<br>- Content: "Minimal Data"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing the structure of specific responses.<br>2. Metaphor: Three distinct packages.<br>   - Create: A small box containing one "TaskDto".<br>   - Complete: A similar small box containing one "TaskDto".<br>   - List: A larger crate containing a stack of "TaskDto"s and a counter showing "Total".<br>3. Action: Displaying content.<br>4. Layout: Three items row. | ## CreateTaskResponse è¨­è¨ˆä¾‹â•ğŸ“ |
| 554 | docs/clean_ts_study_016.md | clean_ts_study_016_interactor_assembly.png | ./picture/clean_ts_study_016_interactor_assembly.png | **Theme**: Interactor Assembling Response<br><br>**Labels to Render**:<br>- Chef: "Interactor"<br>- Ingredient: "Entity Data"<br>- Box: "Response"<br>- No Cook: "No Formatting"<br><br>**Visual Details**:<br>1. Core Concept: Interactor packs data into Response without formatting.<br>2. Metaphor: A chef packing a bento box.<br>   - Chef (Interactor) takes raw ingredients (Entity Data).<br>   - Places them neatly into the box (Response).<br>   - Crucially, they are NOT cooking or garnishing (No UI Formatting).<br>3. Action: Packing.<br>4. Layout: Kitchen scene. | ## UseCaseå®Ÿè£…å´ã¯ã€ŒResponseã‚’çµ„ã¿ç«‹ã¦ã‚‹ã ã‘ã€ğŸ³ğŸ“¦ |
| 555 | docs/clean_ts_study_016.md | clean_ts_study_016_boundary_guard.png | ./picture/clean_ts_study_016_boundary_guard.png | **Theme**: Boundary Guard Checklist<br><br>**Labels to Render**:<br>- Guard: "Boundary Check"<br>- Box: "Response"<br>- Intruder: "HTTP Object"<br>- Stop: "Block"<br><br>**Visual Details**:<br>1. Core Concept: Ensuring no external dependencies leak into the Response.<br>2. Metaphor: A security checkpoint.<br>   - The Response box is on a conveyor belt.<br>   - A Guard scans it.<br>   - An "HTTP Object" trying to hide inside is detected and removed/blocked.<br>3. Action: Inspection.<br>4. Layout: Checkpoint scene. | ## Responseè¨­è¨ˆã®â€œå¢ƒç•Œâ€ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆğŸ§¼ğŸ›¡ï¸ |
| 556 | docs/clean_ts_study_017.md | clean_ts_study_017_port_examples.png | ./picture/clean_ts_study_017_port_examples.png | **Theme**: Examples of Ports<br><br>**Labels to Render**:<br>- Repository: "TaskRepository (Data)"<br>- ID: "IdGenerator (Identity)"<br>- Clock: "Clock (Time)"<br>- UseCase: "UseCase Needs"<br><br>**Visual Details**:<br>1. Core Concept: Identifying the capabilities UseCase needs.<br>2. Metaphor: A UseCase character holding a shopping list of needs.<br>   - Item 1: A cabinet icon (Repository).<br>   - Item 2: A tag icon (ID).<br>   - Item 3: A watch icon (Clock).<br>3. Action: Listing requirements.<br>4. Layout: Character with items. | ### Create / Complete / List ã®3ã¤ã§è€ƒãˆã‚‹ğŸ—’ï¸ |
| 557 | docs/clean_ts_study_017.md | clean_ts_study_017_repo_interface.png | ./picture/clean_ts_study_017_repo_interface.png | **Theme**: TaskRepository Interface<br><br>**Labels to Render**:<br>- Interface: "TaskRepository"<br>- Method 1: "save(Task)"<br>- Method 2: "findById(ID)"<br>- Method 3: "list()"<br>- Clean: "No SQL"<br><br>**Visual Details**:<br>1. Core Concept: Defining data access as an abstract capability.<br>2. Metaphor: A clean white scroll or contract.<br>   - It lists the methods clearly.<br>   - No technical jargon (SQL, Table) appears on the scroll.<br>3. Action: Static display.<br>4. Layout: Document close-up. | ### 1) TaskRepository PortğŸ—„ï¸ |
| 558 | docs/clean_ts_study_017.md | clean_ts_study_017_side_effect_ports.png | ./picture/clean_ts_study_017_side_effect_ports.png | **Theme**: Side-Effect Ports (ID & Clock)<br><br>**Labels to Render**:<br>- Random: "Random (Chaos)"<br>- Port: "Port (Control)"<br>- ID: "IdGenerator"<br>- Clock: "Clock"<br><br>**Visual Details**:<br>1. Core Concept: Controlling side effects via Ports.<br>2. Metaphor:<br>   - Without Port: A wild dice (Random) and a spinning clock (System Time).<br>   - With Port: A controlled dispenser for IDs and a stopwatch that can be paused (Clock Port).<br>3. Action: Taming chaos.<br>4. Layout: Split view. | ### 3) Clock Portâ° |
| 559 | docs/clean_ts_study_017.md | clean_ts_study_017_dependency_injection.png | ./picture/clean_ts_study_017_dependency_injection.png | **Theme**: Dependency Injection Mechanism<br><br>**Labels to Render**:<br>- UseCase: "UseCase"<br>- Slot: "Port Slot"<br>- Impl: "Implementation (Class)"<br>- Action: "Inject"<br><br>**Visual Details**:<br>1. Core Concept: UseCase defines the slot, Composition Root provides the implementation.<br>2. Metaphor: A game console (UseCase) with a cartridge slot (Port).<br>   - A cartridge (Implementation/Class) is being inserted into the slot.<br>   - The console doesn't care which cartridge (Real or Fake) is inserted, as long as it fits.<br>3. Action: Insertion.<br>4. Layout: Console close-up. | ## ã€Œã§ã‚‚TypeScriptã®interfaceã£ã¦å®Ÿä½“ãªã„ã‚ˆã­ï¼Ÿã€ğŸ¤”â¡ï¸OKï¼ |
| 560 | docs/clean_ts_study_017.md | clean_ts_study_017_checklist_scanner.png | ./picture/clean_ts_study_017_checklist_scanner.png | **Theme**: Dependency Scanner<br><br>**Labels to Render**:<br>- Scanner: "Dependency Check"<br>- File: "UseCase.ts"<br>- Green: "import Port (OK)"<br>- Red: "import DB (NG)"<br>- Red: "import Express (NG)"<br><br>**Visual Details**:<br>1. Core Concept: verifying clean dependencies.<br>2. Metaphor: A code scanner.<br>   - It highlights "import TaskRepository" in Green.<br>   - It highlights "import better-sqlite3" in Red with a warning beep.<br>3. Action: Scanning.<br>4. Layout: Screen view. | ## ä¾å­˜ãŒå®ˆã‚Œã¦ã‚‹ã‹ï¼Ÿãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆâœ…ğŸ§¼ |
| 561 | docs/clean_ts_study_017.md | clean_ts_study_017_refactoring_story.png | ./picture/clean_ts_study_017_refactoring_story.png | **Theme**: Refactoring Story (Port Extraction)<br><br>**Labels to Render**:<br>- Before: "Heavy UseCase"<br>- After: "Light UseCase"<br>- Object: "DB Logic"<br>- Port: "Port"<br><br>**Visual Details**:<br>1. Core Concept: Extracting heavy dependencies.<br>2. Metaphor:<br>   - Before: UseCase carrying a heavy rock labeled "DB Logic".<br>   - After: UseCase holding a light paper "Port". The rock is moved to a separate pile labeled "Adapter".<br>3. Action: Unburdening.<br>4. Layout: Before and After. | ### æ¼”ç¿’1ï¼šæ‚ªã„ä¾‹ã‚’PortåŒ–ã—ã¦æ•‘å‡ºğŸ§¯ |
| 562 | docs/clean_ts_study_018.md | clean_ts_study_018_data_flow.png | ./picture/clean_ts_study_018_data_flow.png | **Theme**: Data Flow Pipeline<br><br>**Labels to Render**:<br>- Input: "Request"<br>- Interactor: "Interactor"<br>- Output: "Response"<br>- Direction: "Flow"<br><br>**Visual Details**:<br>1. Core Concept: Linear data processing flow.<br>2. Metaphor: A clean pipeline.<br>   - "Request" enters the left side.<br>   - "Interactor" is the processing unit in the middle.<br>   - "Response" exits the right side.<br>   - Arrows show the direction clearly.<br>3. Action: Flowing.<br>4. Layout: Linear flow. | ## 2) ä»Šå›ã®ã‚´ãƒ¼ãƒ«ï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰ğŸ§ âœ¨ |
| 563 | docs/clean_ts_study_018.md | clean_ts_study_018_result_types.png | ./picture/clean_ts_study_018_result_types.png | **Theme**: Result Type Visualization<br><br>**Labels to Render**:<br>- Result: "Result<T, E>"<br>- OK: "Ok (Success)"<br>- Err: "Err (Failure)"<br>- Container: "Wrapper"<br><br>**Visual Details**:<br>1. Core Concept: A generic container that can be one of two states.<br>2. Metaphor: A coin or double-sided card.<br>   - Side A (Green): "Ok" with payload "T".<br>   - Side B (Red): "Err" with payload "E".<br>   - Only one side is visible/active at a time.<br>3. Action: Flipping/Showing state.<br>4. Layout: Object view. | ### 3-1. Result å‹ï¼ˆæˆåŠŸ/å¤±æ•—ã‚’çµ±ä¸€ï¼‰ğŸ­ |
| 564 | docs/clean_ts_study_018.md | clean_ts_study_018_error_types.png | ./picture/clean_ts_study_018_error_types.png | **Theme**: Error Classification<br><br>**Labels to Render**:<br>- Domain: "Domain Error"<br>- Tech: "Technical Error"<br>- Ex 1: "InvalidTitle"<br>- Ex 2: "PersistenceFailed"<br><br>**Visual Details**:<br>1. Core Concept: Distinguishing between domain logic errors and infrastructure errors.<br>2. Metaphor: Two different warning signs.<br>   - Sign 1 (Yellow): "InvalidTitle" (Rule violation).<br>   - Sign 2 (Red): "PersistenceFailed" (System crash/IO error).<br>3. Action: Displaying warnings.<br>4. Layout: Side by side. | ### 3-3. ã‚¨ãƒ©ãƒ¼å‹ï¼ˆå†…å´ã®è¨€è‘‰ã§ï¼‰âš ï¸ |
| 565 | docs/clean_ts_study_018.md | clean_ts_study_018_entity_guard.png | ./picture/clean_ts_study_018_entity_guard.png | **Theme**: Entity Guard (Factory)<br><br>**Labels to Render**:<br>- Guard: "Task.create()"<br>- Input: "Raw Data"<br>- Check: "Rule Check"<br>- Pass: "Task Instance"<br>- Block: "Error"<br><br>**Visual Details**:<br>1. Core Concept: The factory method acts as a gatekeeper enforcing rules.<br>2. Metaphor: A castle gate.<br>   - Raw Data tries to enter.<br>   - The Guard (Task.create) checks "Title length".<br>   - Valid data enters and becomes a Knight (Task Instance).<br>   - Invalid data is kicked out (Error).<br>3. Action: Guarding.<br>4. Layout: Gate scene. | ## 5) Entityï¼ˆTaskï¼‰å´ï¼šä¸­å¿ƒãƒ«ãƒ¼ãƒ«ã§ä½œã‚‹ â¤ï¸ğŸ§± |
| 566 | docs/clean_ts_study_018.md | clean_ts_study_018_interactor_steps.png | ./picture/clean_ts_study_018_interactor_steps.png | **Theme**: Interactor Execution Steps<br><br>**Labels to Render**:<br>- Step 1: "Trim Input"<br>- Step 2: "Create Entity"<br>- Step 3: "Save (Port)"<br>- Step 4: "Return Response"<br><br>**Visual Details**:<br>1. Core Concept: The sequential logic of the Interactor.<br>2. Metaphor: A numbered checklist or recipe.<br>   - 1. Prep ingredients (Trim).<br>   - 2. Cook dish (Entity).<br>   - 3. Store in fridge (Save).<br>   - 4. Serve to customer (Response).<br>3. Action: Following steps.<br>4. Layout: List or Step view. | ## 6) ã„ã‚ˆã„ã‚ˆæœ¬ä½“ï¼šCreateTaskInteractor ã‚’å®Ÿè£… âœ…ğŸ§© |
| 567 | docs/clean_ts_study_018.md | clean_ts_study_018_test_fakes.png | ./picture/clean_ts_study_018_test_fakes.png | **Theme**: Testing with Fakes<br><br>**Labels to Render**:<br>- Test: "Test Context"<br>- Interactor: "Interactor"<br>- Fake 1: "FakeRepo"<br>- Fake 2: "FixedClock"<br><br>**Visual Details**:<br>1. Core Concept: Verifying logic using fake dependencies.<br>2. Metaphor: A stage set.<br>   - Interactor is the actor.<br>   - The props are "FakeRepo" (Cardboard box) and "FixedClock" (Painted clock face).<br>   - The actor performs successfully despite the props being fake.<br>3. Action: Acting/Testing.<br>4. Layout: Stage view. | ## 7) ãƒ†ã‚¹ãƒˆã§ã€Œå·®ã—æ›¿ãˆå¯èƒ½ã€ã‚’ä½“æ„Ÿã—ã‚ˆğŸ§ªğŸ­ |
| 568 | docs/clean_ts_study_019.md | clean_ts_study_019_common_pitfalls.png | ./picture/clean_ts_study_019_common_pitfalls.png | **Theme**: Update UseCase Pitfalls<br><br>**Labels to Render**:<br>- Trap 1: "Double Click"<br>- Trap 2: "ID Not Found"<br>- Trap 3: "DB Failure"<br>- Trap 4: "New Date() in Logic"<br><br>**Visual Details**:<br>1. Core Concept: Common mistakes in update logic.<br>2. Metaphor: A path full of traps.<br>   - A mouse trap labeled "Double Click".<br>   - A hidden hole labeled "ID Not Found".<br>   - A falling rock "DB Failure".<br>   - A sticky glue patch "New Date()".<br>3. Action: Warning.<br>4. Layout: Path view. | ## æ›´æ–°ç³»UseCaseã®â€œã‚ã‚‹ã‚ã‚‹è½ã¨ã—ç©´â€å…ˆã«è¨€ã†ã­âš ï¸ğŸ˜‡ |
| 569 | docs/clean_ts_study_019.md | clean_ts_study_019_request_response.png | ./picture/clean_ts_study_019_request_response.png | **Theme**: Request and Response Structure<br><br>**Labels to Render**:<br>- Request: "Request (TaskId)"<br>- Response: "Response (Result)"<br>- Success: "Task (OK)"<br>- Failure: "Error (NG)"<br><br>**Visual Details**:<br>1. Core Concept: Input is simple ID, Output is Result type.<br>2. Metaphor:<br>   - Input: A small card with "ID".<br>   - Output: A box that opens to reveal either a Golden Task (Success) or a Red Error Card (Failure).<br>3. Action: Input/Output.<br>4. Layout: Left to Right flow. | ## 1) Request / Response ã‚’ç”¨æ„ã™ã‚‹ğŸ“¥ğŸ“¤ |
| 570 | docs/clean_ts_study_019.md | clean_ts_study_019_entity_state_transition.png | ./picture/clean_ts_study_019_entity_state_transition.png | **Theme**: Entity State Transition (Complete)<br><br>**Labels to Render**:<br>- State 1: "Incomplete (Null)"<br>- Action: "complete(now)"<br>- State 2: "Completed (Date)"<br>- Guard: "Already Completed?"<br><br>**Visual Details**:<br>1. Core Concept: State transition logic inside Entity.<br>2. Metaphor: A toggle switch.<br>   - Initially OFF (Incomplete).<br>   - Hand presses "complete".<br>   - Switch flips to ON (Completed).<br>   - If pressed again, a shield "Guard" prevents action or returns error.<br>3. Action: Switching.<br>4. Layout: Process flow. | ## 3) Entity å´ã«ã€Œå®Œäº†ã™ã‚‹ã€ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚‹å‰æã«ã™ã‚‹ğŸ§ âœ… |
| 571 | docs/clean_ts_study_019.md | clean_ts_study_019_interactor_logic.png | ./picture/clean_ts_study_019_interactor_logic.png | **Theme**: CompleteTask Interactor Logic<br><br>**Labels to Render**:<br>- 1: "Find (Repo)"<br>- 2: "Update (Entity)"<br>- 3: "Save (Repo)"<br>- 4: "Return"<br><br>**Visual Details**:<br>1. Core Concept: The standard "Get -> Mod -> Save" cycle.<br>2. Metaphor: A workshop process.<br>   - Step 1: Retrieve item from shelf (Find).<br>   - Step 2: Stamp item "Completed" (Update).<br>   - Step 3: Put item back on shelf (Save).<br>   - Step 4: Report status (Return).<br>3. Action: Cycle.<br>4. Layout: Circular or Linear flow. | ## 4) ã„ã‚ˆã„ã‚ˆ CompleteTaskInteractor ã‚’å®Ÿè£…ã™ã‚‹ï¼ğŸ”âœ…âœ¨ |
| 572 | docs/clean_ts_study_019.md | clean_ts_study_019_idempotency_strategy.png | ./picture/clean_ts_study_019_idempotency_strategy.png | **Theme**: Idempotency Strategy (Strict vs Idempotent)<br><br>**Labels to Render**:<br>- Strict: "Strict (Error)"<br>- Idempotent: "Idempotent (Success)"<br>- Input: "Complete (Again)"<br>- Response: "Result"<br><br>**Visual Details**:<br>1. Core Concept: How to handle repeated requests.<br>2. Metaphor: Two different doors.<br>   - Door A (Strict): Bounces the second request with a red "Error" sign.<br>   - Door B (Idempotent): Welcomes the second request with a green "OK" sign (even though nothing changed).<br>3. Action: Handling duplicate.<br>4. Layout: Split view. | ## 5) â€œäºŒé‡å®Œäº†â€ã¯ã©ã†ã™ã‚‹ã®ãŒè‰¯ã„ã®ï¼ŸğŸ–±ï¸ğŸ–±ï¸ğŸ¤” |
| 573 | docs/clean_ts_study_019.md | clean_ts_study_019_test_setup.png | ./picture/clean_ts_study_019_test_setup.png | **Theme**: Test Setup with Fakes<br><br>**Labels to Render**:<br>- Test: "Test Case"<br>- Interactor: "Interactor"<br>- FakeRepo: "FakeRepo (Map)"<br>- FakeClock: "FakeClock (Fixed)"<br><br>**Visual Details**:<br>1. Core Concept: Testing with in-memory doubles.<br>2. Metaphor: A laboratory bench.<br>   - Interactor is connected to a transparent box "FakeRepo" (showing items inside).<br>   - Interactor is connected to a stopped clock "FakeClock".<br>   - A scientist (Test) observes the output.<br>3. Action: Testing.<br>4. Layout: Lab scene. | ## 6) ãƒ†ã‚¹ãƒˆï¼šPortå·®ã—æ›¿ãˆã§ç§’é€Ÿã§æ¤œè¨¼ğŸ§ªğŸ­âœ¨ |
| 574 | docs/clean_ts_study_020.md | clean_ts_study_020_request_criteria.png | ./picture/clean_ts_study_020_request_criteria.png | **Theme**: Request Criteria Box<br><br>**Labels to Render**:<br>- Request: "ListTasksRequest"<br>- Filter 1: "status: active"<br>- Filter 2: "optional: all"<br>- Content: "Criteria Only"<br><br>**Visual Details**:<br>1. Core Concept: Request object holding filter criteria.<br>2. Metaphor: A filter box or search form.<br>   - A card labeled "status" with a dropdown set to "active".<br>   - Other slots are optional/empty.<br>   - Clean and minimal.<br>3. Action: Setting filters.<br>4. Layout: Object close-up. | ### 3.1 Requestï¼ˆå…¥åŠ›ï¼‰ğŸ“¥ |
| 575 | docs/clean_ts_study_020.md | clean_ts_study_020_dto_list.png | ./picture/clean_ts_study_020_dto_list.png | **Theme**: List Response DTO<br><br>**Labels to Render**:<br>- Response: "ListTasksResponse"<br>- List: "items: DTO[]"<br>- Count: "total: 10"<br>- Item: "TaskDto"<br><br>**Visual Details**:<br>1. Core Concept: Response containing a list of DTOs and metadata.<br>2. Metaphor: A delivery crate.<br>   - Inside, there is a neat stack of identical boxes "TaskDto".<br>   - On the side, a counter displays "Total: 10".<br>3. Action: Containing list.<br>4. Layout: Package view. | ### 3.2 Responseï¼ˆå‡ºåŠ›ï¼‰ğŸ“¤ |
| 576 | docs/clean_ts_study_020.md | clean_ts_study_020_repo_criteria.png | ./picture/clean_ts_study_020_repo_criteria.png | **Theme**: Repository Criteria Interface<br><br>**Labels to Render**:<br>- Repo: "TaskRepository"<br>- Input: "Criteria (Filter)"<br>- Output: "Promise<Task[]>"<br>- Method: "list(criteria)"<br><br>**Visual Details**:<br>1. Core Concept: Repository accepts structured criteria object.<br>2. Metaphor: A smart library search terminal.<br>   - Input slot accepts a "Criteria Card".<br>   - The terminal displays a list of "Task Books" as output.<br>3. Action: Searching.<br>4. Layout: Interaction view. | ## 4) Portï¼ˆTaskRepositoryï¼‰ã« â€œlistèƒ½åŠ›â€ ã‚’è¶³ã™ğŸ”Œâœ¨ |
| 577 | docs/clean_ts_study_020.md | clean_ts_study_020_interactor_read_only.png | ./picture/clean_ts_study_020_interactor_read_only.png | **Theme**: Read-Only Implementation<br><br>**Labels to Render**:<br>- Interactor: "ListTasksInteractor"<br>- Action: "Read (No Touch)"<br>- Gloves: "White Gloves"<br>- Object: "Task Data"<br><br>**Visual Details**:<br>1. Core Concept: Query UseCase should not modify state.<br>2. Metaphor: A museum curator wearing white gloves.<br>   - Examining a "Task Artifact" (Reading data).<br>   - Carefully NOT touching it with bare hands or changing it.<br>3. Action: Observing.<br>4. Layout: Character focus. | ## 5) ListTasksInteractor ã‚’å®Ÿè£…ã™ã‚‹ğŸ¬âœ¨ï¼ˆæœ¬ä½“ï¼‰ |
| 578 | docs/clean_ts_study_020.md | clean_ts_study_020_pitfall_side_effect.png | ./picture/clean_ts_study_020_pitfall_side_effect.png | **Theme**: Side Effect Pitfall<br><br>**Labels to Render**:<br>- UseCase: "ListTasks"<br>- Action: "Read"<br>- Accident: "Update/Write"<br>- Warning: "Side Effect!"<br><br>**Visual Details**:<br>1. Core Concept: Accidental state change during a read operation.<br>2. Metaphor: A clumsy character.<br>   - While reading a book (ListTasks), they accidentally spill coffee on it (Update/Side Effect).<br>   - A red warning light flashes.<br>3. Action: Accident.<br>4. Layout: Scene view. | ### âŒ 3) â€œã¤ã„ã§ã«â€ å®Œäº†æœŸé™ãƒã‚§ãƒƒã‚¯ã—ã¦æ›´æ–°ã™ã‚‹ |
| 579 | docs/clean_ts_study_020.md | clean_ts_study_020_extension_paging.png | ./picture/clean_ts_study_020_extension_paging.png | **Theme**: Paging Extension<br><br>**Labels to Render**:<br>- Book: "Task List"<br>- Tab 1: "Page 1"<br>- Tab 2: "Page 2"<br>- Action: "Limit / Offset"<br><br>**Visual Details**:<br>1. Core Concept: Pagination logic.<br>2. Metaphor: A thick book with tabs.<br>   - A hand opening the book specifically to "Page 2".<br>   - Ruler showing "Limit: 10 lines".<br>3. Action: Paging.<br>4. Layout: Book close-up. | ## 7) ã¡ã‚‡ã„æ‹¡å¼µï¼ˆã§ããŸã‚‰å¼·ã„ï¼‰ğŸ’ªâœ¨ |
| 580 | docs/ab_tcb_cs_index.md | ab_tcb_cs_index_ddd_concept.png | ./picture/ab_tcb_cs_index_ddd_concept.png | **Theme**: DDD Bridging Business and Code<br><br>**Labels to Render**:<br>- Business: "æ¥­å‹™ (Business)"<br>- Code: "ã‚³ãƒ¼ãƒ‰ (Code)"<br>- DDD: "DDD"<br>- Common: "å…±é€šè¨€èª"<br><br>**Visual Details**:<br>1. Core Concept: DDD connects two worlds.<br>2. Metaphor: A bridge connecting two islands.<br>   - Left Island: "Business" (People talking, documents).<br>   - Right Island: "Code" (Computer screens, binary).<br>   - The Bridge: "DDD" allowing "Common Language" to flow.<br>3. Action: Connection.<br>4. Layout: Bridge view. | ### ç¬¬3ç« ï¼šDDDã£ã¦ãªã«ï¼Ÿã“ã‚ããªã„ç‰ˆğŸ§ |
| 581 | docs/ab_tcb_cs_index.md | ab_tcb_cs_index_aggregate.png | ./picture/ab_tcb_cs_index_aggregate.png | **Theme**: Aggregate Consistency Boundary<br><br>**Labels to Render**:<br>- Aggregate: "é›†ç´„ (Aggregate)"<br>- Root: "Root"<br>- Item: "Item"<br>- Boundary: "æ•´åˆæ€§å¢ƒç•Œ"<br><br>**Visual Details**:<br>1. Core Concept: Grouping objects to ensure consistency.<br>2. Metaphor: A transparent sphere or bubble enclosing related objects.<br>   - Inside: A main object (Root) and smaller objects (Items).<br>   - The bubble represents the "Consistency Boundary".<br>3. Action: Protection/Grouping.<br>4. Layout: Object close-up. | ### ç¬¬11ç« ï¼šé›†ç´„ï¼ˆAggregateï¼‰ã£ã¦ãªã«ï¼ŸğŸŒ³ |
| 582 | docs/ab_tcb_cs_index.md | ab_tcb_cs_index_aggregate_root.png | ./picture/ab_tcb_cs_index_aggregate_root.png | **Theme**: Aggregate Root Access<br><br>**Labels to Render**:<br>- External: "å¤–éƒ¨ (External)"<br>- Root: "Root (å…¥å£)"<br>- Internal: "Internal"<br>- Block: "Block"<br><br>**Visual Details**:<br>1. Core Concept: External access is only allowed through the Root.<br>2. Metaphor: A walled garden with a single gate.<br>   - The Gate is the "Root".<br>   - External arrows can only enter through the Gate.<br>   - Arrows trying to jump the wall to reach "Internal" flowers are blocked.<br>3. Action: Guarding/Filtering.<br>4. Layout: Gate view. | ### ç¬¬12ç« ï¼šé›†ç´„ãƒ«ãƒ¼ãƒˆï¼ˆå…¥å£ã¯1ã¤ï¼‰ğŸ‘‘ğŸšª |
| 583 | docs/ab_tcb_cs_index.md | ab_tcb_cs_index_consistency_boundary.png | ./picture/ab_tcb_cs_index_consistency_boundary.png | **Theme**: Consistency Boundary Decision<br><br>**Labels to Render**:<br>- Transaction: "Transaction"<br>- Rule: "Must Match"<br>- Split: "Separate"<br>- Scale: "Balance"<br><br>**Visual Details**:<br>1. Core Concept: Deciding what must be updated together.<br>2. Metaphor: A balance scale.<br>   - Identifying which rules must be balanced (Consistent) in the same "Transaction".<br>   - Other rules can be "Separate".<br>3. Action: Weighing/Deciding.<br>4. Layout: Balance scale. | ### ç¬¬13ç« ï¼šå¢ƒç•Œã®åˆ¤æ–­è»¸â‘ ã€ŒåŒæ™‚ã«å®ˆã‚‹å¿…è¦ãŒã‚ã‚‹ï¼Ÿã€ğŸ§ âš–ï¸ |
| 584 | docs/ab_tcb_cs_index.md | ab_tcb_cs_index_invariants.png | ./picture/ab_tcb_cs_index_invariants.png | **Theme**: Guard Clauses for Invariants<br><br>**Labels to Render**:<br>- Constructor: "Constructor"<br>- Guard: "Guard Clause"<br>- Invalid: "Invalid Data"<br>- Valid: "Valid Object"<br><br>**Visual Details**:<br>1. Core Concept: Preventing invalid objects at creation.<br>2. Metaphor: A factory quality check at the start of the line.<br>   - "Invalid Data" (Broken parts) is stopped by the "Guard Clause".<br>   - Only "Valid Object" is allowed to be created.<br>3. Action: Rejection/Protection.<br>4. Layout: Factory line. | ### ç¬¬18ç« ï¼šC#ã§ä¸å¤‰æ¡ä»¶ã‚’å®ˆã‚‹â‘ ï¼ˆç”Ÿæˆã¨ã‚¬ãƒ¼ãƒ‰ç¯€ï¼‰ğŸ› ï¸ |
| 585 | docs/ab_tcb_cs_index.md | ab_tcb_cs_index_layered_architecture.png | ./picture/ab_tcb_cs_index_layered_architecture.png | **Theme**: Layered Architecture<br><br>**Labels to Render**:<br>- Domain: "Domain (Core)"<br>- App: "Application"<br>- Infra: "Infrastructure"<br>- Dep: "Dependency"<br><br>**Visual Details**:<br>1. Core Concept: Dependency direction in layered architecture.<br>2. Metaphor: Stacked layers or concentric circles.<br>   - Infra (Bottom/Outer) depends on App.<br>   - App depends on Domain (Top/Center).<br>   - Domain depends on nothing.<br>3. Action: Dependency flow.<br>4. Layout: Layer stack. | ### ç¬¬21ç« ï¼šãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰æ§‹æˆï¼ˆç½®ãå ´æ‰€ã§è¿·å­ã«ãªã‚‰ãªã„ï¼‰ğŸ—‚ï¸ |
| 586 | docs/ab_tcb_cs_index.md | ab_tcb_cs_index_domain_events.png | ./picture/ab_tcb_cs_index_domain_events.png | **Theme**: Domain Events for Eventual Consistency<br><br>**Labels to Render**:<br>- Agg A: "Aggregate A"<br>- Event: "Event (Fact)"<br>- Agg B: "Aggregate B"<br>- Time: "Later"<br><br>**Visual Details**:<br>1. Core Concept: Decoupling aggregates via events.<br>2. Metaphor: Sending a letter.<br>   - Aggregate A posts a letter "Event".<br>   - Some time passes ("Later").<br>   - Aggregate B receives the letter and updates itself.<br>3. Action: Communication.<br>4. Layout: Timeline flow. | ### ç¬¬31ç« ï¼šãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã¨æœ€çµ‚çš„æ•´åˆæ€§ï¼ˆå…¥é–€ï¼‰ğŸ“£â³ |
| 587 | docs/ab_tcb_cs_study_001.md | ab_tcb_cs_study_001_consistency_bug.png | ./picture/ab_tcb_cs_study_001_consistency_bug.png | **Theme**: Consistency Bug Examples<br><br>**Labels to Render**:<br>- Order: "Confirmed Order"<br>- Items: "Items: 0 (Empty)"<br>- Payment: "Paid"<br>- Status: "Unconfirmed"<br><br>**Visual Details**:<br>1. Core Concept: Contradictory data states.<br>2. Metaphor: Two scenes of confusion.<br>   - Scene A: A receipt labeled "Confirmed" but the list of items is completely blank.<br>   - Scene B: A credit card terminal says "Paid", but the order status screen says "Unconfirmed".<br>   - Red question marks floating around.<br>3. Action: Contradiction/Error.<br>4. Layout: Split view. | ## 3. ãã‚‚ãã‚‚ã€Œæ•´åˆæ€§ãƒã‚°ã€ã£ã¦ãªã«ï¼ŸğŸ˜µâ€ğŸ’«ğŸ§  |
| 588 | docs/ab_tcb_cs_study_001.md | ab_tcb_cs_study_001_aggregate_root_role.png | ./picture/ab_tcb_cs_study_001_aggregate_root_role.png | **Theme**: Aggregate Root as Gatekeeper<br><br>**Labels to Render**:<br>- Root: "Order (Root)"<br>- Child: "OrderItem"<br>- External: "External Update"<br>- Stop: "Stop"<br><br>**Visual Details**:<br>1. Core Concept: Only Root can be accessed from outside.<br>2. Metaphor: A King (Root) protecting a Prince (Child).<br>   - An external hand tries to touch the Prince directly.<br>   - The King blocks the hand with a shield "Stop".<br>   - Another hand shakes the King's hand (Valid access).<br>3. Action: Protection.<br>4. Layout: Character interaction. | ### 4.2 é›†ç´„ãƒ«ãƒ¼ãƒˆï¼ˆAggregate Rootï¼‰ğŸ‘‘ğŸšª |
| 589 | docs/ab_tcb_cs_study_001.md | ab_tcb_cs_study_001_transaction_boundary.png | ./picture/ab_tcb_cs_study_001_transaction_boundary.png | **Theme**: All or Nothing Transaction<br><br>**Labels to Render**:<br>- Start: "Start"<br>- Step 1: "Save A (OK)"<br>- Step 2: "Save B (Fail)"<br>- Result: "Rollback (All Gone)"<br><br>**Visual Details**:<br>1. Core Concept: Atomic operation.<br>2. Metaphor: Building a house of cards.<br>   - Step 1: Placing the first card.<br>   - Step 2: Placing the second card, but hand shakes (Fail).<br>   - Result: The whole house collapses (Rollback), leaving nothing.<br>3. Action: Collapse/Undo.<br>4. Layout: Sequence view. | ### 4.3 ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•ŒğŸ”’ |
| 590 | docs/ab_tcb_cs_study_001.md | ab_tcb_cs_study_001_mini_app_flow.png | ./picture/ab_tcb_cs_study_001_mini_app_flow.png | **Theme**: Cafe Ordering App Flow<br><br>**Labels to Render**:<br>- Step 1: "Select"<br>- Step 2: "Order"<br>- Step 3: "Pay"<br>- Step 4: "Ship"<br><br>**Visual Details**:<br>1. Core Concept: The user journey.<br>2. Metaphor: A clean process path.<br>   - Icon 1: Cupcake (Select).<br>   - Icon 2: Receipt (Order).<br>   - Icon 3: Credit Card (Pay).<br>   - Icon 4: Box (Ship).<br>   - Arrows connecting them.<br>3. Action: Flow.<br>4. Layout: Horizontal steps. | ## 5. ãƒŸãƒ‹ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆã‚«ãƒ•ã‚§æ³¨æ–‡ï¼‰â˜•ï¸ğŸ“¦ |
| 591 | docs/ab_tcb_cs_study_001.md | ab_tcb_cs_study_001_modern_csharp.png | ./picture/ab_tcb_cs_study_001_modern_csharp.png | **Theme**: Modern C# Tech Stack<br><br>**Labels to Render**:<br>- OS: "Windows"<br>- IDE: "VS 2026"<br>- Framework: ".NET 10"<br>- Lang: "C# 14"<br><br>**Visual Details**:<br>1. Core Concept: The tools used.<br>2. Metaphor: A futuristic developer workspace.<br>   - Screens displaying logos of ".NET 10", "C# 14", "VS 2026".<br>   - Clean, modern, high-tech vibe.<br>3. Action: Setup.<br>4. Layout: Desk view. | ## 6. ã“ã®æ•™æã§ä½¿ã†â€œä»Šã©ãã®C#â€ã£ã¦ã©ã‚Œï¼ŸğŸ†•âœ¨ |
| 592 | docs/ab_tcb_cs_study_001.md | ab_tcb_cs_study_001_ai_assistant.png | ./picture/ab_tcb_cs_study_001_ai_assistant.png | **Theme**: AI as Design Partner<br><br>**Labels to Render**:<br>- Human: "Designer"<br>- AI: "Assistant"<br>- Task: "Review Rules"<br>- Output: "Feedback"<br><br>**Visual Details**:<br>1. Core Concept: AI helping with design.<br>2. Metaphor: A pair programming scene.<br>   - Human holds a blueprint "Rules".<br>   - AI Robot points at a spot on the blueprint with a magnifying glass "Feedback".<br>   - Constructive collaboration.<br>3. Action: Collaboration.<br>4. Layout: Side by side. | ## 7. AIæ‹¡å¼µï¼ˆCopilot / Codexï¼‰ã¨ã®ä»˜ãåˆã„æ–¹ğŸ¤–âœ¨ |
| 593 | docs/ab_tcb_cs_study_001.md | ab_tcb_cs_study_001_impossible_states.png | ./picture/ab_tcb_cs_study_001_impossible_states.png | **Theme**: Impossible States Quiz<br><br>**Labels to Render**:<br>- Case B: "Confirmed + Empty"<br>- Case C: "Paid + Unconfirmed"<br>- Verdict: "Impossible (Bug)"<br><br>**Visual Details**:<br>1. Core Concept: Identifying invalid business states.<br>2. Metaphor: A quiz show buzzer.<br>   - Case B (Receipt with no items) -> Red X buzzer.<br>   - Case C (Paid stamp on blank order) -> Red X buzzer.<br>   - Highlighting that these are "Bugs".<br>3. Action: Rejection/Quiz.<br>4. Layout: Quiz style. | ## 8. ã“ã“ã§ãƒŸãƒ‹ç·´ç¿’âœï¸ğŸŒ¸ï¼ˆ3åˆ†ã§OKï¼‰ |
| 594 | docs/ab_tcb_cs_study_002.md | ab_tcb_cs_study_002_vs_workloads.png | ./picture/ab_tcb_cs_study_002_vs_workloads.png | **Theme**: Visual Studio Workload Selection<br><br>**Labels to Render**:<br>- VS Installer: "VS Installer"<br>- Desktop: ".NET Desktop"<br>- Web: "ASP.NET & Web"<br>- Checked: "Check âœ…"<br><br>**Visual Details**:<br>1. Core Concept: Selecting necessary components.<br>2. Metaphor: A checklist UI.<br>   - A window frame labeled "VS Installer".<br>   - Two box items: ".NET Desktop" and "ASP.NET & Web".<br>   - Both have a big green checkmark.<br>3. Action: Selection.<br>4. Layout: UI close-up. | ## 2.1.2 ã¾ãšå…¥ã‚Œã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ï¼ˆè¿·ã£ãŸã‚‰ã“ã®2ã¤ï¼‰ğŸ |
| 595 | docs/ab_tcb_cs_study_002.md | ab_tcb_cs_study_002_create_project.png | ./picture/ab_tcb_cs_study_002_create_project.png | **Theme**: Creating Console App Project<br><br>**Labels to Render**:<br>- New Project: "Create New Project"<br>- Search: "Console"<br>- Select: "Console App (C#)"<br>- Action: "Next"<br><br>**Visual Details**:<br>1. Core Concept: Steps to start a new project.<br>2. Metaphor: A simplified wizard interface.<br>   - Screen 1: "Create New Project" button.<br>   - Screen 2: Search bar with "Console", highlighting "Console App (C#)".<br>   - Cursor hovering over "Next".<br>3. Action: Creation flow.<br>4. Layout: UI steps. | ## 2.2.1 Visual Studioã§ä½œã‚‹ï¼ˆã„ã¡ã°ã‚“ç°¡å˜ï¼‰ğŸª„ |
| 596 | docs/ab_tcb_cs_study_002.md | ab_tcb_cs_study_002_commit_granularity.png | ./picture/ab_tcb_cs_study_002_commit_granularity.png | **Theme**: Git Commit Granularity<br><br>**Labels to Render**:<br>- Good: "Good (Small)"<br>- Bad: "Bad (Huge)"<br>- Commit 1: "Add Class"<br>- Commit 2: "Rename"<br>- Commit 3: "Fix Bug"<br><br>**Visual Details**:<br>1. Core Concept: Breaking changes into small commits.<br>2. Metaphor: Packaging.<br>   - Good: Three small, neat boxes labeled "Add Class", "Rename", "Fix Bug". Easy to carry.<br>   - Bad: One giant, overflowing box labeled "Everything". Hard to lift.<br>3. Action: Comparison.<br>4. Layout: Side by side. | ## 2.3.3 ã‚³ãƒŸãƒƒãƒˆç²’åº¦ã®ã‚³ãƒ„ï¼ˆè¶…é‡è¦ï¼‰ğŸ“Œâœ¨ |
| 597 | docs/ab_tcb_cs_study_002.md | ab_tcb_cs_study_002_ai_prompt_structure.png | ./picture/ab_tcb_cs_study_002_ai_prompt_structure.png | **Theme**: AI Prompt Structure<br><br>**Labels to Render**:<br>- Goal: "Goal (Target)"<br>- Constraint: "Constraint (Limit)"<br>- Context: "Context (Info)"<br>- Result: "Better Prompt"<br><br>**Visual Details**:<br>1. Core Concept: Three ingredients for a good prompt.<br>2. Metaphor: A recipe or chemical formula.<br>   - Beaker 1 (Goal) + Beaker 2 (Constraint) + Beaker 3 (Context) pouring into a main bowl.<br>   - Result is a glowing "Better Prompt".<br>3. Action: Mixing/Combining.<br>4. Layout: Process flow. | ## 2.5.1 â€œAIã«æŠ•ã’ã‚‹å‰â€ã«æ›¸ã3ç‚¹ã‚»ãƒƒãƒˆğŸ§¾âœ¨ |
| 598 | docs/ab_tcb_cs_study_002.md | ab_tcb_cs_study_002_ai_safety_check.png | ./picture/ab_tcb_cs_study_002_ai_safety_check.png | **Theme**: AI Code Verification Checklist<br><br>**Labels to Render**:<br>- AI Code: "AI Code"<br>- Check 1: "Build?"<br>- Check 2: "Null Safe?"<br>- Check 3: "Naming?"<br>- Pass: "Approved"<br><br>**Visual Details**:<br>1. Core Concept: Verifying AI output.<br>2. Metaphor: A quality control inspection.<br>   - A robot (AI) hands over a sheet of code.<br>   - A human inspector holds a clipboard with checks: "Build?", "Null Safe?", "Naming?".<br>   - Stamping "Approved".<br>3. Action: Inspection.<br>4. Layout: Interaction scene. | ## 2.5.3 AIã®å›ç­”ã‚’â€œãã®ã¾ã¾æ¡ç”¨ã—ãªã„â€ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆâœ…ğŸ” |
| 599 | docs/ab_tcb_cs_study_002.md | ab_tcb_cs_study_002_env_check.png | ./picture/ab_tcb_cs_study_002_env_check.png | **Theme**: Final Environment Check<br><br>**Labels to Render**:<br>- VS: "Visual Studio (Run)"<br>- Git: "Git (Commit)"<br>- AI: "Copilot (Chat)"<br>- All Green: "All Systems Go"<br><br>**Visual Details**:<br>1. Core Concept: Confirming all tools are ready.<br>2. Metaphor: A pilot's pre-flight dashboard.<br>   - Indicator 1: "Visual Studio" (Green Light).<br>   - Indicator 2: "Git" (Green Light).<br>   - Indicator 3: "Copilot" (Green Light).<br>   - Pilot gives a thumbs up.<br>3. Action: Checking status.<br>4. Layout: Dashboard view. | ## 2.6 ãƒŸãƒ‹æ¼”ç¿’ï¼šç’°å¢ƒãŒå®Œæˆã—ãŸã‹æœ€çµ‚ãƒã‚§ãƒƒã‚¯ğŸ“ğŸŒ¸ |
| 600 | docs/ab_tcb_cs_study_002.md | ab_tcb_cs_study_002_troubleshooting.png | ./picture/ab_tcb_cs_study_002_troubleshooting.png | **Theme**: Common Troubleshooting<br><br>**Labels to Render**:<br>- Problem: "Build Fail"<br>- Fix: "Install SDK"<br>- Problem: "No Git"<br>- Fix: "Restart VS"<br><br>**Visual Details**:<br>1. Core Concept: Simple fixes for common problems.<br>2. Metaphor: A mechanic's guide.<br>   - Panel A: "Build Fail" icon -> Wrench tightening "SDK".<br>   - Panel B: "No Git" icon -> Power button "Restart VS".<br>3. Action: Fixing.<br>4. Layout: Grid view. | ## 2.7 ã‚ˆãã‚ã‚‹ã¤ã¾ãšãï¼ˆã“ã“ã ã‘è¦‹ã‚Œã°OKï¼‰ğŸš‘ğŸ’¦ |
| 601 | docs/ab_tcb_cs_study_003.md | ab_tcb_cs_study_003_ddd_summary.png | ./picture/ab_tcb_cs_study_003_ddd_summary.png | **Theme**: DDD Core Concept<br><br>**Labels to Render**:<br>- Business: "Business Words"<br>- Code: "Code Names"<br>- Rules: "Business Rules"<br>- Result: "Less Bugs"<br><br>**Visual Details**:<br>1. Core Concept: Direct mapping from business to code.<br>2. Metaphor: A reflection.<br>   - A person speaking "Business Words" looks into a mirror.<br>   - The reflection shows "Code Names" perfectly matching.<br>   - "Business Rules" are the frame holding the mirror.<br>3. Action: Reflection.<br>4. Layout: Mirror view. | ## 1. DDDã£ã¦çµå±€ãªã«ï¼ŸğŸ§ ğŸ’­ |
| 602 | docs/ab_tcb_cs_study_003.md | ab_tcb_cs_study_003_why_ddd.png | ./picture/ab_tcb_cs_study_003_why_ddd.png | **Theme**: Benefits of DDD<br><br>**Labels to Render**:<br>- Ambiguity: "Ambiguity (Fog)"<br>- Clear: "Clear Code (Sun)"<br>- Bug: "Bug (Monster)"<br>- Safe: "Safe"<br><br>**Visual Details**:<br>1. Core Concept: Clarity prevents bugs.<br>2. Metaphor: Clearing the fog.<br>   - Left: "Ambiguity" fog hiding a "Bug Monster".<br>   - Right: "Clear Code" sun shining, dispersing the fog, revealing the monster so it can be removed.<br>3. Action: Clearing.<br>4. Layout: Before and After. | ## 2. ãªã‚“ã§DDDã‚’ã‚„ã‚‹ã®ï¼ŸğŸâœ¨ |
| 603 | docs/ab_tcb_cs_study_003.md | ab_tcb_cs_study_003_cafe_terms.png | ./picture/ab_tcb_cs_study_003_cafe_terms.png | **Theme**: Cafe Domain Objects<br><br>**Labels to Render**:<br>- Order: "Order"<br>- Item: "OrderItem"<br>- Money: "Money"<br>- Pay: "Payment"<br><br>**Visual Details**:<br>1. Core Concept: Key domain objects.<br>2. Metaphor: Cafe counter items.<br>   - A receipt labeled "Order".<br>   - A slice of cake labeled "OrderItem".<br>   - Coins labeled "Money".<br>   - A credit card labeled "Payment".<br>3. Action: Displaying items.<br>4. Layout: Isometric view. | ## 4. ãƒŸãƒ‹é¡Œæ ã‚«ãƒ•ã‚§æ³¨æ–‡ã®ä¸–ç•Œâ˜•ï¸ğŸ° |
| 604 | docs/ab_tcb_cs_study_003.md | ab_tcb_cs_study_003_4_steps.png | ./picture/ab_tcb_cs_study_003_4_steps.png | **Theme**: 4 Steps Process<br><br>**Labels to Render**:<br>- Step 1: "Pick Words"<br>- Step 2: "Define"<br>- Step 3: "Rule"<br>- Step 4: "Location"<br><br>**Visual Details**:<br>1. Core Concept: Sequential process.<br>2. Metaphor: A staircase.<br>   - Step 1: Picking up word blocks.<br>   - Step 2: Polishing the blocks (Define).<br>   - Step 3: Writing on the blocks (Rule).<br>   - Step 4: Placing the block in a house (Location).<br>3. Action: Climbing/Building.<br>4. Layout: Staircase view. | ## 5. æ¥­å‹™ã®è¨€è‘‰ã‚’ã‚³ãƒ¼ãƒ‰ã«ã™ã‚‹æ‰‹é † 4ã‚¹ãƒ†ãƒƒãƒ—ğŸªœâœ¨ |
| 605 | docs/ab_tcb_cs_study_003.md | ab_tcb_cs_study_003_code_words.png | ./picture/ab_tcb_cs_study_003_code_words.png | **Theme**: Business Words in Code<br><br>**Labels to Render**:<br>- Method: "Confirm()"<br>- Method: "MarkAsPaid()"<br>- State: "Confirmed"<br>- Readability: "Readable"<br><br>**Visual Details**:<br>1. Core Concept: Code that reads like natural language.<br>2. Metaphor: An open book where the text transforms into code blocks.<br>   - The text says "Confirm Order", transforming into `Confirm()`.<br>   - It looks natural and easy to read.<br>3. Action: Transformation.<br>4. Layout: Book to Screen. | ## 6. ã¡ã‚‡ã„ã‚³ãƒ¼ãƒ‰ã§é›°å›²æ°—ã ã‘ C#ã§æ¥­å‹™ã®è¨€è‘‰ã‚’ç½®ãğŸ’»âœ¨ |
| 606 | docs/ab_tcb_cs_study_003.md | ab_tcb_cs_study_003_rule_to_if.png | ./picture/ab_tcb_cs_study_003_rule_to_if.png | **Theme**: Translating Rules to Logic<br><br>**Labels to Render**:<br>- Rule: "No Add after Confirm"<br>- Logic: "if (Confirmed) Error"<br>- Check: "Safety Check"<br><br>**Visual Details**:<br>1. Core Concept: Implementing constraints.<br>2. Metaphor: A translator machine.<br>   - Input: A scroll with the rule "No Add after Confirm".<br>   - Machine processes it.<br>   - Output: A circuit board pattern reading `if (Confirmed) Error`.<br>3. Action: Translation.<br>4. Layout: Process flow. | ## 8. æ¼”ç¿’2 ãƒ«ãƒ¼ãƒ«ã‚’ â€œifæ–‡â€ ã«å¤‰æ›ã—ã¦ã¿ã‚‹ğŸ”ğŸ§  |
| 607 | docs/ab_tcb_cs_study_003.md | ab_tcb_cs_study_003_ai_usage.png | ./picture/ab_tcb_cs_study_003_ai_usage.png | **Theme**: AI as Brainstorming Partner<br><br>**Labels to Render**:<br>- User: "Ask for Terms"<br>- AI: "Suggest Candidates"<br>- Check: "Human Review"<br>- Select: "Pick Best"<br><br>**Visual Details**:<br>1. Core Concept: AI suggests, Human decides.<br>2. Metaphor: Brainstorming session.<br>   - AI Robot puts many sticky notes on a whiteboard (Candidates).<br>   - Human reviews them, discarding some, keeping the best ones.<br>3. Action: Selection.<br>4. Layout: Whiteboard scene. | ## 9. AIæ‹¡å¼µã®ä½¿ã„ã©ã“ã‚ ã“ã‚ããªã„ä½¿ã„æ–¹ğŸ¤–âœ¨ |
| 608 | docs/ab_tcb_cs_study_004.md | ab_tcb_cs_study_004_receipt_metaphor.png | ./picture/ab_tcb_cs_study_004_receipt_metaphor.png | **Theme**: Transaction as a Single Receipt<br><br>**Labels to Render**:<br>- Item 1: "Order"<br>- Item 2: "Payment"<br>- Item 3: "Receipt"<br>- Result: "Complete Set"<br><br>**Visual Details**:<br>1. Core Concept: Atomic unit of work.<br>2. Metaphor: A printed receipt.<br>   - The receipt lists "Order Created", "Payment Recorded", "Receipt Issued".<br>   - A tear-line shows that if you tear it, you lose everything, not just the bottom part.<br>3. Action: Printing.<br>4. Layout: Object close-up. | ## 1. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¯â€œãƒ¬ã‚·ãƒ¼ãƒˆ1æšåˆ†â€ã®ç´„æŸğŸ§¾ğŸ”’ |
| 609 | docs/ab_tcb_cs_study_004.md | ab_tcb_cs_study_004_boundary_definition.png | ./picture/ab_tcb_cs_study_004_boundary_definition.png | **Theme**: Inside vs Outside Transaction Boundary<br><br>**Labels to Render**:<br>- Inside: "Inside (Atomic)"<br>- Outside: "Outside (Eventual)"<br>- Items: "Order / Amount / Status"<br>- External: "Mail / Notify"<br><br>**Visual Details**:<br>1. Core Concept: Grouping synchronous operations.<br>2. Metaphor: A secure vault vs a lobby.<br>   - Vault (Inside): Contains "Order", "Amount", "Status" locked together.<br>   - Lobby (Outside): "Mail" and "Notify" agents waiting patiently outside the vault.<br>3. Action: Separation.<br>4. Layout: Split view. | ## 4.1 å¢ƒç•Œï¼ã€Œã“ã®ç·šã®å†…å´ã¯ã€é‹å‘½å…±åŒä½“ã€ğŸ§· |
| 610 | docs/ab_tcb_cs_study_004.md | ab_tcb_cs_study_004_uc_tx_mapping.png | ./picture/ab_tcb_cs_study_004_uc_tx_mapping.png | **Theme**: 1 UseCase = 1 Transaction<br><br>**Labels to Render**:<br>- UseCase: "Confirm Order"<br>- Transaction: "Transaction"<br>- Scope: "1 to 1"<br><br>**Visual Details**:<br>1. Core Concept: Mapping user action to database transaction.<br>2. Metaphor: A container fitting perfectly.<br>   - Container labeled "Transaction".<br>   - Object labeled "UseCase (Confirm Order)" fits exactly inside.<br>   - No extra space, no sticking out.<br>3. Action: Fitting.<br>4. Layout: Object interaction. | ## 5. ã¾ãšã¯ã€Œ1ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼1ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã€ã‹ã‚‰ğŸ˜ŠğŸ”’ |
| 611 | docs/ab_tcb_cs_study_004.md | ab_tcb_cs_study_004_savechanges_danger.png | ./picture/ab_tcb_cs_study_004_savechanges_danger.png | **Theme**: Danger of Multiple SaveChanges<br><br>**Labels to Render**:<br>- Save 1: "Save Order (Committed)"<br>- Crash: "Crash!"<br>- Save 2: "Save Payment (Failed)"<br>- State: "Inconsistent"<br><br>**Visual Details**:<br>1. Core Concept: Partial commit leads to data corruption.<br>2. Metaphor: A bridge construction.<br>   - First half of the bridge (Order) is built and locked.<br>   - Second half (Payment) collapses due to a storm (Crash).<br>   - Cars fall into the gap (Inconsistent State).<br>3. Action: Collapse.<br>4. Layout: Scenario view. | ## 6.2 ã§ã‚‚ã€ŒSaveChangesã‚’2å›ä»¥ä¸Šã€ã™ã‚‹ã¨å±é™ºãŒå¢—ãˆã‚‹âš ï¸ |
| 612 | docs/ab_tcb_cs_study_004.md | ab_tcb_cs_study_004_explicit_tx.png | ./picture/ab_tcb_cs_study_004_explicit_tx.png | **Theme**: Explicit Transaction Wrapper<br><br>**Labels to Render**:<br>- Wrapper: "BeginTransaction"<br>- Op 1: "Save Order"<br>- Op 2: "Save Payment"<br>- Lock: "Commit / Rollback"<br><br>**Visual Details**:<br>1. Core Concept: Grouping multiple operations safely.<br>2. Metaphor: A protective bubble or shield enclosing multiple items.<br>   - "Save Order" and "Save Payment" are floating inside a bubble labeled "Transaction".<br>   - The bubble prevents external interference and ensures they land together.<br>3. Action: Protection.<br>4. Layout: Bubble close-up. | ## ãƒ‘ã‚¿ãƒ¼ãƒ³Bï¼šæ˜ç¤ºãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§åŒ…ã‚€ğŸ”’âœ¨ |
| 613 | docs/ab_tcb_cs_study_004.md | ab_tcb_cs_study_004_boundary_checklist.png | ./picture/ab_tcb_cs_study_004_boundary_checklist.png | **Theme**: Transaction Boundary Checklist<br><br>**Labels to Render**:<br>- Check 1: "Atomic Rule?"<br>- Check 2: "No Partial State?"<br>- Check 3: "No External IO?"<br>- Check 4: "1 UseCase?"<br><br>**Visual Details**:<br>1. Core Concept: Criteria for defining boundaries.<br>2. Metaphor: A clipboard with 4 checkboxes.<br>   - All checked with green marker.<br>   - A magnifying glass hovering over the list.<br>3. Action: Checking.<br>4. Layout: List view. | ## 8. å¢ƒç•Œã‚’æ±ºã‚ã‚‹â€œãƒŸãƒ‹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆâ€âœ…ğŸ§  |
| 614 | docs/ab_tcb_cs_study_004.md | ab_tcb_cs_study_004_long_tx_risk.png | ./picture/ab_tcb_cs_study_004_long_tx_risk.png | **Theme**: Risks of Long Transactions<br><br>**Labels to Render**:<br>- Long Tx: "Long Transaction"<br>- Lock: "DB Lock"<br>- Queue: "Waiting Users"<br>- Slow: "Slow Performance"<br><br>**Visual Details**:<br>1. Core Concept: Holding locks too long blocks others.<br>2. Metaphor: A checkout line.<br>   - One customer (Long Tx) is taking forever, chatting and fumbling.<br>   - A long line of angry customers (Waiting Users) forms behind.<br>   - The register (DB) is locked.<br>3. Action: Blocking.<br>4. Layout: Scenario view. | ## Q1. ã€Œãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’å¤§ããã™ã‚Œã°å®‰å…¨ã§ã¯ï¼Ÿã€ğŸ¤” |
| 615 | docs/ab_tcb_cs_study_005.md | ab_tcb_cs_study_005_consistency_definition.png | ./picture/ab_tcb_cs_study_005_consistency_definition.png | **Theme**: Consistency Definitions<br><br>**Labels to Render**:<br>- Immediate: "Immediate (Now)"<br>- Eventual: "Eventual (Later)"<br>- State: "Consistent State"<br><br>**Visual Details**:<br>1. Core Concept: Time difference in consistency.<br>2. Metaphor: Two clocks.<br>   - Immediate: Clock A and Clock B show exactly the same time (12:00:00).<br>   - Eventual: Clock A shows 12:00:05, Clock B shows 12:00:00 (Slight delay).<br>3. Action: Synchronization.<br>4. Layout: Side by side. | ## 1. ãã‚‚ãã‚‚ã€Œæ•´åˆæ€§ã€ã£ã¦ãªã«ï¼ŸğŸ§© |
| 616 | docs/ab_tcb_cs_study_005.md | ab_tcb_cs_study_005_immediate_example.png | ./picture/ab_tcb_cs_study_005_immediate_example.png | **Theme**: Immediate Consistency Constraint<br><br>**Labels to Render**:<br>- Order: "Order"<br>- Items: "Items: 0"<br>- Rule: "Must have Items"<br>- Action: "Block (Error)"<br><br>**Visual Details**:<br>1. Core Concept: Rejecting invalid state immediately.<br>2. Metaphor: A gatekeeper.<br>   - An "Order" box with "Items: 0" tries to pass the gate.<br>   - The gatekeeper (Rule) holds up a hand "Stop/Error".<br>   - The box cannot enter the "Confirmed" zone.<br>3. Action: Blocking.<br>4. Layout: Gate scene. | ## 2-1. å³æ™‚æ•´åˆï¼ˆStrong / ACIDå¯„ã‚Šï¼‰âš¡ï¸ğŸ”’ |
| 617 | docs/ab_tcb_cs_study_005.md | ab_tcb_cs_study_005_eventual_example.png | ./picture/ab_tcb_cs_study_005_eventual_example.png | **Theme**: Eventual Consistency Flow<br><br>**Labels to Render**:<br>- Step 1: "Payment (Now)"<br>- Step 2: "Shipping (Later)"<br>- Gap: "Time Lag"<br>- Status: "Processing..."<br><br>**Visual Details**:<br>1. Core Concept: Accepted now, processed later.<br>2. Metaphor: Mailing a letter.<br>   - Step 1: Dropping a letter in the mailbox (Payment Accepted).<br>   - Gap: The letter is in transit (Processing).<br>   - Step 2: The letter arrives at the destination (Shipping).<br>3. Action: Transit.<br>4. Layout: Timeline flow. | ## 2-2. æœ€çµ‚çš„æ•´åˆï¼ˆEventual Consistencyï¼‰â³ğŸ“£ |
| 618 | docs/ab_tcb_cs_study_005.md | ab_tcb_cs_study_005_ux_message.png | ./picture/ab_tcb_cs_study_005_ux_message.png | **Theme**: UX for Delay<br><br>**Labels to Render**:<br>- Screen: "Payment Screen"<br>- Message: "Confirming... Please wait"<br>- Icon: "Spinner/Loading"<br>- Button: "Disabled (No Click)"<br><br>**Visual Details**:<br>1. Core Concept: Communicating system state to user.<br>2. Metaphor: A smartphone screen.<br>   - A friendly loading spinner.<br>   - Message: "Confirming payment...".<br>   - The "Pay" button is grayed out to prevent double clicks.<br>3. Action: Loading/Waiting.<br>4. Layout: Screen close-up. | ## 5-1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å®‰å¿ƒã•ã›ã‚‹3ç‚¹ã‚»ãƒƒãƒˆğŸ§¸âœ¨ |
| 619 | docs/ab_tcb_cs_study_005.md | ab_tcb_cs_study_005_status_design.png | ./picture/ab_tcb_cs_study_005_status_design.png | **Theme**: Payment Status Lifecycle<br><br>**Labels to Render**:<br>- Start: "Unpaid"<br>- Mid: "Confirming (Wait)"<br>- End: "Paid"<br>- End 2: "Failed"<br><br>**Visual Details**:<br>1. Core Concept: Intermediate states handling delay.<br>2. Metaphor: A state machine diagram.<br>   - Unpaid -> (Action: Pay) -> Confirming.<br>   - Confirming -> (Event: Success) -> Paid.<br>   - Confirming -> (Event: Error) -> Failed.<br>   - Confirming is highlighted as the "Waiting Zone".<br>3. Action: Transition.<br>4. Layout: Flowchart. | ## 6-1. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨­è¨ˆï¼ˆæœ€å°ï¼‰ğŸš¦ |
| 620 | docs/ab_tcb_cs_study_005.md | ab_tcb_cs_study_005_double_click_accident.png | ./picture/ab_tcb_cs_study_005_double_click_accident.png | **Theme**: Double Click Accident<br><br>**Labels to Render**:<br>- User: "User"<br>- Action: "Click! Click! Click!"<br>- System: "Payment x3"<br>- Result: "Overcharge"<br><br>**Visual Details**:<br>1. Core Concept: User impatience causing duplication.<br>2. Metaphor: An impatient user smashing a button.<br>   - The screen is frozen.<br>   - The user hits the button 3 times rapidly.<br>   - The backend receives 3 requests.<br>3. Action: Rapid clicking.<br>4. Layout: Action scene. | ## 7. ã‚ã‚ŠãŒã¡ãªäº‹æ•…ã¨ã€ãã®å›é¿æ³•ğŸš‘ğŸ˜… |
| 621 | docs/ab_tcb_cs_study_005.md | ab_tcb_cs_study_005_rule_sorting.png | ./picture/ab_tcb_cs_study_005_rule_sorting.png | **Theme**: Sorting Rules (Immediate vs Eventual)<br><br>**Labels to Render**:<br>- Card 1: "Total Amount (Money)"<br>- Card 2: "Send Email (External)"<br>- Bin 1: "Immediate"<br>- Bin 2: "Eventual"<br><br>**Visual Details**:<br>1. Core Concept: Classifying requirements.<br>2. Metaphor: A card sorting game.<br>   - Card 1 "Money" goes to "Immediate" bin (Red/Strict).<br>   - Card 2 "Email" goes to "Eventual" bin (Blue/Relaxed).<br>3. Action: Sorting.<br>4. Layout: Sorting scene. | ## 8. ãƒ¯ãƒ¼ã‚¯âœï¸ğŸ€ï¼šã€Œå³æ™‚ã€orã€Œã‚ã¨ã§OKã€ã‚’ä»•åˆ†ã‘ã—ã‚ˆã† |
| 622 | docs/ab_tcb_cs_study_006.md | ab_tcb_cs_study_006_entity_vo_table.png | ./picture/ab_tcb_cs_study_006_entity_vo_table.png | **Theme**: Entity vs Value Object Characteristics<br><br>**Labels to Render**:<br>- Entity: "Entity (ID)"<br>- VO: "Value Object (Value)"<br>- Mutable: "Mutable (Change)"<br>- Immutable: "Immutable (Replace)"<br><br>**Visual Details**:<br>1. Core Concept: Key differences in identity and mutability.<br>2. Metaphor: Comparison card.<br>   - Entity: A character growing up (Baby -> Adult). Identity is same (ID). Mutable state.<br>   - VO: A coin. If you scratch it, you throw it away and get a new one. Immutable. Value matters.<br>3. Action: Comparison.<br>4. Layout: Two columns. | ## 6.2 ã„ã¡ã°ã‚“å¤§äº‹ãªé•ã„ï¼ˆè¡¨ã§ã‚µã‚¯ãƒƒã¨ï¼‰ğŸ“‹âœ¨ |
| 623 | docs/ab_tcb_cs_study_006.md | ab_tcb_cs_study_006_money_vo.png | ./picture/ab_tcb_cs_study_006_money_vo.png | **Theme**: Money Value Object<br><br>**Labels to Render**:<br>- Amount: "100"<br>- Currency: "JPY"<br>- Rule: "No Negative"<br>- Op: "Add (Same Currency)"<br><br>**Visual Details**:<br>1. Core Concept: Encapsulating money rules.<br>2. Metaphor: A secure transparent wallet.<br>   - Inside: "100" and "JPY" tag locked together.<br>   - Outside: A rule book "No Negative".<br>   - Action: Two wallets (JPY) merging into a bigger one.<br>3. Action: Calculation.<br>4. Layout: Object view. | ## 6.5 ä¾‹â‘ ï¼šMoneyï¼ˆãŠé‡‘ï¼‰ğŸ’°âœ¨ ã€œãƒã‚°ã‚’æ¸›ã‚‰ã™æœ€å¼·VOã€œ |
| 624 | docs/ab_tcb_cs_study_006.md | ab_tcb_cs_study_006_daterange_vo.png | ./picture/ab_tcb_cs_study_006_daterange_vo.png | **Theme**: DateRange Logic<br><br>**Labels to Render**:<br>- Start: "Start Date"<br>- End: "End Date"<br>- Rule: "Start <= End"<br>- Invalid: "Start > End (Error)"<br><br>**Visual Details**:<br>1. Core Concept: Ensuring valid time range.<br>2. Metaphor: A ruler or timeline.<br>   - Valid: Start point is before End point. Blue line connecting them.<br>   - Invalid: Start point tries to go after End point. Red jagged line/Error.<br>3. Action: Validation.<br>4. Layout: Timeline view. | ## 6.6 ä¾‹â‘¡ï¼šDateRangeï¼ˆæœŸé–“ï¼‰ğŸ“…âœ¨ ã€œé€†è»¢ãƒã‚°ã‚’æ ¹çµ¶ã€œ |
| 625 | docs/ab_tcb_cs_study_006.md | ab_tcb_cs_study_006_address_vo.png | ./picture/ab_tcb_cs_study_006_address_vo.png | **Theme**: Address Structure<br><br>**Labels to Render**:<br>- String: "Raw String (Messy)"<br>- VO: "Address Object (Clean)"<br>- Fields: "Zip / City / Street"<br><br>**Visual Details**:<br>1. Core Concept: Structuring messy string data.<br>2. Metaphor: Organizing a messy letter.<br>   - Before: A crumpled paper with mixed text "TokyoMinato1-1".<br>   - After: A neat filing card with separate slots: "Zip: 100", "City: Tokyo", "Street: 1-1".<br>3. Action: Organizing.<br>4. Layout: Before and After. | ## 6.7 ä¾‹â‘¢ï¼šAddressï¼ˆä½æ‰€ï¼‰ğŸ âœ¨ ã€œæ–‡å­—åˆ—1æœ¬ã‚’å’æ¥­ã€œ |
| 626 | docs/ab_tcb_cs_study_006.md | ab_tcb_cs_study_006_order_entity.png | ./picture/ab_tcb_cs_study_006_order_entity.png | **Theme**: Order Entity Blueprint<br><br>**Labels to Render**:<br>- Entity: "Order Entity"<br>- ID: "ID: 101"<br>- Items: "Items List"<br>- Method: "AddItem()"<br><br>**Visual Details**:<br>1. Core Concept: Entity managing its items.<br>2. Metaphor: A shopping basket (Order) with a tag "ID: 101".<br>   - Inside: Several items.<br>   - Action: A hand adding an item via "AddItem()".<br>3. Action: Adding item.<br>4. Layout: Object view. | ## 6.8 Entity ã®ä½œã‚Šæ–¹ï¼šæœ€å°ã§OKğŸ‘¤âœ¨ï¼ˆã¾ãšã¯ã€ŒIDãŒã‚ã‚‹ã€ã ã‘ï¼‰ |
| 627 | docs/ab_tcb_cs_study_006.md | ab_tcb_cs_study_006_vo_in_aggregate.png | ./picture/ab_tcb_cs_study_006_vo_in_aggregate.png | **Theme**: Value Objects protecting Aggregate<br><br>**Labels to Render**:<br>- Aggregate: "Aggregate"<br>- VO 1: "Money VO"<br>- VO 2: "DateRange VO"<br>- Logic: "Validation Logic"<br><br>**Visual Details**:<br>1. Core Concept: Delegating validation to VOs.<br>2. Metaphor: A fortress (Aggregate).<br>   - The bricks making up the wall are VOs (Money, DateRange).<br>   - Each brick is solid and self-validating.<br>   - The fortress doesn't need to check every grain of sand, just rely on the bricks.<br>3. Action: Building/Protection.<br>4. Layout: Structural view. | ## 6.9 é›†ç´„ã®ä¸­ã§ ValueObject ãŒåŠ¹ãç†ç”±ğŸŒ³âœ¨ï¼ˆè¶…é‡è¦ï¼ï¼‰ |
| 628 | docs/ab_tcb_cs_study_006.md | ab_tcb_cs_study_006_efcore_complex_types.png | ./picture/ab_tcb_cs_study_006_efcore_complex_types.png | **Theme**: EF Core Complex Types Mapping<br><br>**Labels to Render**:<br>- App: "Address VO"<br>- Mapping: "Complex Type"<br>- DB: "Table Columns"<br>- Cols: "Zip / City / Street"<br><br>**Visual Details**:<br>1. Core Concept: Mapping object to table columns flatly.<br>2. Metaphor: A projection or stamp.<br>   - Object "Address VO" (3D shape).<br>   - Projected flat onto the "DB Table" surface.<br>   - Becomes columns "Zip", "City", "Street" within the same table.<br>3. Action: Mapping.<br>4. Layout: Projection view. | ## 6.10 å…ˆå–ã‚Šï¼šDBã«ä¿å­˜ã™ã‚‹ã¨ãã©ã†ã™ã‚‹ï¼Ÿï¼ˆEF Core 10 ã®ä»Šã©ãäº‹æƒ…ï¼‰ğŸ—„ï¸âœ¨ |
| 629 | docs/ab_tcb_cs_study_007.md | ab_tcb_cs_study_007_usecase_actions.png | ./picture/ab_tcb_cs_study_007_usecase_actions.png | **Theme**: Use Case Actions vs Screen<br><br>**Labels to Render**:<br>- Screen: "Cafe App"<br>- Bubble 1: "Add (UseCase)"<br>- Bubble 2: "Confirm (UseCase)"<br>- Bubble 3: "Pay (UseCase)"<br><br>**Visual Details**:<br>1. Core Concept: Use case is an action, not a screen.<br>2. Metaphor: A smartphone screen showing a Cafe App.<br>   - Arrows point from specific buttons ("Add to Cart", "Confirm", "Pay") to distinct "Action Bubbles" floating outside the phone.<br>   - Each bubble represents a separate UseCase.<br>3. Action: Separation of concerns.<br>4. Layout: Phone with radiating arrows. | ## 1. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã£ã¦ãªã«ï¼Ÿï¼ˆã‚ã£ã¡ã‚ƒçŸ­ãï¼‰ğŸ§ |
| 630 | docs/ab_tcb_cs_study_007.md | ab_tcb_cs_study_007_commit_rollback_scale.png | ./picture/ab_tcb_cs_study_007_commit_rollback_scale.png | **Theme**: All or Nothing Transaction<br><br>**Labels to Render**:<br>- Left: "Commit (All Success)"<br>- Right: "Rollback (All Gone)"<br>- Scale: "Transaction"<br><br>**Visual Details**:<br>1. Core Concept: Atomicity of transaction.<br>2. Metaphor: A balance scale.<br>   - Left Side: A full basket of fruit (Data) resting securely.<br>   - Right Side: An empty basket (Rollback) representing complete reversal.<br>   - The scale tips fully one way or the other, never balancing in the middle.<br>3. Action: Weighing outcome.<br>4. Layout: Scale view. | ## âœ… ãƒ«ãƒ¼ãƒ«ï¼š1ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼1ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆåŸºæœ¬å½¢ï¼‰ğŸ’¾âœ… |
| 631 | docs/ab_tcb_cs_study_007.md | ab_tcb_cs_study_007_business_rule_vs_db.png | ./picture/ab_tcb_cs_study_007_business_rule_vs_db.png | **Theme**: Business Rules define Boundary<br><br>**Labels to Render**:<br>- Rule: "Business Rule (Leader)"<br>- DB: "DB Table (Follower)"<br>- Boundary: "Boundary"<br><br>**Visual Details**:<br>1. Core Concept: Boundary is defined by Business Rules, not DB Tables.<br>2. Metaphor: Comparison.<br>   - Left: A scroll labeled "Business Rule" clearly drawing the shape of the boundary.<br>   - Right: A database grid labeled "Table" being ignored or crossed out as the decision maker.<br>3. Action: Definition.<br>4. Layout: Side by side. | ## âŒ èª¤è§£Aï¼šå¢ƒç•Œã¯DBãƒ†ãƒ¼ãƒ–ãƒ«ã§æ±ºã‚ã‚‹ |
| 632 | docs/ab_tcb_cs_study_007.md | ab_tcb_cs_study_007_large_transaction_block.png | ./picture/ab_tcb_cs_study_007_large_transaction_block.png | **Theme**: Large Transaction Risk<br><br>**Labels to Render**:<br>- Truck: "Huge Transaction"<br>- Road: "System Performance"<br>- Block: "Lock / Delay"<br>- Cars: "Other Users"<br><br>**Visual Details**:<br>1. Core Concept: Large transactions block system resources.<br>2. Metaphor: A narrow road labeled "System Performance".<br>   - A giant, oversized truck labeled "Huge Transaction" is stuck, blocking all traffic.<br>   - Small cars labeled "Other Users" are honking and waiting behind it.<br>3. Action: Blocking.<br>4. Layout: Road scene. | ## âŒ èª¤è§£Cï¼šå¢ƒç•Œã¯â€œãªã‚‹ã¹ãå¤§ããâ€ã—ãŸã»ã†ãŒå®‰å…¨ |
| 633 | docs/ab_tcb_cs_study_007.md | ab_tcb_cs_study_007_cafe_boundary_example.png | ./picture/ab_tcb_cs_study_007_cafe_boundary_example.png | **Theme**: Cafe Order Boundary<br><br>**Labels to Render**:<br>- Inside: "Order / Items"<br>- Outside: "Payment API"<br>- Boundary: "Transaction"<br>- Lock: "Lock"<br><br>**Visual Details**:<br>1. Core Concept: Specific boundary for Confirm Order use case.<br>2. Metaphor: A secure circle (Boundary).<br>   - Inside the circle: Icons for "Order" and "OrderItems" are locked together.<br>   - Outside the circle: An icon for "Payment API" stands separate.<br>   - A lock icon reinforces the security of the inner circle.<br>3. Action: Enclosing.<br>4. Layout: Diagrammatic view. | ## ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä¾‹â‘¡ï¼šæ³¨æ–‡ã‚’ç¢ºå®šã™ã‚‹ğŸ§¾âœ… |
| 634 | docs/ab_tcb_cs_study_007.md | ab_tcb_cs_study_007_partial_save_accident.png | ./picture/ab_tcb_cs_study_007_partial_save_accident.png | **Theme**: Partial Save Accident<br><br>**Labels to Render**:<br>- Bottom: "Item Save (OK)"<br>- Top: "Order Update (Fail)"<br>- Collapse: "Inconsistent"<br><br>**Visual Details**:<br>1. Core Concept: Partial saving leads to inconsistency.<br>2. Metaphor: A character building a tower.<br>   - They place the bottom block "Item Save".<br>   - They try to place the top block "Order Update", but it falls off because the glue "Transaction" wasn't applied.<br>   - The tower collapses or looks broken.<br>3. Action: Failure.<br>4. Layout: Construction scene. | ## ã‚±ãƒ¼ã‚¹ï¼šæ³¨æ–‡ç¢ºå®šã®é€”ä¸­ã§åˆ¥ä¿å­˜ã—ã¡ã‚ƒã†ğŸ˜‡ |
| 635 | docs/ab_tcb_cs_study_007.md | ab_tcb_cs_study_007_ai_boundary_check.png | ./picture/ab_tcb_cs_study_007_ai_boundary_check.png | **Theme**: AI Boundary Check<br><br>**Labels to Render**:<br>- Robot: "AI Check"<br>- Diagram: "Boundary Design"<br>- Warning: "Too Big?"<br>- OK: "Good Size"<br><br>**Visual Details**:<br>1. Core Concept: Using AI to review boundary size.<br>2. Metaphor: A robot (AI) holding a magnifying glass scanning a diagram labeled "Boundary".<br>   - The robot points out a section with a "Too Big?" warning sign.<br>   - Another section gets a green "Good Size" checkmark.<br>3. Action: Inspection.<br>4. Layout: Review scene. | ## 10. AIï¼ˆCopilot/Codexï¼‰ã‚’ä½¿ã†ã¨ãã®å‹ğŸ¤–âœ¨ |
| 636 | docs/ab_tcb_cs_study_008.md | ab_tcb_cs_study_008_cafe_events_filmstrip.png | ./picture/ab_tcb_cs_study_008_cafe_events_filmstrip.png | **Theme**: Cafe Ordering Events Timeline<br><br>**Labels to Render**:<br>- Frame 1: "Start Order"<br>- Frame 2: "Add Cake"<br>- Frame 3: "Confirm"<br>- Frame 4: "Pay"<br>- Frame 5: "Serve"<br><br>**Visual Details**:<br>1. Core Concept: Sequential user actions as events.<br>2. Metaphor: A film strip or timeline.<br>   - Frame 1: Hand writing on pad (Start).<br>   - Frame 2: Adding a cake icon (Add Item).<br>   - Frame 3: Stamping "Confirmed" on a receipt (Place).<br>   - Frame 4: Handing a credit card (Pay).<br>   - Frame 5: Handing over a coffee cup (Serve).<br>3. Action: Progression.<br>4. Layout: Horizontal strip. | ## 8.2 é¡Œæã®èˆå°ï¼šã‚«ãƒ•ã‚§ã®æ³¨æ–‡ã£ã¦ã€å®Ÿã¯ã‚¤ãƒ™ãƒ³ãƒˆã ã‚‰ã‘â˜•ï¸ğŸ¬ |
| 637 | docs/ab_tcb_cs_study_008.md | ab_tcb_cs_study_008_order_flow_map.png | ./picture/ab_tcb_cs_study_008_order_flow_map.png | **Theme**: Order State Subway Map<br><br>**Labels to Render**:<br>- Station 1: "Draft (Blue)"<br>- Station 2: "Placed (Orange)"<br>- Station 3: "Paid (Green)"<br>- Station 4: "Completed (Gold)"<br>- Side Track: "Cancelled (Gray)"<br><br>**Visual Details**:<br>1. Core Concept: Linear progression of order states.<br>2. Metaphor: A subway line map.<br>   - Main line connects stations: "Draft" -> "Placed" -> "Paid" -> "Completed".<br>   - A side branch from Draft and Placed goes to a dead-end station "Cancelled".<br>   - Clear arrows showing direction.<br>3. Action: Journey.<br>4. Layout: Map style. | ## 8.4 æ³¨æ–‡ã®æµã‚Œï¼ˆã¾ãšã¯ç´ ç›´ã«1æœ¬ï¼‰ğŸ“ˆâœ¨ |
| 638 | docs/ab_tcb_cs_study_008.md | ab_tcb_cs_study_008_business_rule_pillars.png | ./picture/ab_tcb_cs_study_008_business_rule_pillars.png | **Theme**: Business Rule Pillars<br><br>**Labels to Render**:<br>- Pillar 1: "Editing Rules"<br>- Pillar 2: "Pricing Rules"<br>- Pillar 3: "Payment Rules"<br>- Pillar 4: "Op Rules"<br>- Roof: "Cafe Domain"<br><br>**Visual Details**:<br>1. Core Concept: Four foundational rule categories.<br>2. Metaphor: Four strong Greek-style pillars supporting a roof labeled "Cafe Domain".<br>   - Each pillar represents a category: Editing (No change after confirm), Pricing (Fixed at order), Payment (Match total), Operation (Make after pay).<br>3. Action: Support.<br>4. Layout: Architectural view. | ## 8.5 â€œã‚ã‚ŠãŒã¡ãªæ¥­å‹™ãƒ«ãƒ¼ãƒ«â€ ã‚’å…ˆã«ä¸¦ã¹ã‚ˆã†ğŸ“‹âœ¨ï¼ˆã“ã“ãŒè¶…å¤§äº‹ï¼ï¼‰ |
| 639 | docs/ab_tcb_cs_study_008.md | ab_tcb_cs_study_008_status_complexity_scale.png | ./picture/ab_tcb_cs_study_008_status_complexity_scale.png | **Theme**: Status vs Complexity Scale<br><br>**Labels to Render**:<br>- Left: "Few States"<br>- Right: "Many States"<br>- Load: "Complex Rules"<br><br>**Visual Details**:<br>1. Core Concept: More states mean more complex rules.<br>2. Metaphor: A balance scale.<br>   - Left Side (Light): "Few States" with one thin book labeled "Rules".<br>   - Right Side (Heavy): "Many States" with a stack of thick books labeled "Complex Rules".<br>   - The "Many States" side is weighed down significantly.<br>3. Action: Weighing.<br>4. Layout: Scale view. | ## 8.6 â€œçŠ¶æ…‹ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼‰â€ ã‚’æ±ºã‚ã‚‹ã¨ä¸€æ°—ã«ãƒ©ã‚¯ğŸš¦âœ¨ |
| 640 | docs/ab_tcb_cs_study_008.md | ab_tcb_cs_study_008_event_stamp_rally.png | ./picture/ab_tcb_cs_study_008_event_stamp_rally.png | **Theme**: Domain Event Stamp Rally<br><br>**Labels to Render**:<br>- Stamp 1: "OrderStarted"<br>- Stamp 2: "OrderPlaced"<br>- Stamp 3: "PaymentSucceeded"<br>- Card: "Event Log"<br><br>**Visual Details**:<br>1. Core Concept: Events are facts that happened in the past.<br>2. Metaphor: A stamp rally card.<br>   - A hand pressing a stamp onto a circle.<br>   - Existing stamps (wet ink): "OrderStarted", "OrderPlaced".<br>   - The stamps represent irreversible facts.<br>3. Action: Stamping.<br>4. Layout: Card close-up. | ## 8.7 â€œèµ·ããŸäº‹å®Ÿï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰â€ ã£ã½ãè¨€ã†ç·´ç¿’ğŸ“£âœ¨ |
| 641 | docs/ab_tcb_cs_study_008.md | ab_tcb_cs_study_008_ai_gold_panning.png | ./picture/ab_tcb_cs_study_008_ai_gold_panning.png | **Theme**: AI Rule Extraction (Gold Panning)<br><br>**Labels to Render**:<br>- River: "AI Suggestions (Many)"<br>- Pan: "Human Filter"<br>- Gold: "Core Rules"<br><br>**Visual Details**:<br>1. Core Concept: Filtering AI suggestions to find core rules.<br>2. Metaphor: Gold panning in a river.<br>   - The river (AI) flows with mud and many stones (Raw Rules).<br>   - A prospector (Human) uses a pan (Filter) to catch only the shining "Gold Nuggets" (Core Rules).<br>   - Discarding the mud (Irrelevant details).<br>3. Action: Filtering.<br>4. Layout: River scene. | ## 8.10 AIã«ã€Œã‚ã‚Šãã†ãªãƒ«ãƒ¼ãƒ«ã€ã‚’å‡ºã•ã›ã‚‹ğŸ¤–âœ¨ï¼ˆã§ã‚‚ä¸¸å‘‘ã¿ç¦æ­¢ï¼ï¼‰ |
| 642 | docs/ab_tcb_cs_study_009.md | ab_tcb_cs_study_009_ubiquitous_circle.png | ./picture/ab_tcb_cs_study_009_ubiquitous_circle.png | **Theme**: Ubiquitous Language Circle<br><br>**Labels to Render**:<br>- Entity 1: "Business Person"<br>- Entity 2: "Developer"<br>- Entity 3: "Code"<br>- Entity 4: "Document"<br>- Thread: "Ubiquitous Language"<br><br>**Visual Details**:<br>1. Core Concept: Shared language connects everyone and everything.<br>2. Metaphor: A circle of entities: "Business Person", "Developer", "Document", "Code".<br>   - A glowing golden thread connects all of them, representing the "Shared Language".<br>   - No gaps in the connection.<br>3. Action: Connection.<br>4. Layout: Circular network. | ## 9.1 ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªã£ã¦ãªã«ï¼ŸğŸ“–âœ¨ |
| 643 | docs/ab_tcb_cs_study_009.md | ab_tcb_cs_study_009_broken_telephone_puzzle.png | ./picture/ab_tcb_cs_study_009_broken_telephone_puzzle.png | **Theme**: Language Mismatch Puzzle<br><br>**Labels to Render**:<br>- Piece 1: "Confirmed (Store)"<br>- Piece 2: "Saved (Dev)"<br>- Piece 3: "Paid (User)"<br>- Spark: "Mismatch!"<br><br>**Visual Details**:<br>1. Core Concept: Mismatched definitions cause chaos.<br>2. Metaphor: Three puzzle pieces that don't fit.<br>   - Piece 1 held by a Store Clerk labeled "Confirmed".<br>   - Piece 2 held by a Developer labeled "Saved".<br>   - Piece 3 held by a User labeled "Paid".<br>   - They try to connect, but the edges clash/spark.<br>3. Action: Conflict.<br>4. Layout: Puzzle assembly. | ## 9.2 ãªã‚“ã§è¨€è‘‰ãŒã‚ºãƒ¬ã‚‹ã¨è¨­è¨ˆãŒå£Šã‚Œã‚‹ã®ï¼ŸğŸ˜µâ€ğŸ’«ğŸ’¥ |
| 644 | docs/ab_tcb_cs_study_009.md | ab_tcb_cs_study_009_three_golden_keys.png | ./picture/ab_tcb_cs_study_009_three_golden_keys.png | **Theme**: Three Iron Rules Keys<br><br>**Labels to Render**:<br>- Key 1: "1 Name (Label)"<br>- Key 2: "Action (Verb)"<br>- Key 3: "Status (State)"<br>- Ring: "Iron Rules"<br><br>**Visual Details**:<br>1. Core Concept: Three essential rules for Ubiquitous Language.<br>2. Metaphor: Three distinct golden keys hanging on a ring.<br>   - Key 1 has a tag icon (Noun).<br>   - Key 2 has a running icon (Verb).<br>   - Key 3 has a traffic light icon (Status).<br>3. Action: Security/Access.<br>4. Layout: Object close-up. | ## 9.4 ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªã®ã€Œ3ã¤ã®é‰„å‰‡ã€ğŸ§·âœ¨ |
| 645 | docs/ab_tcb_cs_study_009.md | ab_tcb_cs_study_009_place_vs_pay.png | ./picture/ab_tcb_cs_study_009_place_vs_pay.png | **Theme**: Place Order vs Complete Payment<br><br>**Labels to Render**:<br>- Box 1: "Place Order"<br>- Box 2: "Complete Payment"<br>- Arrow: "Sequence"<br><br>**Visual Details**:<br>1. Core Concept: Distinguishing two similar but distinct actions.<br>2. Metaphor: Two separate, clearly labeled boxes.<br>   - Box 1 (Blue): "Place Order" with a receipt icon and a lock (Fixed).<br>   - Box 2 (Green): "Complete Payment" with a credit card icon and a checkmark (Paid).<br>   - An arrow connects them, showing order, but they are separate entities.<br>3. Action: Process flow.<br>4. Layout: Sequential boxes. | ## 9.6 â€œæ³¨æ–‡ç¢ºå®šâ€ã¨â€œæ”¯æ‰•ã„å®Œäº†â€ã‚’åˆ†ã‘ã¦è¨€èªåŒ–ã—ã‚ˆã†âœ…ğŸ’³ |
| 646 | docs/ab_tcb_cs_study_009.md | ab_tcb_cs_study_009_dictionary_card.png | ./picture/ab_tcb_cs_study_009_dictionary_card.png | **Theme**: Mini Dictionary Card<br><br>**Labels to Render**:<br>- Term: "Place Order"<br>- Def: "Fix items & total"<br>- NG: "NG: Save Only"<br>- State: "State: Placed"<br><br>**Visual Details**:<br>1. Core Concept: A standardized format for defining terms.<br>2. Metaphor: A clean index card or flashcard.<br>   - Header: "Term: Place Order".<br>   - Body sections: "Definition", "NG Synonym", "Related State".<br>   - Clean typography.<br>3. Action: Definition.<br>4. Layout: Card view. | ## 9.7 ã€Œè¾æ›¸ï¼ˆ1ãƒšãƒ¼ã‚¸ï¼‰ã€ã‚’ä½œã‚ã†ğŸ“–ğŸ«¶ |
| 647 | docs/ab_tcb_cs_study_009.md | ab_tcb_cs_study_009_dictionary_to_code.png | ./picture/ab_tcb_cs_study_009_dictionary_to_code.png | **Theme**: Dictionary to Code Translation<br><br>**Labels to Render**:<br>- Book: "Dictionary (Place Order)"<br>- Screen: "C# Code (Order.Place())"<br>- Magic: "Translation"<br><br>**Visual Details**:<br>1. Core Concept: Directly mapping dictionary terms to code artifacts.<br>2. Metaphor: Magical translation.<br>   - Left: An open dictionary book showing the entry "Place Order".<br>   - Right: A computer screen showing the code `public void Place() { ... }`.<br>   - Sparkles or a magical bridge connecting the Book to the Screen.<br>3. Action: Transformation.<br>4. Layout: Side by side. | ## 9.9 è¾æ›¸ã‚’C#ã®åå‰ã«è½ã¨ã™ã‚³ãƒ„ğŸ’»ğŸ€ |
| 648 | docs/ab_tcb_cs_study_009.md | ab_tcb_cs_study_009_ai_ambiguity_check.png | ./picture/ab_tcb_cs_study_009_ai_ambiguity_check.png | **Theme**: AI Ambiguity Checker<br><br>**Labels to Render**:<br>- Robot: "AI Check"<br>- Doc: "Spec Document"<br>- Circle: "Ambiguous Word"<br>- Bubble: "Confirm vs Pay?"<br><br>**Visual Details**:<br>1. Core Concept: AI detecting ambiguous language.<br>2. Metaphor: A robot (AI) reviewing a document.<br>   - The robot holds a red pen and circles the words "Confirm" and "Done".<br>   - A speech bubble from the robot asks "Ambiguous? Confirm vs Pay?".<br>3. Action: Reviewing.<br>4. Layout: Character focus. | ## 9.11 AIæ‹¡å¼µï¼ˆCopilot/Codexãªã©ï¼‰ã§â€œè¨€è‘‰ã‚ºãƒ¬â€ã‚’æ¸›ã‚‰ã™ğŸ¤–âœ¨ |
| 649 | docs/ab_tcb_cs_study_010.md | ab_tcb_cs_study_010_noun_extraction.png | ./picture/ab_tcb_cs_study_010_noun_extraction.png | **Theme**: Extracting Nouns from Sentences<br><br>**Labels to Render**:<br>- Text: "Business Description"<br>- Word 1: "Order"<br>- Word 2: "Payment"<br>- Box 1: "Order (Box)"<br>- Box 2: "Payment (Box)"<br><br>**Visual Details**:<br>1. Core Concept: Turning business terms into model concepts.<br>2. Metaphor: Highlighting process.<br>   - A document with text. A yellow highlighter pen marks nouns like "Order" and "Payment".<br>   - These highlighted words lift off the page and transform into solid 3D boxes.<br>3. Action: Extraction.<br>4. Layout: Text to Object flow. | ## 3) ã¾ãšã¯â€œåè©â€ã‚’ç®±ã«ã™ã‚‹ğŸ“¦ğŸ–Šï¸ |
| 650 | docs/ab_tcb_cs_study_010.md | ab_tcb_cs_study_010_update_unit_gears.png | ./picture/ab_tcb_cs_study_010_update_unit_gears.png | **Theme**: Synchronous Update Unit<br><br>**Labels to Render**:<br>- Gear 1: "Order"<br>- Gear 2: "Item"<br>- Gear 3: "Customer"<br>- Link: "Sync"<br><br>**Visual Details**:<br>1. Core Concept: Defining aggregates by what changes together.<br>2. Metaphor: Gears.<br>   - Gear 1 (Order) and Gear 2 (Item) are meshed together and turn simultaneously (Synchronous).<br>   - Gear 3 (Customer) is separate and distant (Asynchronous/Independent).<br>   - A spotlight shines on the meshed pair as the "Unit".<br>3. Action: Synchronization.<br>4. Layout: Mechanical view. | ## 5) ä»Šæ—¥ã®ä¸»å½¹ï¼šã€Œæ›´æ–°ã•ã‚Œã‚‹å˜ä½ã€ã‚’æ¢ã™ğŸ‘€ğŸ”’ |
| 651 | docs/ab_tcb_cs_study_010.md | ab_tcb_cs_study_010_simple_model_diagram.png | ./picture/ab_tcb_cs_study_010_simple_model_diagram.png | **Theme**: Simple ID Reference Diagram<br><br>**Labels to Render**:<br>- Center: "Order Agg"<br>- Side 1: "Customer Agg"<br>- Side 2: "Payment Agg"<br>- Line: "ID Ref"<br><br>**Visual Details**:<br>1. Core Concept: Aggregates referencing each other by ID.<br>2. Metaphor: A clean network diagram.<br>   - Center Node: "Order Aggregate" (containing Order & Item).<br>   - Satellite Nodes: "Customer Aggregate", "Payment Aggregate".<br>   - Dotted lines connect them, labeled "ID Ref" (Not direct object link).<br>3. Action: Referencing.<br>4. Layout: Network diagram. | ## 7) â€œã–ã£ãã‚Šãƒ¢ãƒ‡ãƒ«å›³â€ã®ä¾‹ï¼ˆæ–‡å­—ã§è¡¨ç¾ï¼‰ğŸ–¼ï¸âœ¨ |
| 652 | docs/ab_tcb_cs_study_010.md | ab_tcb_cs_study_010_diagram_to_code.png | ./picture/ab_tcb_cs_study_010_diagram_to_code.png | **Theme**: Model to Code Skeleton<br><br>**Labels to Render**:<br>- Diagram: "Model Box"<br>- Code: "C# Class"<br>- Property: "OrderId"<br>- Action: "Implement"<br><br>**Visual Details**:<br>1. Core Concept: Translating visual model to code structure.<br>2. Metaphor: Blueprint to Building.<br>   - Left: A simple blue box labeled "Order" with a list of properties.<br>   - Right: A computer screen showing the corresponding C# code `class Order { ... }`.<br>   - An arrow connects them showing the flow.<br>3. Action: Translation.<br>4. Layout: Side by side. | ## 8) C#ã®â€œéª¨çµ„ã¿â€ã«ã—ã¦ã¿ã‚‹ï¼ˆã¾ã è–„ãã¦OKï¼‰ğŸ¦´âœ¨ |
| 653 | docs/ab_tcb_cs_study_010.md | ab_tcb_cs_study_010_ai_options.png | ./picture/ab_tcb_cs_study_010_ai_options.png | **Theme**: AI Proposing Options<br><br>**Labels to Render**:<br>- Robot: "AI Proposals"<br>- Plan A: "Plan A"<br>- Plan B: "Plan B"<br>- Plan C: "Plan C"<br>- Human: "Decision"<br><br>**Visual Details**:<br>1. Core Concept: AI provides options, Human decides.<br>2. Metaphor: A robot waiter (AI) presenting a tray with three different architectural blueprints (Plan A, B, C).<br>   - A human architect is reviewing them to pick the best one.<br>3. Action: Presentation.<br>4. Layout: Interaction scene. | ## 9) AIã«æ‰‹ä¼ã£ã¦ã‚‚ã‚‰ã†ï¼ˆä¸¸æŠ•ã’ç¦æ­¢ã®å‹ï¼‰ğŸ¤–âœ¨ |
| 654 | docs/ab_tcb_cs_study_010.md | ab_tcb_cs_study_010_db_trap.png | ./picture/ab_tcb_cs_study_010_db_trap.png | **Theme**: DB Schema Trap<br><br>**Labels to Render**:<br>- Trap: "DB Schema (Too Detailed)"<br>- Goal: "Domain Model (Abstract)"<br>- Warning: "Trap!"<br><br>**Visual Details**:<br>1. Core Concept: Don't design the DB schema first.<br>2. Metaphor: A trap.<br>   - Background: A dense, complex grid of tables with FK/PK lines (The Trap).<br>   - Foreground: A simple, clean box-and-line diagram (The Goal).<br>   - A red "X" or warning sign over the DB schema.<br>3. Action: Warning.<br>4. Layout: Contrast view. | ## 10) ã‚ˆãã‚ã‚‹å¤±æ•—ã‚ã‚‹ã‚ã‚‹ğŸ˜…ğŸ’¥ï¼ˆå…ˆã«æ½°ã™ï¼ï¼‰ |
| 655 | docs/ab_tcb_cs_study_011.md | ab_tcb_cs_study_011_inconsistent_state_bug.png | ./picture/ab_tcb_cs_study_011_inconsistent_state_bug.png | **Theme**: Inconsistent State Nightmare<br><br>**Labels to Render**:<br>- Item 1: "Item A: 500"<br>- Item 2: "Item B: 300"<br>- Total: "Total: 1000"<br>- Error: "Mismatch?!"<br><br>**Visual Details**:<br>1. Core Concept: Lack of aggregate leads to data inconsistency.<br>2. Metaphor: A receipt or calculator screen showing mathematically impossible numbers.<br>   - Item 1 (500) + Item 2 (300) = Total (1000).<br>   - A confused character looks at the mismatch with red question marks.<br>3. Action: Confusion.<br>4. Layout: Object close-up. | ## 11.2 ãªãœé›†ç´„ãŒå¿…è¦ãªã®ï¼ŸğŸ›¡ï¸ğŸ˜µâ€ğŸ’« |
| 656 | docs/ab_tcb_cs_study_011.md | ab_tcb_cs_study_011_aggregate_vs_table.png | ./picture/ab_tcb_cs_study_011_aggregate_vs_table.png | **Theme**: Aggregate vs DB Table<br><br>**Labels to Render**:<br>- Left: "Aggregate (Rules)"<br>- Right: "DB Table (Storage)"<br>- Sign: "Not Equal"<br><br>**Visual Details**:<br>1. Core Concept: Business rules vs Data structure.<br>2. Metaphor: Comparison.<br>   - Left: "Aggregate" represented by a glowing organic sphere containing related objects (Order, Item).<br>   - Right: "DB Table" represented by a rigid Excel-like grid structure.<br>   - An "â‰ " (Not Equal) sign between them.<br>3. Action: Comparison.<br>4. Layout: Side by side. | ## 11.4 ã€Œé›†ç´„ï¼DBãƒ†ãƒ¼ãƒ–ãƒ«ã€ã˜ã‚ƒãªã„ã‚ˆï¼âš ï¸ğŸ—ƒï¸ |
| 657 | docs/ab_tcb_cs_study_011.md | ab_tcb_cs_study_011_aggregate_size_bowls.png | ./picture/ab_tcb_cs_study_011_aggregate_size_bowls.png | **Theme**: Aggregate Size Goldilocks<br><br>**Labels to Render**:<br>- Bowl 1: "Too Big (Slow)"<br>- Bowl 2: "Too Small (Risky)"<br>- Bowl 3: "Just Right (Safe)"<br><br>**Visual Details**:<br>1. Core Concept: Finding the optimal aggregate size.<br>2. Metaphor: Three bowls of porridge.<br>   - Bowl 1 (Overflowing/Huge): Labeled "Too Big", causing "Lock/Delay".<br>   - Bowl 2 (Empty/Spilled): Labeled "Too Small", showing "Broken Rules".<br>   - Bowl 3 (Perfect): Labeled "Just Right", glowing with "Safe & Fast".<br>3. Action: Selection.<br>4. Layout: Three items row. | ## 11.5 é›†ç´„ã¯â€œå¤§ãã„ã»ã©è‰¯ã„â€ã˜ã‚ƒãªã„âš ï¸ğŸ“ |
| 658 | docs/ab_tcb_cs_study_011.md | ab_tcb_cs_study_011_order_rules_shield.png | ./picture/ab_tcb_cs_study_011_order_rules_shield.png | **Theme**: Order Rules Shield<br><br>**Labels to Render**:<br>- Shield: "Order Invariants"<br>- Q1: "Draft Only"<br>- Q2: "No Change"<br>- Q3: "Auto Total"<br>- Q4: "Not Empty"<br><br>**Visual Details**:<br>1. Core Concept: Four main rules guarding the Order.<br>2. Metaphor: A crusader shield divided into 4 quadrants.<br>   - Q1: Icon for "Draft Only" (Edit pencil allowed only in draft).<br>   - Q2: Icon for "No Change" (Lock icon for confirmed).<br>   - Q3: Icon for "Calculator" (Auto Total).<br>   - Q4: Icon for "Not Empty" (No 0 items).<br>3. Action: Protection.<br>4. Layout: Shield close-up. | ## 11.6 ä¾‹ï¼šã‚«ãƒ•ã‚§æ³¨æ–‡ã§â€œé›†ç´„â€ã‚’ä½œã£ã¦ã¿ã‚ˆã†â˜•ï¸ğŸ“¦ |
| 659 | docs/ab_tcb_cs_study_011.md | ab_tcb_cs_study_011_encapsulation_glass_box.png | ./picture/ab_tcb_cs_study_011_encapsulation_glass_box.png | **Theme**: Encapsulation Glass Box<br><br>**Labels to Render**:<br>- Box: "Order Aggregate"<br>- Hand 1: "Direct Access (Block)"<br>- Hand 2: "Method (Allowed)"<br>- Button: "AddItem()"<br><br>**Visual Details**:<br>1. Core Concept: Protecting internal state.<br>2. Metaphor: A strong glass display case containing "OrderItems".<br>   - Hand 1 tries to grab an item directly but hits the glass (Blocked).<br>   - Hand 2 presses a button on the outside labeled "AddItem()" (Allowed), which adds an item safely.<br>3. Action: Access Control.<br>4. Layout: Interaction scene. | ## 11.7 C#ã§â€œæœ€å°ã®é›†ç´„â€ã‚’æ›¸ã„ã¦ã¿ã‚‹ğŸ› ï¸ğŸŒ¸ |
| 660 | docs/ab_tcb_cs_study_011.md | ab_tcb_cs_study_011_ai_pros_cons.png | ./picture/ab_tcb_cs_study_011_ai_pros_cons.png | **Theme**: AI Weighing Pros and Cons<br><br>**Labels to Render**:<br>- Robot: "AI Analysis"<br>- Scale: "Trade-offs"<br>- Left: "Plan A (Pros)"<br>- Right: "Plan B (Cons)"<br><br>**Visual Details**:<br>1. Core Concept: AI provides balanced analysis.<br>2. Metaphor: A robot (AI) holding a balance scale.<br>   - Left Pan: "Plan A" (with a weight labeled "Pros").<br>   - Right Pan: "Plan B" (with a weight labeled "Cons").<br>   - The robot is analyzing the balance/trade-offs.<br>3. Action: Weighing.<br>4. Layout: Character focus. | ## 11.9 AIã«æ‰‹ä¼ã‚ã›ã‚‹ã‚³ãƒ„ğŸ¤–âœ¨ï¼ˆä¸¸æŠ•ã’ç¦æ­¢ã ã‚ˆğŸ˜‡ï¼‰ |
| 661 | docs/ab_tcb_cs_study_012.md | ab_tcb_cs_study_012_three_root_rules.png | ./picture/ab_tcb_cs_study_012_three_root_rules.png | **Theme**: Three Root Rules<br><br>**Labels to Render**:<br>- Rule 1: "Root Only (Entrance)"<br>- Rule 2: "Private (No Peek)"<br>- Rule 3: "Guard (Protect)"<br><br>**Visual Details**:<br>1. Core Concept: Three iron rules of Aggregate Root.<br>2. Metaphor: Three iconic signs.<br>   - Sign 1: A Door with "Root Only".<br>   - Sign 2: A Box wrapped in "Private" tape (Hiding internals).<br>   - Sign 3: A Crown with a Shield (Root protects).<br>3. Action: Displaying rules.<br>4. Layout: Three panels. | ## 12.4 ãƒ«ãƒ¼ãƒ«3ã¤ã ã‘è¦šãˆã‚ˆã†ğŸ“Œï¼ˆé›†ç´„ãƒ«ãƒ¼ãƒˆã®é‰„æ¿ï¼‰ |
| 662 | docs/ab_tcb_cs_study_012.md | ab_tcb_cs_study_012_root_checklist.png | ./picture/ab_tcb_cs_study_012_root_checklist.png | **Theme**: Aggregate Root Checklist<br><br>**Labels to Render**:<br>- Character: "Order Root"<br>- List: "Rules"<br>- Item 1: "Qty >= 1"<br>- Item 2: "Draft Only"<br>- Item 3: "Merge Items"<br><br>**Visual Details**:<br>1. Core Concept: Root enforces specific domain rules.<br>2. Metaphor: A character "Order (Root)" holding a clipboard.<br>   - The clipboard lists: "Qty >= 1", "Draft Only", "Merge Items".<br>   - The character is checking off items with a pen.<br>3. Action: Checking.<br>4. Layout: Character focus. | ## 12.5 ä¾‹é¡Œãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆã‚«ãƒ•ã‚§æ³¨æ–‡ï¼‰â˜•ï¸ğŸ° |
| 663 | docs/ab_tcb_cs_study_012.md | ab_tcb_cs_study_012_money_guard.png | ./picture/ab_tcb_cs_study_012_money_guard.png | **Theme**: Value Object Guard<br><br>**Labels to Render**:<br>- Machine: "Money Factory"<br>- Input 1: "100 (OK)"<br>- Input 2: "-500 (Error)"<br>- Output: "Money Object"<br><br>**Visual Details**:<br>1. Core Concept: Value Object constructor prevents invalid state.<br>2. Metaphor: A futuristic "Money Factory" machine.<br>   - Input slot accepts "100" (Green light), producing a shiny coin.<br>   - Input slot rejects "-500" (Red light/Alarm), spitting it back.<br>3. Action: Filtering.<br>4. Layout: Machine close-up. | ### 12.6.1 ValueObjectï¼ˆMoneyï¼‰ğŸ’° |
| 664 | docs/ab_tcb_cs_study_012.md | ab_tcb_cs_study_012_public_list_danger.png | ./picture/ab_tcb_cs_study_012_public_list_danger.png | **Theme**: Public List Danger<br><br>**Labels to Render**:<br>- House: "Aggregate"<br>- Door: "Method (Locked)"<br>- Hole: "Public List (Open)"<br>- Thief: "External Code"<br>- Item: "Internal Data"<br><br>**Visual Details**:<br>1. Core Concept: Exposing internal list breaks encapsulation.<br>2. Metaphor: A house representing the Aggregate.<br>   - Front door is locked ("Root Method").<br>   - The side wall is missing (Hole labeled "Public List").<br>   - A thief ("External Code") walks in through the missing wall and messes up the furniture ("Internal Data").<br>3. Action: Intrusion.<br>4. Layout: Scene view. | ## 12.7 â€œã‚„ã£ã¡ã‚ƒãƒ€ãƒ¡â€ãªä¾‹ï¼ˆäº‹æ•…ã‚‹ã‚„ã¤ï¼‰ğŸš‘ğŸ’¥ |
| 665 | docs/ab_tcb_cs_study_012.md | ab_tcb_cs_study_012_app_service_relay.png | ./picture/ab_tcb_cs_study_012_app_service_relay.png | **Theme**: Application Service Relay<br><br>**Labels to Render**:<br>- Runner 1: "Repo"<br>- Runner 2: "App Service"<br>- Runner 3: "Order Root"<br>- Baton: "Data"<br><br>**Visual Details**:<br>1. Core Concept: Flow of control in Application Service.<br>2. Metaphor: A relay race sequence.<br>   - 1. "Repo" hands "Order" baton to "App Service".<br>   - 2. "App Service" hands baton to "Order Root" (who runs the Logic lap).<br>   - 3. "App Service" takes baton back and hands it to "Repo" (Save).<br>3. Action: Relay.<br>4. Layout: Track view. | ## 12.8 â€œé›†ç´„ãƒ«ãƒ¼ãƒˆçµŒç”±â€ã§ã‚¢ãƒ—ãƒªå±¤ãŒã©ã†æ›¸ã‘ã‚‹ï¼ŸğŸ¬âœ¨ |
| 666 | docs/ab_tcb_cs_study_012.md | ab_tcb_cs_study_012_copilot_prompt.png | ./picture/ab_tcb_cs_study_012_copilot_prompt.png | **Theme**: Copilot Prompting for Root<br><br>**Labels to Render**:<br>- User: "Prompt: Make Order Safe"<br>- AI: "Copilot"<br>- Code: "private list / AddItem()"<br>- Sparkle: "Safe Code"<br><br>**Visual Details**:<br>1. Core Concept: Using AI to generate safe encapsulation code.<br>2. Metaphor: A chat interface.<br>   - User types: "Make Order Root safe".<br>   - Copilot Robot replies with a code block showing `private list` and `AddItem()`.<br>   - Sparkles around the code indicating quality.<br>3. Action: Generation.<br>4. Layout: Chat view. | ## 12.9 Copilot / Codex æ´»ç”¨ãƒ¡ãƒ¢ğŸ¤–âœ¨ï¼ˆã“ã®ç« ã§åŠ¹ãä½¿ã„æ–¹ï¼‰ |
| 667 | docs/ab_tcb_cs_study_013.md | ab_tcb_cs_study_013_consistency_fork.png | ./picture/ab_tcb_cs_study_013_consistency_fork.png | **Theme**: Immediate vs Eventual Consistency Fork<br><br>**Labels to Render**:<br>- Path A: "Immediate (Instant Death)"<br>- Path B: "Eventual (Late OK)"<br>- Sign A: "Must not break!"<br>- Sign B: "Late is OK"<br><br>**Visual Details**:<br>1. Core Concept: Choosing between strict and loose consistency.<br>2. Metaphor: A fork in the road.<br>   - Path A (Red, Lightning): Represents Immediate Consistency. Dangerous if broken.<br>   - Path B (Yellow, Hourglass): Represents Eventual Consistency. Relaxed, time-based.<br>3. Action: Decision.<br>4. Layout: Forked path. | ## ã¾ãšçµè«–ï¼ˆè¶…ã ã„ã˜ï¼‰ğŸ“ŒğŸ’¡ |
| 668 | docs/ab_tcb_cs_study_013.md | ab_tcb_cs_study_013_cafe_rule_board.png | ./picture/ab_tcb_cs_study_013_cafe_rule_board.png | **Theme**: Cafe Rule Classification Board<br><br>**Labels to Render**:<br>- Board: "Rule Sorting"<br>- Note 1: "Total Match"<br>- Note 2: "No Add"<br>- Note 3: "Email"<br>- Zone Red: "Immediate"<br>- Zone Yellow: "Eventual"<br><br>**Visual Details**:<br>1. Core Concept: Sorting specific rules.<br>2. Metaphor: A corkboard divided into two sections.<br>   - Red Section: Sticky notes "Total Match", "No Add after Confirm".<br>   - Yellow Section: Sticky note "Email".<br>3. Action: Classification.<br>4. Layout: Board view. | ## 3) ä¾‹ã§ã‚„ã£ã¦ã¿ã‚ˆã†ï¼šã‚«ãƒ•ã‚§æ³¨æ–‡ãƒ‰ãƒ¡ã‚¤ãƒ³â˜•ï¸ğŸ° |
| 669 | docs/ab_tcb_cs_study_013.md | ab_tcb_cs_study_013_aggregate_chest.png | ./picture/ab_tcb_cs_study_013_aggregate_chest.png | **Theme**: Rules inside Aggregate Chest<br><br>**Labels to Render**:<br>- Chest: "Aggregate"<br>- Gems: "Rules"<br>- Lid: "Transaction Boundary"<br><br>**Visual Details**:<br>1. Core Concept: Encapsulating rules within the aggregate boundary.<br>2. Metaphor: A sturdy treasure chest.<br>   - Inside, glowing orbs or gems labeled "Rules" are safe.<br>   - The lid is open, showing they are contained.<br>   - The chest represents the "Aggregate".<br>3. Action: Containment.<br>4. Layout: Chest close-up. | ## 4) ã€ŒåŒæ™‚ã«å®ˆã‚‹ã€ï¼ é›†ç´„ã®ä¸­ã«é–‰ã˜è¾¼ã‚ã‚‹ğŸŒ³ğŸ” |
| 670 | docs/ab_tcb_cs_study_013.md | ab_tcb_cs_study_013_method_guard_panel.png | ./picture/ab_tcb_cs_study_013_method_guard_panel.png | **Theme**: Method Guard Panel<br><br>**Labels to Render**:<br>- Panel: "Order Control"<br>- Button 1: "AddItem"<br>- Guard 1: "Check Status"<br>- Button 2: "Confirm"<br>- Guard 2: "Check Count"<br><br>**Visual Details**:<br>1. Core Concept: Methods protecting state changes.<br>2. Metaphor: A control panel for "Order".<br>   - Button "AddItem" is covered by a glass case labeled "Check Status".<br>   - Button "Confirm" is covered by a glass case labeled "Check Count".<br>   - User must lift the guard to press the button.<br>3. Action: Guarding.<br>4. Layout: Control panel. | ## 5) C#ã§ã®å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆæœ€å°ï¼‰ğŸ› ï¸âœ¨ |
| 671 | docs/ab_tcb_cs_study_013.md | ab_tcb_cs_study_013_scattered_rules_puzzle.png | ./picture/ab_tcb_cs_study_013_scattered_rules_puzzle.png | **Theme**: Scattered Rules Nightmare<br><br>**Labels to Render**:<br>- Piece 1: "Rule (UI)"<br>- Piece 2: "Rule (DB)"<br>- Piece 3: "Rule (API)"<br>- Person: "Desperate"<br><br>**Visual Details**:<br>1. Core Concept: Rules scattered across layers are hard to manage.<br>2. Metaphor: A room with puzzle pieces scattered everywhere (under rug, on table, shelves).<br>   - Each piece is a "Rule".<br>   - A developer looks desperate trying to find them all.<br>3. Action: Searching.<br>4. Layout: Room scene. | ## è½ã¨ã—ç©´1ï¼šãƒ«ãƒ¼ãƒ«ã‚’DBãƒˆãƒªã‚¬ãƒ¼ã‚„ã‚¢ãƒ—ãƒªã®ã‚ã¡ã“ã¡ã«æ•£ã‚‰ã™ğŸ˜± |
| 672 | docs/ab_tcb_cs_study_013.md | ab_tcb_cs_study_013_huge_aggregate_elephant.png | ./picture/ab_tcb_cs_study_013_huge_aggregate_elephant.png | **Theme**: Huge Aggregate Elephant<br><br>**Labels to Render**:<br>- Elephant: "Huge Aggregate"<br>- Door: "Transaction"<br>- Stuck: "Stuck!"<br><br>**Visual Details**:<br>1. Core Concept: Oversized aggregates cause performance issues.<br>2. Metaphor: A giant elephant labeled "Huge Aggregate".<br>   - It is trying to squeeze through a small door frame labeled "Transaction".<br>   - It is stuck and blocking the way.<br>3. Action: Stuck.<br>4. Layout: Contrast of size. | ## è½ã¨ã—ç©´2ï¼šã€Œå¿µã®ãŸã‚å…¨éƒ¨åŒæ™‚ã«å®ˆã‚ã†ã€ã§å·¨å¤§é›†ç´„ã«ã™ã‚‹ğŸ˜ğŸ’¦ |
| 673 | docs/ab_tcb_cs_study_013.md | ab_tcb_cs_study_013_sorting_quiz.png | ./picture/ab_tcb_cs_study_013_sorting_quiz.png | **Theme**: Rule Sorting Quiz<br><br>**Labels to Render**:<br>- Card: "Email Rule"<br>- Buzzer Red: "Immediate"<br>- Buzzer Blue: "Eventual"<br>- Action: "Press Blue"<br><br>**Visual Details**:<br>1. Core Concept: Practice classifying rules.<br>2. Metaphor: A game show setting.<br>   - Contestant holding a card "Email Rule".<br>   - Two buzzers: "Immediate" (Red) and "Eventual" (Blue).<br>   - Contestant is confidently about to press the Blue buzzer.<br>3. Action: Quizzing.<br>4. Layout: Game show. | ## 8) ãƒŸãƒ‹æ¼”ç¿’ï¼ˆ3å•ï¼‰âœï¸ğŸ€ |
| 674 | docs/ab_tcb_cs_study_014.md | ab_tcb_cs_study_014_melting_boundaries.png | ./picture/ab_tcb_cs_study_014_melting_boundaries.png | **Theme**: Melting Boundaries<br><br>**Labels to Render**:<br>- Order: "Order"<br>- Customer: "Customer"<br>- Stock: "Stock"<br>- Boundary: "Boundary (Melting)"<br><br>**Visual Details**:<br>1. Core Concept: Tight coupling causing distinct aggregates to merge.<br>2. Metaphor: Three distinct ice cubes (Order, Customer, Stock) melting into a single puddle.<br>3. Action: Melting and merging.<br>4. Layout: Process flow (Solid -> Melting). | ### äº‹æ•…â‘ ï¼šå¢ƒç•ŒãŒæº¶ã‘ã¦ â€œã¤ã„ã§æ›´æ–°â€ ãŒå§‹ã¾ã‚‹ğŸ«  |
| 675 | docs/ab_tcb_cs_study_014.md | ab_tcb_cs_study_014_giant_graph_load.png | ./picture/ab_tcb_cs_study_014_giant_graph_load.png | **Theme**: Giant Graph Load<br><br>**Labels to Render**:<br>- User: "User (Light)"<br>- Order: "Order (Heavy)"<br>- Graph: "Customer / Payment / History"<br>- Load: "Loading..."<br><br>**Visual Details**:<br>1. Core Concept: Accidental loading of a huge object graph.<br>2. Metaphor: A person trying to pick up a small pebble (Order), but it is attached by chains to a mountain of rocks (Customer, Payment, History).<br>3. Action: Lifting with great effort/struggle.<br>4. Layout: Side view. | ### äº‹æ•…â‘¢ï¼šå–ã‚Šã«è¡ŒããŸã³ â€œå·¨å¤§ãªã‚°ãƒ©ãƒ•â€ ã‚’ãƒ­ãƒ¼ãƒ‰ã—ãŒã¡ğŸ§± |
| 676 | docs/ab_tcb_cs_study_014.md | ab_tcb_cs_study_014_obj_vs_id_ref.png | ./picture/ab_tcb_cs_study_014_obj_vs_id_ref.png | **Theme**: Object Reference vs ID Reference<br><br>**Labels to Render**:<br>- Object Ref: "Object Ref (Heavy)"<br>- ID Ref: "ID Ref (Light)"<br>- Order: "Order"<br>- Customer: "Customer"<br><br>**Visual Details**:<br>1. Core Concept: Lightweight connection via ID.<br>2. Metaphor:<br>   - Object Ref: Order carrying a heavy statue of Customer.<br>   - ID Ref: Order holding a lightweight business card with "Customer ID".<br>3. Action: Comparison.<br>4. Layout: Split view. | ## ã‚¤ãƒ¡ãƒ¼ã‚¸å›³ã§ã¤ã‹ã‚‚ã†ğŸ“¦â¡ï¸ğŸ“¦ |
| 677 | docs/ab_tcb_cs_study_014.md | ab_tcb_cs_study_014_snapshot_argument.png | ./picture/ab_tcb_cs_study_014_snapshot_argument.png | **Theme**: Snapshot Argument<br><br>**Labels to Render**:<br>- Order: "Order"<br>- Method: "Place(Snapshot)"<br>- Snapshot: "Customer Snapshot"<br>- Data: "IsBanned: true"<br><br>**Visual Details**:<br>1. Core Concept: Passing minimal required data.<br>2. Metaphor: A polaroid photo (Snapshot) being handed to the Order.<br>   - The photo shows "IsBanned: true".<br>   - Order receives it to make a decision.<br>3. Action: Handing over.<br>4. Layout: Interaction close-up. | #### 2) Orderé›†ç´„ã¯ CustomerId ã ã‘æŒã¤âœ… |
| 678 | docs/ab_tcb_cs_study_014.md | ab_tcb_cs_study_014_boundary_quiz.png | ./picture/ab_tcb_cs_study_014_boundary_quiz.png | **Theme**: Boundary Check Quiz<br><br>**Labels to Render**:<br>- Quiz: "Boundary Quiz"<br>- Option 1: "VO (Address) - OK"<br>- Option 2: "Entity (Customer) - NG"<br>- Option 3: "ID (CustomerId) - OK"<br><br>**Visual Details**:<br>1. Core Concept: Distinguishing valid references.<br>2. Metaphor: A sorting game.<br>   - "VO" and "ID" fit into the "Safe" slot.<br>   - "Entity" triggers a buzzer/alarm.<br>3. Action: Quiz selection.<br>4. Layout: Game show style. | ### ãƒ¯ãƒ¼ã‚¯3ï¼šå¢ƒç•Œãƒã‚§ãƒƒã‚¯ã‚¯ã‚¤ã‚ºâš–ï¸ |
| 679 | docs/ab_tcb_cs_study_015.md | ab_tcb_cs_study_015_huge_aggregate_hell.png | ./picture/ab_tcb_cs_study_015_huge_aggregate_hell.png | **Theme**: Huge Aggregate Hell<br><br>**Labels to Render**:<br>- Huge Aggregate: "Huge Aggregate"<br>- Changes: "Small Change"<br>- Effect: "Massive Impact"<br>- Character: "Exhausted Dev"<br><br>**Visual Details**:<br>1. Core Concept: A large aggregate is fragile and hard to change.<br>2. Metaphor: A house of cards where every card is glued to 100 others.<br>   - A developer tries to change one small card (Small Change).<br>   - The whole structure shakes violently (Massive Impact).<br>3. Action: Shaking/Instability.<br>4. Layout: Scenario view. | ## 15.2 å¤§ãã™ãé›†ç´„ã®åœ°ç„ğŸ’¥ğŸ˜µï¼ˆã‚„ã‚ŠãŒã¡â€¦ï¼ï¼‰ |
| 680 | docs/ab_tcb_cs_study_015.md | ab_tcb_cs_study_015_tiny_aggregate_hell.png | ./picture/ab_tcb_cs_study_015_tiny_aggregate_hell.png | **Theme**: Tiny Aggregate Hell<br><br>**Labels to Render**:<br>- User: "User Action"<br>- Agg 1: "Order"<br>- Agg 2: "Item"<br>- Agg 3: "Payment"<br>- Agg 4: "Inventory"<br>- Transaction: "Distributed Transaction?"<br><br>**Visual Details**:<br>1. Core Concept: Too many small aggregates require complex coordination.<br>2. Metaphor: Juggling.<br>   - A developer trying to juggle 4 separate balls (Order, Item, Payment, Inventory) at once.<br>   - They look panicked.<br>   - The balls are flying everywhere.<br>3. Action: Juggling.<br>4. Layout: Character focus. | ## 15.3 å°ã•ã™ãé›†ç´„ã®åœ°ç„ğŸ˜µâ€ğŸ’«ğŸª¡ï¼ˆã“ã‚Œã‚‚ã‚ã‚‹â€¦ï¼ï¼‰ |
| 681 | docs/ab_tcb_cs_study_015.md | ab_tcb_cs_study_015_optimal_size.png | ./picture/ab_tcb_cs_study_015_optimal_size.png | **Theme**: Optimal Size Balancing<br><br>**Labels to Render**:<br>- Scale: "Aggregate Size"<br>- Weight 1: "Invariants (Keep Together)"<br>- Weight 2: "Concurrency (Split)"<br>- Balance: "Just Right"<br><br>**Visual Details**:<br>1. Core Concept: Balancing consistency vs performance.<br>2. Metaphor: A balance scale.<br>   - Left Pan: "Invariants" (Magnets pulling together).<br>   - Right Pan: "Concurrency" (Explosions pushing apart).<br>   - The pointer is in the green "Just Right" zone.<br>3. Action: Balancing.<br>4. Layout: Scale view. | ## è¦³ç‚¹Cï¼šåŒæ™‚æ›´æ–°ã®è¡çªï¼ˆç«¶åˆï¼‰ã¯å¢—ãˆã¦ãªã„ï¼Ÿâš”ï¸ |
| 682 | docs/ab_tcb_cs_study_015.md | ab_tcb_cs_study_015_cafe_aggregates.png | ./picture/ab_tcb_cs_study_015_cafe_aggregates.png | **Theme**: Cafe Domain Aggregate Boundaries<br><br>**Labels to Render**:<br>- Group A: "Order Aggregate (Order + Item)"<br>- Group B: "Payment Aggregate"<br>- Group C: "Customer Aggregate"<br>- Link: "ID Ref"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing the chosen boundaries for the Cafe domain.<br>2. Metaphor: Distinct islands.<br>   - Island A: Large, contains Order and Item.<br>   - Island B: Smaller, Payment.<br>   - Island C: Smaller, Customer.<br>   - Bridges (ID Ref) connect them.<br>3. Action: Grouping.<br>4. Layout: Map style. | ## 15.5 ã‚«ãƒ•ã‚§æ³¨æ–‡ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã‚µã‚¤ã‚ºèª¿æ•´ã—ã¦ã¿ã‚‹â˜•ï¸ğŸ° |
| 683 | docs/ab_tcb_cs_study_015.md | ab_tcb_cs_study_015_order_item_encapsulation.png | ./picture/ab_tcb_cs_study_015_order_item_encapsulation.png | **Theme**: Order Item Encapsulation<br><br>**Labels to Render**:<br>- Root: "Order (Root)"<br>- Child: "OrderItem"<br>- Wall: "Aggregate Boundary"<br>- Access: "Via Root Only"<br><br>**Visual Details**:<br>1. Core Concept: OrderItem is hidden inside Order.<br>2. Metaphor: A Kangoroo (Order) with a Joey (OrderItem) in its pouch.<br>   - You cannot touch the Joey directly.<br>   - You must interact with the Mother Kangaroo.<br>3. Action: Protection.<br>4. Layout: Character focus. | ## 15.6.1 Order é›†ç´„ï¼ˆOrder + OrderItem ã‚’å†…åŒ…ï¼‰ğŸŒ³ |
| 684 | docs/ab_tcb_cs_study_015.md | ab_tcb_cs_study_015_size_diagnosis.png | ./picture/ab_tcb_cs_study_015_size_diagnosis.png | **Theme**: Size Diagnosis Checklist<br><br>**Labels to Render**:<br>- List: "Size Check"<br>- Check 1: "Too many updates?"<br>- Check 2: "Conflict?"<br>- Check 3: "Scattered Rules?"<br>- Result: "Split / Merge"<br><br>**Visual Details**:<br>1. Core Concept: Diagnosing if size is correct.<br>2. Metaphor: A doctor's clipboard.<br>   - The doctor (Developer) is checking symptoms on a patient (Aggregate).<br>   - Patient looks bloated (Too Big) or fragmented (Too Small).<br>3. Action: Diagnosing.<br>4. Layout: Medical scene. | ## 15.7 â€œã‚µã‚¤ã‚ºè¨ºæ–­â€ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆâœ…ğŸ§  |
| 685 | docs/ab_tcb_cs_study_016.md | ab_tcb_cs_study_016_5_steps.png | ./picture/ab_tcb_cs_study_016_5_steps.png | **Theme**: 5 Steps for Defining Boundaries<br><br>**Labels to Render**:<br>- Step 1: "UseCase (1 Line)"<br>- Step 2: "Invariants (Rules)"<br>- Step 3: "Consistency (Now/Later)"<br>- Step 4: "Candidates (A/B/C)"<br>- Step 5: "Root (Gate)"<br><br>**Visual Details**:<br>1. Core Concept: A systematic process for finding aggregate boundaries.<br>2. Metaphor: A staircase or path with 5 numbered steps.<br>   - Character climbing the steps.<br>   - Step 4 shows a fork in the road (A/B/C).<br>   - Step 5 shows a castle gate (Root).<br>3. Action: Climbing.<br>4. Layout: Staircase view. | ## 0. å¢ƒç•Œã‚’åˆ‡ã‚‹ãŸã‚ã®â€œå‹â€ğŸ§ğŸ§  |
| 686 | docs/ab_tcb_cs_study_016.md | ab_tcb_cs_study_016_comparison_mindmap.png | ./picture/ab_tcb_cs_study_016_comparison_mindmap.png | **Theme**: Comparison Mindmap for Boundaries<br><br>**Labels to Render**:<br>- Center: "Boundary Criteria"<br>- Branch 1: "Consistency (Invariant)"<br>- Branch 2: "Size (Too Big/Small)"<br>- Branch 3: "Coupling (ID Ref)"<br>- Branch 4: "External IO (Separate)"<br><br>**Visual Details**:<br>1. Core Concept: Key criteria for evaluating boundaries.<br>2. Metaphor: A mind map or compass.<br>   - Center: "Criteria".<br>   - 4 Branches radiating out.<br>   - Icons for each branch (Lock, Box, ID Card, Globe).<br>3. Action: Planning/Thinking.<br>4. Layout: Mindmap style. | ## æ¯”è¼ƒã®è¦³ç‚¹ï¼ˆè¿·ã£ãŸã‚‰ã“ã“ã‚’è¦‹ã‚‹ï¼‰ğŸ‘€âš–ï¸ |
| 687 | docs/ab_tcb_cs_study_016.md | ab_tcb_cs_study_016_cafe_options.png | ./picture/ab_tcb_cs_study_016_cafe_options.png | **Theme**: Cafe Boundary Options (A vs B vs C)<br><br>**Labels to Render**:<br>- Plan A: "Huge (Order+Payment)"<br>- Plan B: "Split (Order \| Payment)"<br>- Plan C: "Tiny (Order \| Item)"<br>- Recommended: "Plan B (Best)"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing 3 different ways to cut the boundary.<br>2. Metaphor:<br>   - Plan A: A giant heavy box containing everything (Sweating carrier).<br>   - Plan B: Two balanced boxes (Comfortable carrier).<br>   - Plan C: Many tiny boxes falling apart (Clumsy carrier).<br>3. Action: Comparison.<br>4. Layout: Side by side. | ## 3-4. å¢ƒç•Œæ¡ˆA/B/Cï¼ˆæ¯”è¼ƒç·´ç¿’ï¼‰ğŸŒ³âš–ï¸ |
| 688 | docs/ab_tcb_cs_study_016.md | ab_tcb_cs_study_016_subscription_time.png | ./picture/ab_tcb_cs_study_016_subscription_time.png | **Theme**: Subscription Time Factor<br><br>**Labels to Render**:<br>- Subscription: "Contract (Status)"<br>- Invoice: "Invoice (History)"<br>- Payment: "Payment (Result)"<br>- Time: "Time Flow"<br><br>**Visual Details**:<br>1. Core Concept: Subscription involves time and multiple aggregates over time.<br>2. Metaphor: A timeline.<br>   - Subscription is a long bar spanning time.<br>   - Invoices are monthly checkpoints along the bar.<br>   - Payments are attached to invoices.<br>   - Clock icon emphasizes time.<br>3. Action: Progression.<br>4. Layout: Timeline view. | ### æ¡ˆBï¼šSubscription / Invoice / Payment ã‚’åˆ†ã‘ã‚‹ï¼ˆæ¨ã—ï¼‰ğŸŒ¿âœ¨ |
| 689 | docs/ab_tcb_cs_study_016.md | ab_tcb_cs_study_016_inventory_strategy.png | ./picture/ab_tcb_cs_study_016_inventory_strategy.png | **Theme**: Inventory Reservation Strategy<br><br>**Labels to Render**:<br>- Inventory: "Inventory Item"<br>- State: "Available / Reserved"<br>- Order: "Order (Waiting)"<br>- Action: "Reserve"<br><br>**Visual Details**:<br>1. Core Concept: Inventory manages reservation logic.<br>2. Metaphor: A theater booking system.<br>   - Inventory is the seating chart.<br>   - "Reserve" action marks a seat as "Reserved" (Color change).<br>   - Order is holding a ticket waiting for confirmation.<br>3. Action: Booking.<br>4. Layout: Object view. | ### æ¡ˆBï¼šInventoryé›†ç´„ã§Reservationï¼ˆå¼•å½“ï¼‰ã‚’ç®¡ç†ï¼ˆãŠã™ã™ã‚ï¼‰ğŸŒ¿âœ¨ |
| 690 | docs/ab_tcb_cs_study_016.md | ab_tcb_cs_study_016_common_mistakes.png | ./picture/ab_tcb_cs_study_016_common_mistakes.png | **Theme**: Common Mistakes in Boundaries<br><br>**Labels to Render**:<br>- Mistake 1: "Huge Aggregate (Safe?)"<br>- Mistake 2: "Tiny Aggregate (Flexible?)"<br>- Mistake 3: "Object Ref (Convenient?)"<br>- Reality: "Trap!"<br><br>**Visual Details**:<br>1. Core Concept: Avoiding common pitfalls.<br>2. Metaphor: A path with hidden traps.<br>   - A hiker stepping on a "Huge Aggregate" trapdoor.<br>   - Another tripping on "Tiny Aggregate" pebbles.<br>   - Another entangled in "Object Ref" vines.<br>3. Action: Tripping/Falling.<br>4. Layout: Scene view. | ## 8. ã‚ˆãã‚ã‚‹ãƒŸã‚¹é›†ï¼ˆå…ˆã«è¸ã¿æŠœãå›é¿ï¼‰ğŸš§ğŸ˜… |
| 691 | docs/ab_tcb_cs_study_017.md | ab_tcb_cs_study_017_guard_role.png | ./picture/ab_tcb_cs_study_017_guard_role.png | **Theme**: Invariant Guard Role<br><br>**Labels to Render**:<br>- Invariant: "Invariant (Rule)"<br>- State: "State"<br>- Valid: "Valid"<br>- Invalid: "Invalid (Broken)"<br><br>**Visual Details**:<br>1. Core Concept: Invariant acts as a shield protecting the state.<br>2. Metaphor: A Knight (Invariant) holding a shield.<br>   - Behind the shield is a pristine "State" crystal.<br>   - Arrows labeled "Bad Data" bounce off the shield.<br>   - If the shield breaks, the crystal turns into "Invalid" sludge.<br>3. Action: Protection.<br>4. Layout: Character focus. | ## 1. ä¸å¤‰æ¡ä»¶ã£ã¦ãªã«ï¼ŸğŸ¤”ğŸ” |
| 692 | docs/ab_tcb_cs_study_017.md | ab_tcb_cs_study_017_validation_vs_invariant.png | ./picture/ab_tcb_cs_study_017_validation_vs_invariant.png | **Theme**: Input Check vs Invariant<br><br>**Labels to Render**:<br>- UI: "UI / API"<br>- Check 1: "Input Check (Format)"<br>- Domain: "Domain"<br>- Check 2: "Invariant (Logic)"<br><br>**Visual Details**:<br>1. Core Concept: Two layers of checks.<br>2. Metaphor: Airport security.<br>   - Check 1 (UI/Input Check): Ticket scanner (Format check).<br>   - Check 2 (Domain/Invariant): Immigration officer (Business rule check).<br>3. Action: Sequential screening.<br>4. Layout: Process flow. | ## 3. ä¸å¤‰æ¡ä»¶ã¨ã€Œå…¥åŠ›ãƒã‚§ãƒƒã‚¯ã€ã®é•ã„ ğŸ§ğŸ§  |
| 693 | docs/ab_tcb_cs_study_017.md | ab_tcb_cs_study_017_scattered_rules.png | ./picture/ab_tcb_cs_study_017_scattered_rules.png | **Theme**: Scattered Rules Nightmare<br><br>**Labels to Render**:<br>- UI: "UI Rule"<br>- DB: "DB Rule"<br>- API: "API Rule"<br>- Logic: "Logic"<br>- Result: "Chaos"<br><br>**Visual Details**:<br>1. Core Concept: Rules scattered everywhere lead to bugs.<br>2. Metaphor: A puzzle with pieces hidden in different rooms (UI, DB, API).<br>   - A developer running around trying to find them.<br>   - The puzzle is broken (Chaos).<br>3. Action: Confusion.<br>4. Layout: Map style with scattered items. | ## 5. ä¸å¤‰æ¡ä»¶ã¯â€œæ•£ã‚‰ã•ãªã„â€ã®ãŒã‚³ãƒ„ ğŸ§ ğŸ§· |
| 694 | docs/ab_tcb_cs_study_017.md | ab_tcb_cs_study_017_method_encapsulation.png | ./picture/ab_tcb_cs_study_017_method_encapsulation.png | **Theme**: Method Encapsulation<br><br>**Labels to Render**:<br>- Object: "Order"<br>- Direct: "Status = Confirmed (NG)"<br>- Method: "Confirm() (OK)"<br>- Guard: "Check Rules"<br><br>**Visual Details**:<br>1. Core Concept: Changing state only via methods.<br>2. Metaphor: A safe.<br>   - Direct access is trying to drill a hole (NG).<br>   - Method access is using the combination dial "Confirm()" (OK).<br>   - The dial triggers internal gears "Check Rules".<br>3. Action: Accessing.<br>4. Layout: Object interaction. | ## 7.2 å¤‰æ›´ã¯ãƒ¡ã‚½ãƒƒãƒ‰ã«é–‰ã˜è¾¼ã‚ã‚‹ âœ‹ğŸ” |
| 695 | docs/ab_tcb_cs_study_017.md | ab_tcb_cs_study_017_guard_clause.png | ./picture/ab_tcb_cs_study_017_guard_clause.png | **Theme**: Guard Clause Visualization<br><br>**Labels to Render**:<br>- Flow: "Process Flow"<br>- Guard 1: "Guard (Stop)"<br>- Guard 2: "Guard (Stop)"<br>- Main: "Main Logic (Run)"<br><br>**Visual Details**:<br>1. Core Concept: Filtering out bad cases early.<br>2. Metaphor: A VIP club entrance.<br>   - Bouncer 1 stops "Underage".<br>   - Bouncer 2 stops "No Ticket".<br>   - The red carpet "Main Logic" is clear and straight for valid guests.<br>3. Action: Filtering.<br>4. Layout: Path view. | ## 9. ã‚¬ãƒ¼ãƒ‰ç¯€ï¼ˆGuard Clausesï¼‰ã§èª­ã¿ã‚„ã™ãã™ã‚‹ ğŸ›¡ï¸ğŸ“– |
| 696 | docs/ab_tcb_cs_study_017.md | ab_tcb_cs_study_017_boundary_indicator.png | ./picture/ab_tcb_cs_study_017_boundary_indicator.png | **Theme**: Invariant Defining Boundary<br><br>**Labels to Render**:<br>- Circle: "Aggregate Boundary"<br>- Rule: "Invariant"<br>- Inside: "Inside (Protected)"<br>- Outside: "Outside (Eventual)"<br><br>**Visual Details**:<br>1. Core Concept: The rule defines the circle.<br>2. Metaphor: A compass drawing a circle.<br>   - The compass leg is the "Invariant".<br>   - It draws a line "Boundary".<br>   - Everything inside is "Protected".<br>3. Action: Drawing boundary.<br>4. Layout: Diagrammatic. | ## 10. ä¸å¤‰æ¡ä»¶ãŒã€Œé›†ç´„ã®å¢ƒç•Œã€ã‚’æ•™ãˆã¦ãã‚Œã‚‹ ğŸ§ ğŸ§­ |
| 697 | docs/ab_tcb_cs_study_018.md | ab_tcb_cs_study_018_iron_rules.png | ./picture/ab_tcb_cs_study_018_iron_rules.png | **Theme**: Iron Rules of Creation<br><br>**Labels to Render**:<br>- Rule 1: "No Invalid State (Block)"<br>- Rule 2: "Check Early (Guard)"<br>- Rule 3: "No Public Setter (Lock)"<br>- Object: "Safe Object"<br><br>**Visual Details**:<br>1. Core Concept: Three pillars of safe object creation.<br>2. Metaphor: A triangle or tripod supporting a "Safe Object".<br>   - Pillar 1: A barrier "No Invalid State".<br>   - Pillar 2: A scanner "Check Early".<br>   - Pillar 3: A padlock "No Public Setter".<br>3. Action: Support/Protection.<br>4. Layout: Structural view. | ## 18.2 ã¾ãšè¦šãˆã‚‹3ã¤ã®é‰„å‰‡ğŸ§±âœ¨ |
| 698 | docs/ab_tcb_cs_study_018.md | ab_tcb_cs_study_018_bad_vs_good_check.png | ./picture/ab_tcb_cs_study_018_bad_vs_good_check.png | **Theme**: Bad vs Good Guard Clauses<br><br>**Labels to Render**:<br>- Bad: "Check Late (Explosion)"<br>- Good: "Check Early (Stop)"<br>- Logic: "Complex Logic"<br>- Bug: "Bug"<br><br>**Visual Details**:<br>1. Core Concept: Early failure is better.<br>2. Metaphor: Two tunnels.<br>   - Bad Tunnel: Character walks far in, then falls into a pit (Explosion).<br>   - Good Tunnel: Character is stopped at the entrance by a gate (Stop), preventing the fall.<br>3. Action: Comparison.<br>4. Layout: Split view. | ## æ‚ªã„ä¾‹ï¼ˆå¥¥ã®æ–¹ã§æ°—ã¥ãï¼‰ğŸ˜µ |
| 699 | docs/ab_tcb_cs_study_018.md | ab_tcb_cs_study_018_guard_helper.png | ./picture/ab_tcb_cs_study_018_guard_helper.png | **Theme**: Guard Helper Class<br><br>**Labels to Render**:<br>- Helper: "Guard Class"<br>- Tool 1: "NotNull"<br>- Tool 2: "Positive"<br>- Code: "Cleaner Code"<br><br>**Visual Details**:<br>1. Core Concept: Encapsulating checks in a utility.<br>2. Metaphor: A Swiss Army Knife labeled "Guard".<br>   - Blades labeled "NotNull", "Positive", "Range".<br>   - It trims a messy "Code" block into a neat shape.<br>3. Action: Trimming/Cleaning.<br>4. Layout: Object focus. | ## 18.6 å°ã•ãª Guard ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚’ä½œã‚‹ï¼ˆæ›¸ãå‘³UPï¼‰ğŸ§°ğŸ’– |
| 700 | docs/ab_tcb_cs_study_018.md | ab_tcb_cs_study_018_public_setter_danger.png | ./picture/ab_tcb_cs_study_018_public_setter_danger.png | **Theme**: Public Setter Danger<br><br>**Labels to Render**:<br>- Object: "BadOrder"<br>- Hole 1: "CustomerId (Open)"<br>- Hole 2: "Items (Open)"<br>- Hacker: "Any Code"<br><br>**Visual Details**:<br>1. Core Concept: Public setters make objects vulnerable.<br>2. Metaphor: A house with no doors or windows (Open).<br>   - "BadOrder" house.<br>   - Anyone (Hacker/Any Code) can walk in and move furniture (State) around.<br>3. Action: Intrusion.<br>4. Layout: Scene view. | ## 18.8 public setter ã‚’ç¦æ­¢ã™ã‚‹ç†ç”±ï¼ˆè¶…ã ã„ã˜ï¼‰ğŸš«ğŸ˜‡ |
| 701 | docs/ab_tcb_cs_study_018.md | ab_tcb_cs_study_018_ef_constructor.png | ./picture/ab_tcb_cs_study_018_ef_constructor.png | **Theme**: EF Core Constructor Mapping<br><br>**Labels to Render**:<br>- DB: "Database Row"<br>- EF: "EF Core"<br>- Constructor: "Constructor"<br>- Object: "Domain Object"<br><br>**Visual Details**:<br>1. Core Concept: EF Core injecting data via constructor.<br>2. Metaphor: A syringe or injector.<br>   - EF Core draws fluid (Data) from the DB.<br>   - Injects it directly into the "Constructor" port of the "Domain Object".<br>   - Bypassing public properties.<br>3. Action: Injection.<br>4. Layout: Process flow. | ## â‘  EF Core ã¯ â€œã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿â€ ã‚’ä½¿ã£ã¦ç”Ÿæˆã§ãã‚‹ğŸ—ï¸ |
| 702 | docs/ab_tcb_cs_study_018.md | ab_tcb_cs_study_018_test_verification.png | ./picture/ab_tcb_cs_study_018_test_verification.png | **Theme**: Invariant Test Verification<br><br>**Labels to Render**:<br>- Test: "xUnit Test"<br>- Input: "Empty Items"<br>- Expect: "Throws Exception"<br>- Result: "Pass (Green)"<br><br>**Visual Details**:<br>1. Core Concept: Testing that invalid inputs fail.<br>2. Metaphor: Crash test dummy.<br>   - Test launches a car (Input: Empty Items) at a wall (Invariant).<br>   - The car crashes (Exception Thrown) as expected.<br>   - A scoreboard shows "Pass" (Green).<br>3. Action: Crash testing.<br>4. Layout: Scene view. | ## 18.10 ãƒŸãƒ‹ãƒ†ã‚¹ãƒˆï¼šä¸å¤‰æ¡ä»¶ãŒå®ˆã‚Œã¦ã‚‹ã‹ç¢ºèªã—ã‚ˆã†âœ…ğŸ§ª |
| 703 | docs/ab_tcb_cs_study_019.md | ab_tcb_cs_study_019_setter_accident.png | ./picture/ab_tcb_cs_study_019_setter_accident.png | **Theme**: Public Setter Accident<br><br>**Labels to Render**:<br>- Status: "Paid"<br>- Items: "Items: Empty"<br>- Total: "Total: 0"<br>- Logic: "Inconsistent"<br><br>**Visual Details**:<br>1. Core Concept: Inconsistent state due to direct property access.<br>2. Metaphor: A Frankenstein monster made of mismatched parts.<br>   - Head: "Paid".<br>   - Body: "Empty Items".<br>   - Legs: "Total 0".<br>   - It looks stitched together clumsily.<br>3. Action: Stumbling.<br>4. Layout: Character close-up. | ## 2. ã‚ˆãã‚ã‚‹äº‹æ•…ï¼šsetterç›´é–‹æ”¾ã§ä¸–ç•ŒãŒå£Šã‚Œã‚‹ğŸ’¥ğŸ˜‡ |
| 704 | docs/ab_tcb_cs_study_019.md | ab_tcb_cs_study_019_transition_table.png | ./picture/ab_tcb_cs_study_019_transition_table.png | **Theme**: State Transition Table Visualized<br><br>**Labels to Render**:<br>- Draft: "Draft"<br>- Placed: "Placed"<br>- Paid: "Paid"<br>- Cancelled: "Cancelled"<br>- Arrow: "Place()"<br><br>**Visual Details**:<br>1. Core Concept: Valid transitions.<br>2. Metaphor: A game board or map.<br>   - Stations: Draft, Placed, Paid, Cancelled.<br>   - Valid paths (Green arrows): Draft -> Placed, Placed -> Paid.<br>   - Invalid paths (Red X): Paid -> Draft.<br>3. Action: Moving token.<br>4. Layout: Network map. | ## 4. çŠ¶æ…‹é·ç§»è¡¨ã‚’ä½œã‚‹ğŸ“‹ğŸš¦ï¼ˆã“ã“ãŒè¨­è¨ˆã®ã‚­ãƒ¢ï¼ï¼‰ |
| 705 | docs/ab_tcb_cs_study_019.md | ab_tcb_cs_study_019_method_gatekeeper.png | ./picture/ab_tcb_cs_study_019_method_gatekeeper.png | **Theme**: Method as Gatekeeper<br><br>**Labels to Render**:<br>- External: "External Code"<br>- Method: "AddItem()"<br>- Guard: "Check Status"<br>- State: "Internal State"<br><br>**Visual Details**:<br>1. Core Concept: Changes must go through methods.<br>2. Metaphor: A castle drawbridge.<br>   - "External Code" tries to enter.<br>   - The Drawbridge is "AddItem()".<br>   - A Guard "Check Status" stands on the bridge.<br>   - "Internal State" is the castle keep.<br>3. Action: Entry check.<br>4. Layout: Castle scene. | ## 5. å®Ÿè£…æ–¹é‡ï¼šå¤‰æ›´ã¯ãƒ¡ã‚½ãƒƒãƒ‰ã§ã—ã‹èµ·ã“ã•ãªã„âœ‹âœ¨ |
| 706 | docs/ab_tcb_cs_study_019.md | ab_tcb_cs_study_019_item_logic.png | ./picture/ab_tcb_cs_study_019_item_logic.png | **Theme**: OrderItem Internal Logic<br><br>**Labels to Render**:<br>- Item: "OrderItem"<br>- Method: "Increase(qty)"<br>- Check: "qty > 0"<br>- State: "Quantity"<br><br>**Visual Details**:<br>1. Core Concept: Even child entities have logic.<br>2. Metaphor: A small machine component.<br>   - The component "OrderItem" has a dial "Increase".<br>   - It has a safety catch "qty > 0".<br>   - Turning the dial changes the counter "Quantity".<br>3. Action: Adjustment.<br>4. Layout: Object close-up. | ### 6.3 OrderItemï¼ˆæ˜ç´°ï¼‰ğŸ§¾âœ¨ |
| 707 | docs/ab_tcb_cs_study_019.md | ab_tcb_cs_study_019_backing_field.png | ./picture/ab_tcb_cs_study_019_backing_field.png | **Theme**: Backing Field Encapsulation<br><br>**Labels to Render**:<br>- Public: "Property (Read Only)"<br>- Private: "Field (Read/Write)"<br>- EF: "EF Core"<br>- User: "User Code"<br><br>**Visual Details**:<br>1. Core Concept: EF Core accesses private fields, User accesses public properties.<br>2. Metaphor: A two-way mirror or secret door.<br>   - User sees "Property" (Locked glass).<br>   - EF Core uses a secret back door "Field" to write data.<br>3. Action: Secret access.<br>4. Layout: Cutaway view. | ## 8. EF Core ã¨â€œã‚«ãƒ—ã‚»ãƒ«åŒ–â€ã¯ä¸¡ç«‹ã§ãã‚‹ã‚ˆğŸ§ªğŸ§· |
| 708 | docs/ab_tcb_cs_study_019.md | ab_tcb_cs_study_019_copilot_leak.png | ./picture/ab_tcb_cs_study_019_copilot_leak.png | **Theme**: Copilot Leak Detection<br><br>**Labels to Render**:<br>- Code: "Order Class"<br>- Robot: "Copilot"<br>- Leak: "Public List"<br>- Alert: "Leak Detected!"<br><br>**Visual Details**:<br>1. Core Concept: AI finding encapsulation leaks.<br>2. Metaphor: A plumber robot scanning pipes (Code).<br>   - It finds a leak "Public List" spraying water.<br>   - It points to it with a wrench.<br>3. Action: Detection.<br>4. Layout: Inspection scene. | ## 11. AIæ´»ç”¨ï¼ˆCopilot / Codexï¼‰ã§çˆ†é€Ÿãƒã‚§ãƒƒã‚¯ğŸ¤–âœ¨ |
| 709 | docs/ab_tcb_cs_study_020.md | ab_tcb_cs_study_020_exception_vs_result.png | ./picture/ab_tcb_cs_study_020_exception_vs_result.png | **Theme**: Exception vs Result<br><br>**Labels to Render**:<br>- Exception: "Exception (Crash)"<br>- Result: "Result (Report)"<br>- Bug: "System Bug"<br>- Rule: "Domain Rule"<br><br>**Visual Details**:<br>1. Core Concept: System bugs cause crashes (Exception), Domain rules return reports (Result).<br>2. Metaphor: Two paths.<br>   - Path 1: A car hitting a "Bug" rock and exploding (Exception).<br>   - Path 2: A car hitting a "Rule" gate and receiving a "Ticket" (Result), then driving back calmly.<br>3. Action: Crash vs Report.<br>4. Layout: Split view. | ## 20.3 å¤±æ•—ã¯3ç¨®é¡ã«åˆ†ã‘ã‚‹ï¼ˆè¶…é‡è¦ï¼‰ğŸ§ âš–ï¸ |
| 710 | docs/ab_tcb_cs_study_020.md | ab_tcb_cs_study_020_result_box.png | ./picture/ab_tcb_cs_study_020_result_box.png | **Theme**: Result Box Content<br><br>**Labels to Render**:<br>- Box: "Result Box"<br>- Slot 1: "Success (Value)"<br>- Slot 2: "Failure (Error)"<br>- Switch: "Either/Or"<br><br>**Visual Details**:<br>1. Core Concept: Result container holds either Value or Error.<br>2. Metaphor: A box with two compartments.<br>   - A sliding lid ensures only one compartment is open at a time.<br>   - Green compartment: "Value" (Diamond).<br>   - Red compartment: "Error" (Scroll).<br>3. Action: Sliding lid.<br>4. Layout: Object close-up. | ## 20.5 Resultå‹ã£ã¦ãªã«ï¼Ÿï¼ˆè¶…ã‚„ã•ã—ãï¼‰ğŸ¬ |
| 711 | docs/ab_tcb_cs_study_020.md | ab_tcb_cs_study_020_user_vs_log.png | ./picture/ab_tcb_cs_study_020_user_vs_log.png | **Theme**: User vs Log Message<br><br>**Labels to Render**:<br>- User: "User Screen"<br>- Log: "Log File"<br>- Message A: "Please try again"<br>- Message B: "Error: DB Timeout at Row 5"<br><br>**Visual Details**:<br>1. Core Concept: Different messages for different audiences.<br>2. Metaphor:<br>   - User Screen: Friendly UI with a polite message.<br>   - Log File: Matrix-style screen with detailed, complex text.<br>3. Action: Displaying text.<br>4. Layout: Side by side. | ## 20.6 â€œãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸â€ã¨â€œãƒ­ã‚°ã®è©³ç´°â€ã‚’åˆ†ã‘ã‚‹ğŸ§¾ğŸ” |
| 712 | docs/ab_tcb_cs_study_020.md | ab_tcb_cs_study_020_problem_details.png | ./picture/ab_tcb_cs_study_020_problem_details.png | **Theme**: Problem Details Conversion<br><br>**Labels to Render**:<br>- Input: "Result.Fail(Code)"<br>- Machine: "Converter"<br>- Output: "Problem Details JSON"<br>- Fields: "Title / Status / Detail"<br><br>**Visual Details**:<br>1. Core Concept: Converting internal Result to standard HTTP response.<br>2. Metaphor: A document processing machine.<br>   - Input: A simple "Fail" card.<br>   - Processing: Stamping and formatting.<br>   - Output: A structured JSON document with standard fields.<br>3. Action: Conversion.<br>4. Layout: Process flow. | ### 20.9.1 Web APIãªã‚‰ Problem Details ãŒä¾¿åˆ©ï¼ˆæ¨™æº–ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰ğŸ“¦ğŸŒ |
| 713 | docs/ab_tcb_cs_study_020.md | ab_tcb_cs_study_020_error_dictionary.png | ./picture/ab_tcb_cs_study_020_error_dictionary.png | **Theme**: Error Code Dictionary<br><br>**Labels to Render**:<br>- Key: "Code (order.fixed)"<br>- Value: "Message (User Text)"<br>- Dictionary: "App Layer Dictionary"<br>- UI: "UI Display"<br><br>**Visual Details**:<br>1. Core Concept: Mapping codes to messages in the App layer.<br>2. Metaphor: A translation dictionary.<br>   - "Code" is looked up.<br>   - "Message" is found.<br>   - "UI" displays the message.<br>3. Action: Lookup.<br>4. Layout: Lookup view. | ## 20.10 â€œãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸â€ã¯ã©ã“ã¾ã§æ›¸ãï¼ŸğŸ¤”ğŸ§¾ |
| 714 | docs/ab_tcb_cs_study_020.md | ab_tcb_cs_study_020_mistakes.png | ./picture/ab_tcb_cs_study_020_mistakes.png | **Theme**: Error Design Mistakes<br><br>**Labels to Render**:<br>- Mistake 1: "String Matching"<br>- Mistake 2: "Swallow Exception"<br>- Mistake 3: "Log in Domain"<br>- Result: "Fragile"<br><br>**Visual Details**:<br>1. Core Concept: Anti-patterns.<br>2. Metaphor: Warning signs.<br>   - "String Matching": A broken key trying to fit a lock.<br>   - "Swallow Exception": A black hole eating an error.<br>   - "Log in Domain": Graffiti on a clean domain object.<br>3. Action: Warning.<br>4. Layout: Three panels. | ## 20.12 ã‚ˆãã‚ã‚‹è¨­è¨ˆãƒŸã‚¹ã‚ã‚‹ã‚ã‚‹ï¼ˆå…ˆã«æ½°ã™ï¼‰ğŸ’¥ğŸ˜‡ |
| 715 | docs/ab_tcb_cs_study_021.md | ab_tcb_cs_study_021_dependency_rule.png | ./picture/ab_tcb_cs_study_021_dependency_rule.png | **Theme**: Layered Architecture Dependency Rules<br><br>**Labels to Render**:<br>- Domain: "ãƒ‰ãƒ¡ã‚¤ãƒ³ (Domain)"<br>- Application: "ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (Application)"<br>- Infrastructure: "ã‚¤ãƒ³ãƒ•ãƒ© (Infrastructure)"<br>- Arrow: "ä¾å­˜æ–¹å‘ (Allowed Dependency)"<br><br>**Visual Details**:<br>1. Draw 3 concentric circles.<br>   - Innermost (Green): Domain.<br>   - Middle (Blue): Application.<br>   - Outermost (Orange): Infrastructure.<br>2. Draw bold arrows pointing strictly INWARDS (from Infra to App, from App to Domain).<br>3. Add a "NO ENTRY" sign on an arrow trying to point OUTWARDS from Domain to Infra.<br>4. Clean, flat vector style. | ## 3) ã„ã¡ã°ã‚“å¤§äº‹ï¼šä¾å­˜é–¢ä¿‚ãƒ«ãƒ¼ãƒ«ï¼ˆçŸ¢å°ã¯å†…å´ã¸ï¼‰ğŸ§±â¡ï¸ğŸ’– |
| 716 | docs/ab_tcb_cs_study_021.md | ab_tcb_cs_study_021_project_structure.png | ./picture/ab_tcb_cs_study_021_project_structure.png | **Theme**: Visual Studio Project Structure & References<br><br>**Labels to Render**:<br>- Cafe.Domain: "Cafe.Domain"<br>- Cafe.Application: "Cafe.Application"<br>- Cafe.Infrastructure: "Cafe.Infrastructure"<br>- Cafe.WebApi: "Cafe.WebApi"<br><br>**Visual Details**:<br>1. Draw 4 blocks representing projects arranged hierarchically.<br>   - Top: Cafe.WebApi (UI).<br>   - Middle Left: Cafe.Application.<br>   - Middle Right: Cafe.Infrastructure.<br>   - Bottom Center: Cafe.Domain.<br>2. Draw arrows showing references:<br>   - WebApi -> Application & Infrastructure.<br>   - Infrastructure -> Application & Domain.<br>   - Application -> Domain.<br>3. Use Green for Domain, Blue for App, Orange for Infra/Web. | ## 4) Visual Studio ã® â€œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ†å‰²â€ ã§å¼·åˆ¶ã™ã‚‹ğŸ“ğŸ”’âœ¨ |
| 717 | docs/ab_tcb_cs_study_021.md | ab_tcb_cs_study_021_placement_guide.png | ./picture/ab_tcb_cs_study_021_placement_guide.png | **Theme**: Code Placement Guide<br><br>**Labels to Render**:<br>- Domain: "ãƒ‰ãƒ¡ã‚¤ãƒ³ (Domain)"<br>- App: "ã‚¢ãƒ—ãƒª (Application)"<br>- Infra: "ã‚¤ãƒ³ãƒ•ãƒ© (Infrastructure)"<br>- Order: "é›†ç´„ãƒ«ãƒ¼ãƒˆ (Order)"<br>- UseCase: "ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ (UseCase)"<br>- Repo: "ãƒªãƒã‚¸ãƒˆãƒªå®Ÿè£… (Repo Impl)"<br><br>**Visual Details**:<br>1. Create a 3-column layout representing the layers.<br>2. Place icons/items in correct columns:<br>   - Domain: Order Entity (Green box), Rules (Lock icon).<br>   - Application: UseCase (Clapperboard icon), DTO (Box icon).<br>   - Infrastructure: DB Context (Database icon), Repo Impl (Construction icon).<br>3. Use arrows to show flow or connection if appropriate, but focus on categorization. | ## 5) ã€Œã©ã“ã«ç½®ãï¼Ÿã€æ—©è¦‹è¡¨ ğŸ—ºï¸âœ¨ |
| 718 | docs/ab_tcb_cs_study_021.md | ab_tcb_cs_study_021_flow_sequence.png | ./picture/ab_tcb_cs_study_021_flow_sequence.png | **Theme**: PlaceOrder UseCase Flow<br><br>**Labels to Render**:<br>- UI: "Web API"<br>- App: "Application"<br>- Domain: "Domain"<br>- Infra: "Infrastructure"<br>- Step 1: "å–å¾— (Get)"<br>- Step 2: "ãƒ«ãƒ¼ãƒ«å®Ÿè¡Œ (Rule)"<br>- Step 3: "ä¿å­˜ (Save)"<br><br>**Visual Details**:<br>1. Draw a left-to-right flow diagram (timeline).<br>2. UI calls App.<br>3. App calls Infra to Get Order.<br>4. App calls Domain to execute Logic (Place).<br>5. App calls Infra to Save Order.<br>6. Use simple icons for each component (Browser for UI, Gear for App, Tree for Domain, Server for Infra). | ## 6) ãƒŸãƒ‹å®Ÿä¾‹ï¼šæ³¨æ–‡ç¢ºå®šãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã® â€œç½®ãå ´æ‰€â€ ã‚’è¦‹ã‚‹ ğŸ‘€â˜•ï¸ |
| 719 | docs/ab_tcb_cs_study_021.md | ab_tcb_cs_study_021_aggregate_root.png | ./picture/ab_tcb_cs_study_021_aggregate_root.png | **Theme**: Aggregate Root Encapsulation<br><br>**Labels to Render**:<br>- Root: "Order (é›†ç´„ãƒ«ãƒ¼ãƒˆ)"<br>- Item: "OrderItem (æ˜ç´°)"<br>- Status: "Status (çŠ¶æ…‹)"<br>- Guard: "private set / readonly"<br><br>**Visual Details**:<br>1. Draw a large Green Circle labeled "Order".<br>2. Inside, draw smaller items: "Items List", "Status".<br>3. Draw a thick barrier/shield around the circle.<br>4. Show an external hand trying to modify "Status" directly being blocked by the shield.<br>5. Show a "Method" (e.g., Place()) as the only gate through the shield. | ## ğŸŸ© Domainï¼šé›†ç´„ãƒ«ãƒ¼ãƒˆï¼ˆOrderï¼‰ğŸŒ³ |
| 720 | docs/ab_tcb_cs_study_021.md | ab_tcb_cs_study_021_anti_pattern.png | ./picture/ab_tcb_cs_study_021_anti_pattern.png | **Theme**: Layer Dependency Anti-Pattern<br><br>**Labels to Render**:<br>- Domain: "Domain"<br>- Infra: "Infrastructure (DB)"<br>- Error: "ä¾å­˜é•å (Violation)"<br><br>**Visual Details**:<br>1. Show Domain (Green) cleanly.<br>2. Show Infrastructure (Orange) with a Database icon.<br>3. Show a "Pollution" link where Domain directly touches the DB/DbContext.<br>4. Mark this link with a big Red X or Warning sign.<br>5. Contrast with a "Clean" version where Domain is isolated. | ## 7) è¿·å­ã«ãªã‚ŠãŒã¡ãªãƒ‘ã‚¿ãƒ¼ãƒ³é›† ğŸ§Ÿâ€â™€ï¸ğŸ“Œï¼ˆã‚ã‚‹ã‚ã‚‹æ•‘æ€¥ç®±ğŸš‘ï¼‰ |
| 721 | docs/ab_tcb_cs_study_022.md | ab_tcb_cs_study_022_repo_vs_dao.png | ./picture/ab_tcb_cs_study_022_repo_vs_dao.png | **Theme**: Repository vs DAO<br><br>**Labels to Render**:<br>- DAO: "DAO (Table Access)"<br>- Repo: "Repository (Aggregate Access)"<br>- Object: "Entity / Aggregate"<br>- Table: "Table / Row"<br><br>**Visual Details**:<br>1. Left side: DAO accessing Tables directly (1:1 mapping). Small gears.<br>2. Right side: Repository accessing an Aggregate (Big Circle with small circles inside).<br>3. Show DAO as "Technical / Data" (Gray/Blue).<br>4. Show Repository as "Domain / Meaning" (Green/Orange).<br>5. Repository handles the translation from Object to Tables internally. | ## 1. Repositoryã£ã¦ãªã«ï¼Ÿï¼ˆã²ã¨ã“ã¨ã§ï¼‰ğŸ§ºâœ¨ |
| 722 | docs/ab_tcb_cs_study_022.md | ab_tcb_cs_study_022_bad_repo_access.png | ./picture/ab_tcb_cs_study_022_bad_repo_access.png | **Theme**: Direct Child Access Danger<br><br>**Labels to Render**:<br>- Root: "Order (Root)"<br>- Child: "OrderItem (Child)"<br>- Repo: "OrderItemRepository (NG)"<br>- Logic: "Validation / Logic"<br>- Bypass: "Bypass Logic ğŸ’¥"<br><br>**Visual Details**:<br>1. Draw the Order Aggregate (Root + Child).<br>2. Show the "Correct" path: Access via Order Root (which has Validation).<br>3. Show the "Incorrect" path: Access via `OrderItemRepository` directly modifying the Child.<br>4. Mark the Incorrect path with a Danger/Explosion icon, showing that Logic was skipped. | ## 3. å…¸å‹NGï¼šOrderItemRepository ã‚’ä½œã£ã¡ã‚ƒã†ğŸ’¥ğŸ™…â€â™€ï¸ |
| 723 | docs/ab_tcb_cs_study_022.md | ab_tcb_cs_study_022_gatekeeper.png | ./picture/ab_tcb_cs_study_022_gatekeeper.png | **Theme**: Aggregate Root as Gatekeeper<br><br>**Labels to Render**:<br>- Root: "Order"<br>- Items: "Items (Read Only)"<br>- Method: "AddItem() / Confirm()"<br>- External: "External Caller"<br><br>**Visual Details**:<br>1. Draw `Order` as a fortress or secure container.<br>2. Inside, show `Items` list.<br>3. Show `Items` as visible through a window (ReadOnly) but not touchable.<br>4. Show `AddItem()` and `Confirm()` as the only open doors/gates to modify the state.<br>5. External Caller tries to touch `Items` directly but hits a wall. | ## 5-1. ãƒ‰ãƒ¡ã‚¤ãƒ³å´ï¼ˆé›†ç´„ãƒ«ãƒ¼ãƒˆï¼‹å­ï¼‰ğŸŒ³ |
| 724 | docs/ab_tcb_cs_study_022.md | ab_tcb_cs_study_022_ef_ownership.png | ./picture/ab_tcb_cs_study_022_ef_ownership.png | **Theme**: EF Core Aggregate Ownership<br><br>**Labels to Render**:<br>- Root: "Order Table"<br>- Child: "OrderItem Table"<br>- Relation: "HasMany / WithOne"<br>- Concept: "Owned / Part of"<br><br>**Visual Details**:<br>1. Show two tables: Order and OrderItem.<br>2. Draw a strong connector emphasizing "Ownership" (Diamond shape or solid link).<br>3. Visualize that loading `Order` automatically `Include`s `OrderItems` (like a package deal).<br>4. Use a "Box" metaphor where OrderItem is inside the Order box, even if they are separate tables. | ### 7-2. Repositoryå®Ÿè£…ï¼ˆEFç‰ˆï¼‰ğŸª |
| 725 | docs/ab_tcb_cs_study_022.md | ab_tcb_cs_study_022_savechanges_scope.png | ./picture/ab_tcb_cs_study_022_savechanges_scope.png | **Theme**: Transaction Scope of SaveChanges<br><br>**Labels to Render**:<br>- UseCase: "UseCase Scope"<br>- Op1: "Load"<br>- Op2: "Modify Domain"<br>- Op3: "Save (Commit)"<br>- DB: "Database Transaction"<br><br>**Visual Details**:<br>1. Draw a timeline or bracket showing the UseCase execution.<br>2. Show `Load` -> `Modify` -> `Save` steps.<br>3. Highlight `Save` as the moment where the DB Transaction happens (Atomic).<br>4. Show that if `Modify` fails, `Save` never happens (Safe). | ## 8. ä¿å­˜ï¼ˆã‚³ãƒŸãƒƒãƒˆï¼‰ã¯ã©ã“ã§ã‚„ã‚‹ï¼ŸğŸ”’ğŸ¬ |
| 726 | docs/ab_tcb_cs_study_022.md | ab_tcb_cs_study_022_design_mistakes.png | ./picture/ab_tcb_cs_study_022_design_mistakes.png | **Theme**: Repository Design Mistakes<br><br>**Labels to Render**:<br>- Mistake 1: "Complex Query (DTO)"<br>- Mistake 2: "Return IQueryable"<br>- Mistake 3: "Update Child Only"<br>- Correct: "Simple Aggregate Access"<br><br>**Visual Details**:<br>1. Divide into 3 "Mistake" panels and 1 "Correct" panel.<br>2. Mistake 1: Repo trying to return a complex UI shape.<br>3. Mistake 2: Repo leaking a pipe (IQueryable) that goes everywhere.<br>4. Mistake 3: Repo poking a small hole to update a Child.<br>5. Correct: Repo handing over the whole clean Aggregate. | ## 10. ã‚ˆãã‚ã‚‹è¨­è¨ˆãƒŸã‚¹é›†ï¼ˆå…ˆã«æ½°ã™ï¼‰ğŸ§¯ğŸ˜… |
| 727 | docs/ab_tcb_cs_study_023.md | ab_tcb_cs_study_023_dbcontext_lifecycle.png | ./picture/ab_tcb_cs_study_023_dbcontext_lifecycle.png | **Theme**: DbContext Lifecycle<br><br>**Labels to Render**:<br>- Start: "Create (New UoW)"<br>- Work: "Load & Edit (Tracking)"<br>- End: "SaveChanges (Commit)"<br>- Cleanup: "Dispose (Done)"<br><br>**Visual Details**:<br>1. Draw a circular or linear lifecycle.<br>2. Step 1: "Create" (Open Box).<br>3. Step 2: "Work" (Table with items being edited).<br>4. Step 3: "Commit" (Sealing the box and stamping it).<br>5. Step 4: "Dispose" (Sweeping/Recycling). | ## 2) DbContextã¯ â€œUnit of Workãã®ã‚‚ã®â€ ğŸ§ ğŸ·ï¸ |
| 728 | docs/ab_tcb_cs_study_023.md | ab_tcb_cs_study_023_atomicity.png | ./picture/ab_tcb_cs_study_023_atomicity.png | **Theme**: SaveChanges Atomicity<br><br>**Labels to Render**:<br>- Change 1: "Add Item"<br>- Change 2: "Update Status"<br>- Gate: "SaveChanges (Transaction)"<br>- Result: "All or Nothing"<br><br>**Visual Details**:<br>1. Draw multiple changes (balls) entering a funnel or gate.<br>2. The gate is labeled "Transaction".<br>3. Show two outcomes:<br>   - Success: All balls pass through together.<br>   - Failure: All balls bounce back together (Rollback).<br>4. Emphasize "Atomic" nature. | ## 3) SaveChangesã¯ã€Œç¢ºå®šãƒœã‚¿ãƒ³ã€ğŸ¯âœ…ï¼ˆã—ã‹ã‚‚åŸºæœ¬ã¯ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä»˜ãï¼‰ |
| 729 | docs/ab_tcb_cs_study_023.md | ab_tcb_cs_study_023_layered_responsibility.png | ./picture/ab_tcb_cs_study_023_layered_responsibility.png | **Theme**: Layered Responsibility for SaveChanges<br><br>**Labels to Render**:<br>- App: "Application (Orchestrator)"<br>- Repo: "Repository (Loader)"<br>- Domain: "Domain (Logic)"<br>- DB: "Database"<br>- Action: "SaveChanges()"<br><br>**Visual Details**:<br>1. Draw vertical layers.<br>2. Show App calling Repo to Load.<br>3. Show App calling Domain to Modify.<br>4. Show App calling SaveChanges directly to DB (or via UoW abstraction).<br>5. Highlight that Domain does NOT know about SaveChanges. | ## 4) å›³ã§ã¤ã‹ã‚€ï¼šDbContextã®ç«‹ã¡ä½ç½®ğŸ—ºï¸âœ¨ |
| 730 | docs/ab_tcb_cs_study_023.md | ab_tcb_cs_study_023_ideal_flow.png | ./picture/ab_tcb_cs_study_023_ideal_flow.png | **Theme**: Ideal Unit of Work Flow<br><br>**Labels to Render**:<br>- Request: "1 Request"<br>- Context: "1 DbContext"<br>- Load: "Load"<br>- Edit: "Edit"<br>- Save: "Save (1 time)"<br><br>**Visual Details**:<br>1. Draw a single pipeline for a request.<br>2. Show a single DbContext instance spanning the whole request.<br>3. Show multiple operations (Load, Edit) happening within that one context.<br>4. Show a single Save point at the end. | ## 7) ã€ŒåŒã˜DbContextã§å–ã£ã¦ã€åŒã˜DbContextã§ä¿å­˜ã€ãŒå¼·ã„ç†ç”±ğŸ’ªâœ¨ |
| 731 | docs/ab_tcb_cs_study_023.md | ab_tcb_cs_study_023_fragmented_save.png | ./picture/ab_tcb_cs_study_023_fragmented_save.png | **Theme**: Fragmented SaveChanges (Anti-Pattern)<br><br>**Labels to Render**:<br>- Step 1: "Edit 1"<br>- Save 1: "Save (Partial)"<br>- Step 2: "Edit 2 (Fail)"<br>- Result: "Inconsistent Data ğŸ’¥"<br><br>**Visual Details**:<br>1. Draw a process with multiple Save points.<br>2. Show Save 1 succeeding (Data A committed).<br>3. Show Step 2 failing.<br>4. Show the result: Data A is stuck in DB, but Data B is missing -> Inconsistency. | ## äº‹æ•…â‘ ï¼šSaveChangesã‚’ä½•å›ã‚‚å‘¼ã¶ï¼ˆå¢ƒç•ŒãŒã‚°ãƒãƒ£ã‚‹ï¼‰ğŸ˜µ |
| 732 | docs/ab_tcb_cs_study_023.md | ab_tcb_cs_study_023_repo_commit.png | ./picture/ab_tcb_cs_study_023_repo_commit.png | **Theme**: Repository Committing (Anti-Pattern)<br><br>**Labels to Render**:<br>- App: "Application"<br>- Repo: "Repository"<br>- Save: "SaveChanges()"<br>- Control: "Lost Control ğŸ˜±"<br><br>**Visual Details**:<br>1. Show App calling Repo.<br>2. Show Repo secretly calling SaveChanges inside itself.<br>3. Show App trying to do more work after Repo call, but it's already committed.<br>4. Use a "Premature Ejection" or "Surprise" metaphor. | ## äº‹æ•…â‘¡ï¼šRepositoryã®ä¸­ã§SaveChangesã—ã¡ã‚ƒã†ğŸ™…â€â™€ï¸ |
| 733 | docs/ab_tcb_cs_study_023.md | ab_tcb_cs_study_023_multiple_contexts.png | ./picture/ab_tcb_cs_study_023_multiple_contexts.png | **Theme**: Multiple DbContexts (Anti-Pattern)<br><br>**Labels to Render**:<br>- Context A: "DbContext A (Load)"<br>- Entity: "Entity (Detached)"<br>- Context B: "DbContext B (Save)"<br>- Error: "Tracking Lost / Error ğŸ’¥"<br><br>**Visual Details**:<br>1. Show Context A loading an Entity.<br>2. Show Entity moving to Context B.<br>3. Show Context B trying to Save.<br>4. Show EF Core confusion/error because it didn't track the changes from A. | ## äº‹æ•…â‘¢ï¼šåŒã˜ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§DbContextã‚’ä½œã‚Šç›´ã™ï¼ˆè¿½è·¡ãŒåˆ‡ã‚Œã‚‹ï¼‰âœ‚ï¸ |
| 734 | docs/ab_tcb_cs_study_024.md | ab_tcb_cs_study_024_minimal_kit.png | ./picture/ab_tcb_cs_study_024_minimal_kit.png | **Theme**: EF Core Minimal Kit<br><br>**Labels to Render**:<br>- Item 1: "DbContext (Manager)"<br>- Item 2: "DbSet (Table Access)"<br>- Item 3: "Migration (History)"<br>- Kit: "EF Core Starter Kit"<br><br>**Visual Details**:<br>1. Draw a tool kit or box containing 3 distinct items.<br>2. DbContext as a Manager/Controller icon.<br>3. DbSet as a Table/Grid icon.<br>4. Migration as a Scroll/History icon.<br>5. Emphasize that these 3 are the essentials. | ## 2) æœ€å°3ç‚¹ã‚»ãƒƒãƒˆã‚’è¦šãˆã‚ˆã†ğŸ“¦âœ¨ |
| 735 | docs/ab_tcb_cs_study_024.md | ab_tcb_cs_study_024_migration_flow.png | ./picture/ab_tcb_cs_study_024_migration_flow.png | **Theme**: Migration Workflow<br><br>**Labels to Render**:<br>- Step 1: "Code Change (C#)"<br>- Command 1: "add migration"<br>- Step 2: "Migration File (Plan)"<br>- Command 2: "database update"<br>- Step 3: "Database (SQL)"<br><br>**Visual Details**:<br>1. Draw a flow from left to right.<br>2. C# Code -> (Command) -> Migration File -> (Command) -> Database.<br>3. Show the Migration File as a blueprint or intermediate plan.<br>4. Show the Database getting updated with new columns/tables. | ## 2-3. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ã®å±¥æ­´ï¼‰ğŸ§¾ |
| 736 | docs/ab_tcb_cs_study_024.md | ab_tcb_cs_study_024_project_layers.png | ./picture/ab_tcb_cs_study_024_project_layers.png | **Theme**: Project Layers for DbContext<br><br>**Labels to Render**:<br>- Infra: "Infrastructure Project"<br>- Content: "DbContext / Migrations"<br>- App: "App / Startup Project"<br>- Ref: "Reference ->"<br><br>**Visual Details**:<br>1. Draw two project boxes: Infrastructure and App.<br>2. Place `DbContext` inside Infrastructure.<br>3. Show App referencing Infrastructure.<br>4. Show that App is the one that *runs* and uses the DbContext defined in Infra. | ## 6) Infrastructureï¼šDbContextã‚’ä½œã‚‹ğŸ§ªğŸ§  |
| 737 | docs/ab_tcb_cs_study_024.md | ab_tcb_cs_study_024_di_wiring.png | ./picture/ab_tcb_cs_study_024_di_wiring.png | **Theme**: DI Wiring for DbContext<br><br>**Labels to Render**:<br>- Container: "DI Container (Services)"<br>- Code: "AddDbContext<CafeDbContext>"<br>- Option: "UseSqlite(...)"<br>- Instance: "Ready to Inject"<br><br>**Visual Details**:<br>1. Draw a DI Container (Box).<br>2. Show code pouring `DbContext` into the container with `UseSqlite` options.<br>3. Show the result: An instance ready to be grabbed by `GetRequiredService` or Constructor Injection. | ## 7-1. ã„ã¡ã°ã‚“å˜ç´”ãªæ¥ç¶šæ–‡å­—åˆ—ï¼ˆã¾ãšã“ã‚Œï¼‰ğŸ”Œ |
| 738 | docs/ab_tcb_cs_study_024.md | ab_tcb_cs_study_024_sqlite_file_trap.png | ./picture/ab_tcb_cs_study_024_sqlite_file_trap.png | **Theme**: SQLite File Location Trap<br><br>**Labels to Render**:<br>- Project: "Project Root"<br>- Output: "bin/Debug/net10.0"<br>- File: "cafe-dev.db"<br>- Trap: "Where is it? ğŸ¤”"<br><br>**Visual Details**:<br>1. Draw a folder structure.<br>2. Highlight `bin/Debug` folder.<br>3. Show the `.db` file sitting deep inside `bin/Debug`, not at the Project Root.<br>4. Show a confused user looking at the Project Root. | > **ã‚ˆãã‚ã‚‹ç½ âš ï¸** |
| 739 | docs/ab_tcb_cs_study_024.md | ab_tcb_cs_study_024_owned_mapping.png | ./picture/ab_tcb_cs_study_024_owned_mapping.png | **Theme**: Owned Entity Mapping (Flattening)<br><br>**Labels to Render**:<br>- Class: "Order (Class)"<br>- Prop: "Total (Money)"<br>- Table: "Orders (Table)"<br>- Col 1: "Id"<br>- Col 2: "Total_Amount"<br>- Col 3: "Total_Currency"<br><br>**Visual Details**:<br>1. Left side: C# Class hierarchy (Order has Money).<br>2. Right side: DB Table (Flat).<br>3. Show how `Money.Amount` and `Money.Currency` become columns *inside* the `Orders` table.<br>4. Use arrows to show the "Flattening" or "Embedding" process. | ## 10) ãƒãƒƒãƒ”ãƒ³ã‚°å…¥é–€ï¼šValue Objectã®å…¥å£ã ã‘è§¦ã‚‹ğŸ§©ğŸšª |
| 740 | docs/ab_tcb_cs_study_025.md | ab_tcb_cs_study_025_all_or_nothing.png | ./picture/ab_tcb_cs_study_025_all_or_nothing.png | **Theme**: Transaction Boundary (All or Nothing)<br><br>**Labels to Render**:<br>- Op 1: "Add Item"<br>- Op 2: "Update Status"<br>- Boundary: "Transaction Scope"<br>- Result: "Success (All) / Fail (None)"<br><br>**Visual Details**:<br>1. Draw a bracket or box grouping two operations.<br>2. Show a "Chain Link" connecting them.<br>3. Show that if the chain breaks anywhere, the whole box falls (Rollback).<br>4. Show that if it holds, the whole box is lifted (Commit). | ## 2. ã¾ãšè¶…ã–ã£ãã‚Šï¼šãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•Œã£ã¦ä½•ï¼ŸğŸ§± |
| 741 | docs/ab_tcb_cs_study_025.md | ab_tcb_cs_study_025_app_director.png | ./picture/ab_tcb_cs_study_025_app_director.png | **Theme**: App Layer as Director<br><br>**Labels to Render**:<br>- Director: "App Service (Director)"<br>- Actor: "Domain (Actor)"<br>- Stage: "Database (Stage)"<br>- Action: "Cut! (Commit)"<br><br>**Visual Details**:<br>1. Draw a movie set metaphor.<br>2. Director (App) holding a megaphone.<br>3. Actor (Domain) performing logic.<br>4. Director shouting "Cut/Print!" to finalize the scene (Commit to DB).<br>5. Emphasize that the Actor doesn't decide when to stop filming. | ## 3. çµè«–ï¼šå¢ƒç•Œã¯ â€œã‚¢ãƒ—ãƒªå±¤ï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼‰â€ ã«ç½®ãğŸ¬ğŸ”’ |
| 742 | docs/ab_tcb_cs_study_025.md | ab_tcb_cs_study_025_implicit_tx.png | ./picture/ab_tcb_cs_study_025_implicit_tx.png | **Theme**: Implicit Transaction in SaveChanges<br><br>**Labels to Render**:<br>- Call: "SaveChanges()"<br>- Wrapper: "Implicit Transaction"<br>- DB: "Database"<br>- Safety: "Auto Rollback on Error"<br><br>**Visual Details**:<br>1. Show a `SaveChanges()` call being wrapped in a protective bubble/shield labeled "Transaction".<br>2. Show it hitting the DB.<br>3. Show an error bouncing off the shield, causing the whole bubble to pop safely (Rollback). | ## 4. æœ€æ–°ã®å‰æï¼ˆè¶…å¤§äº‹ãªäº‹å®Ÿã ã‘ï¼‰ğŸ§ âœ¨ |
| 743 | docs/ab_tcb_cs_study_025.md | ab_tcb_cs_study_025_explicit_tx.png | ./picture/ab_tcb_cs_study_025_explicit_tx.png | **Theme**: Explicit Transaction Block<br><br>**Labels to Render**:<br>- Start: "BeginTransaction"<br>- Op A: "Save Changes 1"<br>- Op B: "Save Changes 2"<br>- End: "Commit Transaction"<br>- Error: "Rollback (Try/Catch)"<br><br>**Visual Details**:<br>1. Draw a timeline or code block structure.<br>2. Explicit "Begin" and "Commit" brackets wrapping multiple "Save" calls.<br>3. Show a "Safety Net" (Try/Catch) below that catches any fall and triggers Rollback. | ### 7-1. æ˜ç¤ºãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¾‹ï¼ˆè¤‡æ•° SaveChanges ã‚’ã¾ã¨ã‚ã‚‹ï¼‰ğŸ”’ |
| 744 | docs/ab_tcb_cs_study_025.md | ab_tcb_cs_study_025_domain_pollution.png | ./picture/ab_tcb_cs_study_025_domain_pollution.png | **Theme**: Domain Pollution by DB Concerns<br><br>**Labels to Render**:<br>- Clean: "Pure Domain Logic"<br>- Dirty: "DB Context / SaveChanges"<br>- Result: "Hard to Test ğŸ˜±"<br><br>**Visual Details**:<br>1. Show a pristine "Domain" area (Green/Clean).<br>2. Show "DB" elements (Muddy footprints or Oil) leaking into the Domain area.<br>3. Show a developer struggling to test the "Dirty" domain because it's stuck to the DB. | ### ğŸš« äº‹æ•…â‘ ï¼šDomain ã®ä¸­ã§ SaveChanges ã—ã¯ã˜ã‚ã‚‹ |
| 745 | docs/ab_tcb_cs_study_025.md | ab_tcb_cs_study_025_io_in_tx.png | ./picture/ab_tcb_cs_study_025_io_in_tx.png | **Theme**: I/O inside Transaction (Bottleneck)<br><br>**Labels to Render**:<br>- TX: "DB Transaction (Locked)"<br>- I/O: "External API Call (Slow)"<br>- Queue: "Other Requests Waiting â³"<br>- Result: "Performance Drop ğŸ“‰"<br><br>**Visual Details**:<br>1. Draw a Transaction block holding a DB Lock.<br>2. Inside the block, show a slow "Loading..." bar representing an external API call.<br>3. Outside, show a line of other requests waiting angrily for the lock to release. | ### ğŸš« äº‹æ•…â‘¢ï¼šãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¸­ã«å¤–éƒ¨I/Oï¼ˆAPIå‘¼ã³å‡ºã—ï¼‰ã‚’ã™ã‚‹ |
| 746 | docs/ab_tcb_cs_study_025.md | ab_tcb_cs_study_025_refactor_save.png | ./picture/ab_tcb_cs_study_025_refactor_save.png | **Theme**: Refactoring to Single SaveChanges<br><br>**Labels to Render**:<br>- Before: "Repo.Save() inside Add()"<br>- After: "UseCase.Save() at end"<br>- Benefit: "Clean Boundary"<br><br>**Visual Details**:<br>1. Compare "Before" and "After".<br>2. Before: Repo has a hidden "Save" button inside it. UseCase calls Repo, and it auto-saves (Bad).<br>3. After: Repo just adds to memory. UseCase presses a big "Save" button at the very end (Good). | ### æ¼”ç¿’Aï¼šSaveChanges ã‚’ â€œæœ€å¾Œã«1å›â€ ã«ç›´ãã†ğŸ’¾âœ… |
| 747 | docs/ab_tcb_cs_study_026.md | ab_tcb_cs_study_026_orchestration.png | ./picture/ab_tcb_cs_study_026_orchestration.png | **Theme**: PlaceOrder UseCase Orchestration<br><br>**Labels to Render**:<br>- UI: "UI / API"<br>- App: "Application Service"<br>- Repo: "Repository (Load)"<br>- Domain: "Domain (Logic)"<br>- DB: "Database (Save)"<br><br>**Visual Details**:<br>1. Draw a vertical flow (Top to Bottom).<br>2. UI calls App.<br>3. App calls Repo to Load (if needed) or Create.<br>4. App calls Domain to execute Logic (Place).<br>5. App calls DB to Save (Commit).<br>6. Use clear icons: Screen, Gear, Warehouse, Tree, Server. | ## 26.5 ã¾ãšã¯å®Œæˆå›³ï¼ˆã–ã£ãã‚Šï¼‰ã‚’è¦‹ã‚ˆã†ğŸ‘€ğŸ“¦ |
| 748 | docs/ab_tcb_cs_study_026.md | ab_tcb_cs_study_026_vo_math.png | ./picture/ab_tcb_cs_study_026_vo_math.png | **Theme**: Value Object Operations (Money)<br><br>**Labels to Render**:<br>- A: "Money (100 JPY)"<br>- B: "Money (50 JPY)"<br>- Op: "Add (+)"<br>- Result: "New Money (150 JPY)"<br>- Rule: "Currency Check"<br><br>**Visual Details**:<br>1. Show two Money objects (Bills/Coins) being combined.<br>2. Show a "Plus" operator.<br>3. Show the result is a *New* object (Immutability).<br>4. Show a small checkmark for "Same Currency". | ## 26.7.1 Value Objectï¼ˆä¾‹ï¼šãŠé‡‘ï¼‰ğŸ’° |
| 749 | docs/ab_tcb_cs_study_026.md | ab_tcb_cs_study_026_domain_integrity.png | ./picture/ab_tcb_cs_study_026_domain_integrity.png | **Theme**: Domain Integrity (Aggregate Root)<br><br>**Labels to Render**:<br>- Root: "Order (Aggregate Root)"<br>- State: "Status (Draft)"<br>- Rule: "EnsureDraft()"<br>- Action: "AddItem / Place"<br><br>**Visual Details**:<br>1. Draw the Order Aggregate as a protected zone.<br>2. Show "AddItem" and "Place" methods as gates.<br>3. Show "EnsureDraft" as a Guard logic at the gate entrance.<br>4. Show that invalid actions are blocked before touching internal state. | ## 26.7.3 Aggregate Rootï¼ˆOrderï¼‰ğŸ‘‘ğŸŒ³ |
| 750 | docs/ab_tcb_cs_study_026.md | ab_tcb_cs_study_026_infra_mapping.png | ./picture/ab_tcb_cs_study_026_infra_mapping.png | **Theme**: EF Core Infrastructure Mapping<br><br>**Labels to Render**:<br>- Class: "Order Class"<br>- Map: "DbContext Configuration"<br>- Table: "Orders Table"<br>- Detail: "Owned Items (Flattened)"<br><br>**Visual Details**:<br>1. Show the C# Class on the left.<br>2. Show the Database Table on the right.<br>3. Show the DbContext (Configuration) in the middle acting as the Mapper.<br>4. Highlight how `Items` (List) and `Money` (VO) are mapped to table columns. | ## 26.8.1 DbContextï¼ˆUnit of Workï¼‰ğŸ§  |
| 751 | docs/ab_tcb_cs_study_026.md | ab_tcb_cs_study_026_app_boundary.png | ./picture/ab_tcb_cs_study_026_app_boundary.png | **Theme**: Application Service Boundary<br><br>**Labels to Render**:<br>- Input: "Command (DTO)"<br>- Logic: "Domain Logic"<br>- Output: "Result (ID)"<br>- Boundary: "Transaction Scope"<br><br>**Visual Details**:<br>1. Draw the Application Service as a container.<br>2. Show Command entering.<br>3. Show Domain Logic executing inside.<br>4. Show `SaveChangesAsync` happening just before exit.<br>5. Emphasize that this container defines the Transaction Scope. | ## 26.9.2 Application Serviceï¼ˆå¢ƒç•Œã¯ã“ã“ï¼ï¼‰ğŸ¯ |
| 752 | docs/ab_tcb_cs_study_026.md | ab_tcb_cs_study_026_io_danger.png | ./picture/ab_tcb_cs_study_026_io_danger.png | **Theme**: External I/O Danger in Transaction<br><br>**Labels to Render**:<br>- DB: "DB Transaction (Locked)"<br>- External: "External Payment API"<br>- Risk: "Network Delay / Failure"<br>- Result: "Inconsistent State ğŸ’¥"<br><br>**Visual Details**:<br>1. Draw a Transaction block holding a DB Lock.<br>2. Inside, show a call to an External API.<br>3. Show the API taking time or failing.<br>4. Show the DB Transaction being stuck or rolling back, leaving the system in a bad state (e.g., Payment charged but Order not saved). | ## 26.10 ã€Œé€”ä¸­ã§å¤–éƒ¨I/Oã—ãªã„ã€ã£ã¦ã©ã†ã„ã†ã“ã¨ï¼ŸğŸ§·âš ï¸ |
| 753 | docs/ab_tcb_cs_study_027.md | ab_tcb_cs_study_027_implicit_flow.png | ./picture/ab_tcb_cs_study_027_implicit_flow.png | **Theme**: Implicit Transaction Flow<br><br>**Labels to Render**:<br>- Code: "SaveChangesAsync()"<br>- Effect: "Start TX -> INSERT -> Commit"<br>- Bubble: "Automatic Safety"<br><br>**Visual Details**:<br>1. Draw a single code block `SaveChangesAsync()`.<br>2. Show a magnifying glass revealing what happens inside: "Start Transaction" -> "SQL Execution" -> "Commit Transaction".<br>3. Emphasize that this happens automatically without writing `BeginTransaction`. | ## EF Coreã®ã€Œæš—é»™ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã€ã£ã¦ä½•ï¼ŸğŸ§ ğŸ” |
| 754 | docs/ab_tcb_cs_study_027.md | ab_tcb_cs_study_027_multi_save.png | ./picture/ab_tcb_cs_study_027_multi_save.png | **Theme**: Explicit Transaction for Multiple Saves<br><br>**Labels to Render**:<br>- Block: "BeginTransaction"<br>- Step 1: "Save (Order ID)"<br>- Step 2: "Save (Details)"<br>- End: "Commit"<br>- Atomicity: "Locked Together"<br><br>**Visual Details**:<br>1. Draw two `SaveChanges` calls.<br>2. Wrap them tightly in a `BeginTransaction` block (Chain link or Box).<br>3. Show that if the second one fails, the first one is also undone (Rollback). | ## ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼š`SaveChanges` ã‚’2å›ä»¥ä¸Šã‚„ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã¾ã¨ã‚ã¦åŸå­çš„ã«ã—ãŸã„ğŸ“¦âœ… |
| 755 | docs/ab_tcb_cs_study_027.md | ab_tcb_cs_study_027_cross_context.png | ./picture/ab_tcb_cs_study_027_cross_context.png | **Theme**: Cross-Context Transaction Sharing<br><br>**Labels to Render**:<br>- Conn: "Single DB Connection"<br>- TX: "Shared Transaction"<br>- DB1: "DbContext 1"<br>- DB2: "DbContext 2"<br>- Method: "UseTransaction()"<br><br>**Visual Details**:<br>1. Draw one Database Connection pipe.<br>2. Show two DbContexts attached to this single pipe.<br>3. Show a Transaction covering both contexts.<br>4. Highlight the method `UseTransaction()` linking DB2 to the existing TX. | ## ãƒ‘ã‚¿ãƒ¼ãƒ³3ï¼šDbContextãŒ2ã¤ï¼ˆä¾‹ï¼šOutboxç”¨ãªã©ï¼‰ã§ã€åŒã˜DBã®åŒã˜Txã«å‚åŠ ã•ã›ãŸã„ğŸ§·ğŸ§  |
| 756 | docs/ab_tcb_cs_study_027.md | ab_tcb_cs_study_027_retry_strategy.png | ./picture/ab_tcb_cs_study_027_retry_strategy.png | **Theme**: Execution Strategy Retry Logic<br><br>**Labels to Render**:<br>- Wrapper: "Execution Strategy"<br>- Content: "Transaction Block"<br>- Error: "Connection Lost âš¡"<br>- Action: "Auto Retry ğŸ”"<br><br>**Visual Details**:<br>1. Draw a "Transaction Block" containing logic.<br>2. Wrap the whole block in a larger "Retry Policy" container.<br>3. Show an error occurring inside the block.<br>4. Show the Retry Policy catching it and re-running the whole block from the start. | ## ãƒ‘ã‚¿ãƒ¼ãƒ³4ï¼šæ¥ç¶šå›å¾©ï¼ˆãƒªãƒˆãƒ©ã‚¤ï¼‰ã‚’æœ‰åŠ¹ã«ã—ã¦ã„ã‚‹ã®ã«ã€æ˜ç¤ºTxãŒè¦ã‚‹ğŸ”¥ğŸ” |
| 757 | docs/ab_tcb_cs_study_027.md | ab_tcb_cs_study_027_transaction_scope.png | ./picture/ab_tcb_cs_study_027_transaction_scope.png | **Theme**: TransactionScope Ambient Flow<br><br>**Labels to Render**:<br>- Scope: "TransactionScope"<br>- Async: "Async Flow Enabled"<br>- Thread 1: "Await 1"<br>- Thread 2: "Await 2"<br>- Context: "Ambient TX"<br><br>**Visual Details**:<br>1. Draw a `TransactionScope` block.<br>2. Show async calls branching out.<br>3. Show the "Ambient Transaction" (like a cloud or aura) following the execution flow across threads/awaits.<br>4. Highlight `AsyncFlowOption.Enabled`. | ## ãƒ‘ã‚¿ãƒ¼ãƒ³5ï¼š`TransactionScope` ãŒå¿…è¦ï¼ˆè¤‡æ•°æ¥ç¶š/è¤‡æ•°ãƒªã‚½ãƒ¼ã‚¹ã‚’ã¾ãŸãï¼‰ğŸ§¨ğŸ§· |
| 758 | docs/ab_tcb_cs_study_027.md | ab_tcb_cs_study_027_io_block.png | ./picture/ab_tcb_cs_study_027_io_block.png | **Theme**: I/O Blocking Transaction<br><br>**Labels to Render**:<br>- TX: "Transaction Lock"<br>- I/O: "External API Call"<br>- Time: "Time Duration â³"<br>- DB: "Database Waiting..."<br><br>**Visual Details**:<br>1. Draw a timeline of a Transaction.<br>2. Show a long "I/O" block inside the transaction.<br>3. Show the Database Lock being held during this entire time.<br>4. Show other processes queuing up/blocked outside, creating a traffic jam. | ## 1) å¤–éƒ¨I/Oï¼ˆæ±ºæ¸ˆAPIãƒ»ãƒ¡ãƒ¼ãƒ«ãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ï¼‰ã‚’Txã®ä¸­ã«å…¥ã‚Œã‚‹ğŸ“¡ğŸ’³âœ‰ï¸ |
| 759 | docs/ab_tcb_cs_study_027.md | ab_tcb_cs_study_027_decision_tree.png | ./picture/ab_tcb_cs_study_027_decision_tree.png | **Theme**: Explicit Transaction Decision Tree<br><br>**Labels to Render**:<br>- Q1: "Multiple SaveChanges?"<br>- Q2: "Multiple DbContexts?"<br>- Q3: "Retry Enabled?"<br>- Result A: "Implicit (Default) âœ…"<br>- Result B: "Explicit Needed ğŸ”’"<br><br>**Visual Details**:<br>1. Create a simple flowchart.<br>2. Start node: "One SaveChanges?".<br>   - Yes -> "Implicit".<br>   - No -> "Explicit".<br>3. Add branches for "Multiple Contexts" and "Retry".<br>4. End nodes: Green (Implicit) and Blue (Explicit). | ## ã€Œæ˜ç¤ºTxã„ã‚‹ï¼Ÿã€åˆ¤å®šãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆâœ…âœ¨ |
