| ID | File Name | Proposed Image Filename | Relative Link Path | Prompt | Insertion Point |
|---|---|---|---|---|---|
| 1 | test_ts_study_000.md | test_ts_study_000_input_output_types.png | ./picture/test_ts_study_000_input_output_types.png | **Theme**: Preparation Toolbox<br><br>**Labels to Render**:<br>- Preparation: "æº–å‚™"<br>- Tools: "é“å…·"<br><br>**Visual Details**:<br>1. Core Concept: Getting ready for the journey.<br>2. Metaphor: A neatly organized toolbox with essential tools (VS icon, Git logo, Test tube).<br>3. Action: A hand picking up a tool.<br>4. Layout: Top-down view or isometric, clean and organized. | ### 2) å–ã‚Šå‡ºã—ã™ãæ³¨æ„âš ï¸ |
| 2 | docs/ab_tcb_ts_study_016.md | ab_tcb_ts_study_016_clean_domain.png | ./picture/ab_tcb_ts_study_016_clean_domain.png | **Theme**: Shielding the Domain from Database Details<br><br>**Labels to Render**:<br>- Domain: "ãƒ‰ãƒ¡ã‚¤ãƒ³"<br>- Repository: "ãƒ¬ãƒã‚¸ãƒˆãƒª"<br>- Infrastructure (DB): "ã‚¤ãƒ³ãƒ•ãƒ© (DB)"<br><br>**Visual Details**:<br>1. Core Concept: Protection/Isolation.<br>2. Metaphor: A clean, glowing "Domain" sphere protected by a "Repository" shield/barrier from "Infrastructure" gears/mess.<br>3. Action: The shield blocking dirty database details (SQL, rows) from entering the clean domain.<br>4. Layout: Left (Domain) -> Shield (Repository) -> Right (Infra). | ### 2.1 ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒâ€œæ±šã‚Œãªã„â€ğŸ§¼âœ¨ |
| 3 | docs/ab_tcb_ts_study_016.md | ab_tcb_ts_study_016_dependency_rule.png | ./picture/ab_tcb_ts_study_016_dependency_rule.png | **Theme**: Dependency Rule (Domain at Center)<br><br>**Labels to Render**:<br>- Domain: "ãƒ‰ãƒ¡ã‚¤ãƒ³ (Rule)"<br>- Application: "ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³"<br>- Infrastructure: "ã‚¤ãƒ³ãƒ•ãƒ© (DB/Web)"<br>- Dependency: "ä¾å­˜ã®çŸ¢å°"<br><br>**Visual Details**:<br>1. Core Concept: Dependency Inversion/Rule.<br>2. Metaphor: Concentric Circles (Onion Architecture style) or Layers.<br>3. Action: Arrows pointing INWARD from Infrastructure to Application to Domain.<br>4. Layout: Layered or Concentric. Center is Domain. Outer is Infrastructure. | ### 3. ç½®ãå ´æ‰€ï¼ˆãƒ•ã‚©ãƒ«ãƒ€ï¼‰ã¨ä¾å­˜ã®å‘ãğŸ§±â¡ï¸ |
| 4 | docs/ab_tcb_ts_study_016.md | ab_tcb_ts_study_016_aggregate_root_only.png | ./picture/ab_tcb_ts_study_016_aggregate_root_only.png | **Theme**: Repository Handles Aggregate Roots Only<br><br>**Labels to Render**:<br>- Repository: "å—ä»˜ (Repo)"<br>- Order (Aggregate Root): "Order (é›†ç´„ãƒ«ãƒ¼ãƒˆ)"<br>- OrderItem (Internal): "OrderItem (å†…éƒ¨)"<br><br>**Visual Details**:<br>1. Core Concept: Repository constraint (Only Roots).<br>2. Metaphor: A warehouse receptionist accepting a large box labeled "Order", but rejecting a loose, small gear labeled "OrderItem".<br>3. Action: Receptionist gives a thumbs up to "Order" box, but a "stop" hand or cross sign to "OrderItem". | ## 4. RepositoryãŒæ‰±ã†ç¯„å›²ğŸ§ºï¼ˆé›†ç´„ãƒ«ãƒ¼ãƒ«ï¼‰ |
| 5 | docs/ab_tcb_ts_study_016.md | ab_tcb_ts_study_016_repository_methods.png | ./picture/ab_tcb_ts_study_016_repository_methods.png | **Theme**: Focused Repository Interface vs bloated one<br><br>**Labels to Render**:<br>- Good Repository: "è‰¯ã„ãƒ¬ãƒã‚¸ãƒˆãƒª"<br>- Bad Repository: "ãªã‚“ã§ã‚‚å±‹"<br>- Methods: "findById, save"<br><br>**Visual Details**:<br>1. Core Concept: Interface Segregation/Focus.<br>2. Metaphor:<br>   - "Good": A neat toolkit with just two essential tools (Magnifying Glass for `find`, Hammer for `save`).<br>   - "Bad": A messy, overflowing toolbox with random tools like `searchByDate`, `countAll`, `deleteByStatus` spilling out. | ### 5.1 ãƒ¡ã‚½ãƒƒãƒ‰ã¯â€œãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åŸºæº–â€ã§æœ€å°ã«ğŸ§ ğŸ® |
| 6 | docs/ab_tcb_ts_study_016.md | ab_tcb_ts_study_016_usecase_flow.png | ./picture/ab_tcb_ts_study_016_usecase_flow.png | **Theme**: Repository Usage Cycle<br><br>**Labels to Render**:<br>- 1: "å–å¾— (find)"<br>- 2: "æ“ä½œ (Domain Logic)"<br>- 3: "ä¿å­˜ (save)"<br><br>**Visual Details**:<br>1. Core Concept: The typical cycle of a Use Case using a Repository.<br>2. Metaphor:<br>   - Step 1: Taking a book from a shelf (Repository).<br>   - Step 2: Reading/Writing in the book (Domain Logic).<br>   - Step 3: Putting the book back on the shelf (Repository).<br>3. Action: A circular arrow or 1-2-3 step diagram. | ## 7. Repositoryã®ä½¿ã„æ–¹ï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å´ï¼‰ğŸ®ğŸ§© |
| 7 | docs/ab_tcb_ts_study_016.md | ab_tcb_ts_study_016_fake_repository.png | ./picture/ab_tcb_ts_study_016_fake_repository.png | **Theme**: Repository Interchangeability for Testing<br><br>**Labels to Render**:<br>- UseCase: "ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹"<br>- Real Repository: "æœ¬ç‰© (DB)"<br>- Fake Repository: "å½ç‰© (In-Memory)"<br>- Interface: "Repository I/F"<br><br>**Visual Details**:<br>1. Core Concept: Polymorphism/swapping implementations.<br>2. Metaphor: A game console (UseCase) with a slot for a cartridge (Interface).<br>   - "Real Cartridge" (DB) is unplugged.<br>   - "Test Cartridge" (Fake) is plugged in.<br>3. Action: Swapping the cartridges. | ## 8. ãƒ†ã‚¹ãƒˆã§å·®ã—æ›¿ãˆã‚‹ï¼ˆRepositoryã®çœŸä¾¡ï¼‰ğŸ§ªâœ¨ |
| 8 | docs/ab_tcb_ts_study_016.md | ab_tcb_ts_study_016_pitfall_dto.png | ./picture/ab_tcb_ts_study_016_pitfall_dto.png | **Theme**: Repository Return Type Pitfall<br><br>**Labels to Render**:<br>- Good: "OK"<br>- Bad: "NG"<br>- Return Value: "æˆ»ã‚Šå€¤"<br><br>**Visual Details**:<br>1. Core Concept: Repository should return Domain Objects, not DB Rows/DTOs.<br>2. Metaphor:<br>   - "Good": Handing over a wrapped, clean gift box (Domain Object).<br>   - "Bad": Handing over a raw, muddy rock or a spreadsheet row (DB Row/DTO).<br>3. Action: Comparison side-by-side. | ## 10. ã‚ˆãã‚ã‚‹è½ã¨ã—ç©´é›†âš ï¸ğŸ˜‡ |
| 9 | docs/ab_tcb_ts_study_017.md | ab_tcb_ts_study_017_snapshot_pattern.png | ./picture/ab_tcb_ts_study_017_snapshot_pattern.png | **Theme**: Snapshot Pattern for Persistence<br><br>**Labels to Render**:<br>- Object: "Order (Object)"<br>- Snapshot: "Snapshot (Data)"<br>- Store: "Store (Map)"<br><br>**Visual Details**:<br>1. Core Concept: Converting Object to Data for storage, and Data back to Object for retrieval.<br>2. Metaphor:<br>   - Save: Taking a photo (Snapshot) of a 3D object to store as a 2D photo in an album.<br>   - Load: Using a 3D printer to recreate the 3D object from the 2D photo.<br>3. Action: Cycle of Save (Flatten) and Load (Rehydrate). | ## âœ…å¯¾ç­–ï¼šSnapshotï¼ˆãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ï¼‰ã§ä¿ç®¡ã™ã‚‹ğŸ“¸ |
| 10 | docs/ab_tcb_ts_study_017.md | ab_tcb_ts_study_017_folder_structure.png | ./picture/ab_tcb_ts_study_017_folder_structure.png | **Theme**: Project Structure for DDD<br><br>**Labels to Render**:<br>- Domain: "Domain (Rule)"<br>- Application: "Application (UseCase)"<br>- Infrastructure: "Infrastructure (Impl)"<br>- Tests: "Tests"<br><br>**Visual Details**:<br>1. Core Concept: Separation of concerns by layers/folders.<br>2. Metaphor: A filing cabinet or a tiered shelf.<br>   - Top Tier (Domain): Crown/Jewel (Core Logic).<br>   - Middle Tier (Application): Controller/Hands (Orchestration).<br>   - Bottom Tier (Infrastructure): Tools/DB (Technical details).<br>3. Action: Clear labeling and separation. | ## 17.4.1 ãƒ•ã‚©ãƒ«ãƒ€ã®ç½®ãå ´æ‰€ï¼ˆç›®å®‰ï¼‰ğŸ—‚ï¸ |
| 11 | docs/ab_tcb_ts_study_017.md | ab_tcb_ts_study_017_object_vs_snapshot.png | ./picture/ab_tcb_ts_study_017_object_vs_snapshot.png | **Theme**: Rich Object vs Plain Snapshot<br><br>**Labels to Render**:<br>- Order (Object): "Order (Object)"<br>- Snapshot: "Snapshot (Data)"<br>- Difference: "Rule vs Data"<br><br>**Visual Details**:<br>1. Core Concept: Distinction between a behavior-rich object and a data-only structure.<br>2. Metaphor:<br>   - Order Object: A character (King/Queen) with tools/weapons (Methods like `place()`, `addItem()`).<br>   - Order Snapshot: A trading card or ID card of that character, containing only stats/text (Data), no tools.<br>3. Action: Comparison side-by-side. | ## `src/domain/order/Order.ts` ğŸ§¾ |
| 12 | docs/ab_tcb_ts_study_017.md | ab_tcb_ts_study_017_memory_map.png | ./picture/ab_tcb_ts_study_017_memory_map.png | **Theme**: In-Memory Repository Mechanism<br><br>**Labels to Render**:<br>- Repository: "Repository (Brain)"<br>- Map: "Map (Key-Value)"<br>- Key: "ID"<br>- Value: "Snapshot"<br><br>**Visual Details**:<br>1. Core Concept: Using a `Map` structure in memory to simulate a database.<br>2. Metaphor: A simple key-value store depicted as a locker room or mailboxes.<br>   - Each locker has an ID (Key).<br>   - Inside each locker is a Snapshot (Value).<br>3. Action: Storing/Retrieving a snapshot from a locker. | ## 17.7 ã‚¤ãƒ³ãƒ•ãƒ©ï¼šInMemoryOrderRepositoryï¼ˆMapã§ä¿å­˜ï¼‰ğŸ—ƒï¸âœ¨ |
| 13 | docs/ab_tcb_ts_study_017.md | ab_tcb_ts_study_017_place_order_flow.png | ./picture/ab_tcb_ts_study_017_place_order_flow.png | **Theme**: PlaceOrder Service Workflow<br><br>**Labels to Render**:<br>- 1: "Create (Order)"<br>- 2: "Add Item"<br>- 3: "Place"<br>- 4: "Save"<br><br>**Visual Details**:<br>1. Core Concept: Sequential logic of the Use Case.<br>2. Metaphor: An assembly line or recipe steps.<br>   - Step 1: Making a box (Order).<br>   - Step 2: Putting an apple/banana in it (AddItem).<br>   - Step 3: Stamping "CONFIRMED" on the box (Place).<br>   - Step 4: Shipping the box to the warehouse (Save). | ## `src/application/PlaceOrderService.ts` ğŸ§© |
| 14 | docs/ab_tcb_ts_study_017.md | ab_tcb_ts_study_017_reference_bug.png | ./picture/ab_tcb_ts_study_017_reference_bug.png | **Theme**: Reference Sharing Bug<br><br>**Labels to Render**:<br>- Object in App: "Object (App)"<br>- Object in Store: "Object (Store)"<br>- Bug: "Same Reference!"<br><br>**Visual Details**:<br>1. Core Concept: Accidental shared state due to passing by reference.<br>2. Metaphor: Spooky Action at a Distance / Puppetry.<br>   - A user painting the "App Object" red.<br>   - The "Store Object" magically turns red at the same time because they are connected by a glowing string (Reference).<br>   - A surprised face looking at the Store Object. | ## ãƒãƒã‚Šâ‘ ï¼šfindByIdãŒâ€œä¿å­˜ã•ã‚Œã¦ãªã„å¤‰æ›´â€ã¾ã§åæ˜ ã—ã¡ã‚ƒã†ğŸ˜‡ |
| 15 | docs/ab_tcb_ts_study_018.md | ab_tcb_ts_study_018_role_division.png | ./picture/ab_tcb_ts_study_018_role_division.png | **Theme**: Role Division: Orchestrator vs Performer<br><br>**Labels to Render**:<br>- App Service: "Conductor (App)"<br>- Domain: "Performer (Domain)"<br>- Rules: "Score (Rules)"<br><br>**Visual Details**:<br>1. Core Concept: Separation of Orchestration and Business Logic.<br>2. Metaphor: A Conductor (App Service) directing a Musician (Domain).<br>   - The Musician holds the instrument and plays the notes (Logic).<br>   - The Conductor holds the baton and guides the flow (Orchestration).<br>3. Action: Conductor pointing to Musician. | ### ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆé›†ç´„ï¼‰ã¨ã®å½¹å‰²åˆ†æ‹…ğŸ§± |
| 16 | docs/ab_tcb_ts_study_018.md | ab_tcb_ts_study_018_standard_flow.png | ./picture/ab_tcb_ts_study_018_standard_flow.png | **Theme**: Use Case Standard Flow (Load-Change-Save)<br><br>**Labels to Render**:<br>- 1: "Load (Repository)"<br>- 2: "Change (Domain)"<br>- 3: "Save (Repository)"<br><br>**Visual Details**:<br>1. Core Concept: The three essential steps of an App Service.<br>2. Metaphor: A simple cycle or conveyor belt.<br>   - Step 1: Picking up a box (Load).<br>   - Step 2: Modifying the box content (Change).<br>   - Step 3: Putting the box back (Save).<br>3. Action: Circular flow arrows. | ## 2. é‰„æ¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã€Œå–å¾—â†’å¤‰æ›´â†’ä¿å­˜ã€ğŸ”âœ¨ |
| 17 | docs/ab_tcb_ts_study_018.md | ab_tcb_ts_study_018_result_pattern.png | ./picture/ab_tcb_ts_study_018_result_pattern.png | **Theme**: Result Pattern vs Exception<br><br>**Labels to Render**:<br>- OK Box: "Success (Value)"<br>- Error Box: "Failure (Error)"<br>- Wrapper: "Result<T, E>"<br><br>**Visual Details**:<br>1. Core Concept: Using a container type to safely handle success and failure without throwing exceptions.<br>2. Metaphor: Two identical looking safe boxes (Result).<br>   - One opens to show a Jewel (Success).<br>   - The other opens to show a Warning Sign (Error).<br>   - Both are safe to hold and check.<br>3. Action: Opening the boxes. | ## 5. ã¾ãšã¯å‹ï¼šCommand / DTO / Result ã‚’ç”¨æ„ã—ã‚ˆã†ğŸ“¦âœ¨ |
| 18 | docs/ab_tcb_ts_study_018.md | ab_tcb_ts_study_018_create_order_flow.png | ./picture/ab_tcb_ts_study_018_create_order_flow.png | **Theme**: Create Order Use Case Flow<br><br>**Labels to Render**:<br>- 1: "Validate Input"<br>- 2: "Check Duplicate"<br>- 3: "Create Aggregate"<br>- 4: "Save"<br><br>**Visual Details**:<br>1. Core Concept: Specific steps for "Create Order".<br>2. Metaphor: A blueprint or flowchart.<br>   - Start -> Check ID -> Check DB -> Factory (Create) -> Storage (Save) -> Done.<br>3. Action: Flow from left to right. | ## 8-1. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹â‘ ï¼šæ³¨æ–‡ä½œæˆï¼ˆCreateOrderï¼‰ğŸ›’âœ¨ |
| 19 | docs/ab_tcb_ts_study_018.md | ab_tcb_ts_study_018_fat_usecase.png | ./picture/ab_tcb_ts_study_018_fat_usecase.png | **Theme**: Fat Use Case Anti-Pattern<br><br>**Labels to Render**:<br>- Fat Use Case: "Fat Use Case"<br>- Responsibilities: "Validation, DB Logic, HTTP, Formatting"<br><br>**Visual Details**:<br>1. Core Concept: Overloaded Use Case doing too many things.<br>2. Metaphor: A one-man band musician trying to play drums, guitar, harmonica, and sing all at once, looking exhausted and sweaty.<br>3. Action: Struggling to perform. | ## 9. ã€Œãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒå¤ªã‚‹ã€ã‚ã‚‹ã‚ã‚‹ğŸ˜‡ğŸ§¨ï¼ˆé¿ã‘æ–¹ã¤ãï¼‰ |
| 20 | docs/ab_tcb_ts_study_018.md | ab_tcb_ts_study_018_script_metaphor.png | ./picture/ab_tcb_ts_study_018_script_metaphor.png | **Theme**: App Service as Script<br><br>**Labels to Render**:<br>- App Service: "Script (Scenario)"<br>- Aggregates: "Actors"<br>- Repository: "Props Master"<br><br>**Visual Details**:<br>1. Core Concept: App Service defines the sequence of actions.<br>2. Metaphor: A movie script binder or a director's clapboard.<br>   - The script says "Hero enters (Load)", "Hero fights (Execute)", "Hero leaves (Save)".<br>3. Action: The script guiding the scene. | ## 13. ã¾ã¨ã‚ğŸ§¾âœ¨ |
| 21 | docs/ab_tcb_ts_study_019.md | ab_tcb_ts_study_019_cqs_concept.png | ./picture/ab_tcb_ts_study_019_cqs_concept.png | **Theme**: CQS Concept (Read vs Write)<br><br>**Labels to Render**:<br>- Query: "Query (Read Only)"<br>- Command: "Command (Write Only)"<br>- Rule: "Separate!"<br><br>**Visual Details**:<br>1. Core Concept: Separation of Reading and Writing.<br>2. Metaphor: Two distinct counters or doors.<br>   - "Reading Room": People reading books, no pens allowed.<br>   - "Writing Room": People writing on desks, construction noise.<br>3. Action: Clear separation between the two activities. | ## 1. CQSã£ã¦ãªã«ï¼Ÿ ã–ã£ãã‚Šä¸€è¨€ã§ ğŸ¥¤âœ¨ |
| 22 | docs/ab_tcb_ts_study_019.md | ab_tcb_ts_study_019_side_effect_trap.png | ./picture/ab_tcb_ts_study_019_side_effect_trap.png | **Theme**: Side Effect Trap (Get but Update)<br><br>**Labels to Render**:<br>- Query: "getDetails()"<br>- Hidden Effect: "UPDATE time = now()"<br>- Result: "BUG!"<br><br>**Visual Details**:<br>1. Core Concept: Unexpected side effects in read operations.<br>2. Metaphor: A magnifying glass (Reading) that accidentally sets the paper on fire (Update/Destroy) because it focused the sunlight too hard.<br>3. Action: The burning paper causing surprise. | ## 2. ãªã‚“ã§åˆ†ã‘ã‚‹ã®ï¼Ÿ ã‚ã‚ŠãŒã¡ãªåœ°ç„ ğŸ˜‡ğŸ”¥ |
| 23 | docs/ab_tcb_ts_study_019.md | ab_tcb_ts_study_019_read_write_pipelines.png | ./picture/ab_tcb_ts_study_019_read_write_pipelines.png | **Theme**: Read vs Write Pipelines<br><br>**Labels to Render**:<br>- Query Pipeline: "Query (Read)"<br>- Command Pipeline: "Command (Write)"<br>- Screen: "Screen"<br>- DB: "DB"<br><br>**Visual Details**:<br>1. Core Concept: Distinct paths for reading and writing.<br>2. Metaphor: Two separate conveyor belts or pipes.<br>   - Query Pipe: Clear water flowing from DB to Screen.<br>   - Command Pipe: Bricks/Materials moving from User to DB.<br>3. Action: Parallel flow, no mixing. | ## 4. ä»Šå›ã®ãƒŸãƒ‹ECã§ã€Œèª­ã¿ã€ã¨ã€Œæ›¸ãã€ã‚’åˆ†ã‘ã‚‹ ğŸ›’ğŸ“¦ğŸ’³ |
| 24 | docs/ab_tcb_ts_study_019.md | ab_tcb_ts_study_019_folder_separation.png | ./picture/ab_tcb_ts_study_019_folder_separation.png | **Theme**: Folder Separation for CQS<br><br>**Labels to Render**:<br>- Commands: "Commands (Write)"<br>- Queries: "Queries (Read)"<br>- Application: "Application Layer"<br><br>**Visual Details**:<br>1. Core Concept: Organizing code by intent.<br>2. Metaphor: A filing cabinet for "Application" with two clearly colored drawers.<br>   - Red Drawer: Commands (Tools/Hammers).<br>   - Blue Drawer: Queries (Glasses/Magnifiers).<br>3. Action: Neat organization. | ## 5. ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ è¿·å­é˜²æ­¢ ğŸ§­ğŸ“ |
| 25 | docs/ab_tcb_ts_study_019.md | ab_tcb_ts_study_019_query_dto.png | ./picture/ab_tcb_ts_study_019_query_dto.png | **Theme**: Query Returns DTO<br><br>**Labels to Render**:<br>- Query Service: "Query Service"<br>- Entity: "Entity (Real Thing)"<br>- DTO: "DTO (Copy)"<br><br>**Visual Details**:<br>1. Core Concept: Query returns a safe copy (DTO), not the mutable Entity.<br>2. Metaphor: A clerk (Query Service) photocopying a confidential document (Entity).<br>   - The original stays in the safe.<br>   - The customer receives the photocopy (DTO).<br>3. Action: Handing over the photocopy. | ### 7-1. Queryã®è¿”ã‚Šå€¤ã¯ DTO ã«ã—ã‚ˆã† ğŸ“¦ |
| 26 | docs/ab_tcb_ts_study_019.md | ab_tcb_ts_study_019_command_flow.png | ./picture/ab_tcb_ts_study_019_command_flow.png | **Theme**: Command Execution Flow<br><br>**Labels to Render**:<br>- 1: "Validate Input"<br>- 2: "Check Existence"<br>- 3: "Change (Domain)"<br>- 4: "Save"<br>- 5: "Return ID"<br><br>**Visual Details**:<br>1. Core Concept: Sequential steps of a Command.<br>2. Metaphor: A manufacturing robot.<br>   - Input: Raw materials (Command).<br>   - Process: Check specs, Build (Domain), Weld (Save).<br>   - Output: A ticket/receipt (ID).<br>3. Action: Step-by-step processing. | ## 8. æ¬¡ã« Command  placeOrder ã‚’ä½œã‚‹ âœï¸ğŸ”¥ |
| 27 | docs/ab_tcb_ts_study_019.md | ab_tcb_ts_study_019_query_mutation_mistake.png | ./picture/ab_tcb_ts_study_019_query_mutation_mistake.png | **Theme**: Query Mutating State (Mistake)<br><br>**Labels to Render**:<br>- Query: "getDetails()"<br>- Side Effect: "order.addItem()"<br>- Result: "BAD PRACTICE!"<br><br>**Visual Details**:<br>1. Core Concept: Query accidentally modifying state.<br>2. Metaphor: A museum visitor (Query) touching and breaking an exhibit.<br>   - Visitor meant to just look.<br>   - Accidentally knocks over a statue.<br>3. Action: The breakage happening. | ### ãƒŸã‚¹â‘ ï¼šQueryã®ä¸­ã§é›†ç´„ã‚’ã„ã˜ã‚‹ğŸš« |
| 28 | docs/ab_tcb_ts_study_020.md | ab_tcb_ts_study_020_error_categories.png | ./picture/ab_tcb_ts_study_020_error_categories.png | **Theme**: Error Categories (Domain, App, Infra)<br><br>**Labels to Render**:<br>- Domain: "Domain (Rules)"<br>- App: "App (Logic)"<br>- Infra: "Infra (System)"<br><br>**Visual Details**:<br>1. Core Concept: Categorizing errors into 3 types.<br>2. Metaphor: Three distinct recycling bins or baskets.<br>   - Domain: Filled with "Rule Violation" papers.<br>   - App: Filled with "Not Found" or "Bad Input" papers.<br>   - Infra: Filled with "Broken Cables" or "Sparks".<br>3. Action: Sorting errors into bins. | ## 20.2 ã‚¨ãƒ©ãƒ¼ã®åˆ†é¡ï¼šã¾ãšã¯3ã¤ã«åˆ†ã‘ã‚ˆã†ğŸ§ºğŸ§  |
| 29 | docs/ab_tcb_ts_study_020.md | ab_tcb_ts_study_020_result_box.png | ./picture/ab_tcb_ts_study_020_result_box.png | **Theme**: Result Type Box (Success or Failure)<br><br>**Labels to Render**:<br>- Result Box: "Result<T, E>"<br>- Success: "OK (Value)"<br>- Failure: "Error (Reason)"<br><br>**Visual Details**:<br>1. Core Concept: A container that holds either Success or Failure, but not both, and is safe to transport.<br>2. Metaphor: A shipping box with two possible states/labels on the outside, or a box that opens to reveal either a Prize (Value) or a Report (Error).<br>3. Action: Opening the box to check contents. | ## 20.3 Resultå‹ã‚’è‡ªä½œã—ã¦ã¿ã‚ˆã†ï¼ˆè¶…ãƒŸãƒ‹ï¼‰ğŸ§ªğŸ“¦ |
| 30 | docs/ab_tcb_ts_study_020.md | ab_tcb_ts_study_020_throw_vs_return.png | ./picture/ab_tcb_ts_study_020_throw_vs_return.png | **Theme**: Return Result vs Throw Exception<br><br>**Labels to Render**:<br>- Throw: "throw Error! (Explosion)"<br>- Return: "return Result (Safe)"<br>- Caller: "Caller (User)"<br><br>**Visual Details**:<br>1. Core Concept: Contrast between dangerous exception throwing and safe result returning.<br>2. Metaphor:<br>   - Throw: A person tossing a lit bomb to the caller (Dangerous).<br>   - Return: A person handing a sealed letter to the caller (Safe).<br>3. Action: The act of passing the object. | ## 20.5 é›†ç´„ï¼ˆOrderï¼‰ã§ã€Œä¸æ­£çŠ¶æ…‹ã€ã‚’Resultã§è¿”ã™ğŸ‘‘ğŸšª |
| 31 | docs/ab_tcb_ts_study_020.md | ab_tcb_ts_study_020_exception_boundary.png | ./picture/ab_tcb_ts_study_020_exception_boundary.png | **Theme**: Exception Boundary<br><br>**Labels to Render**:<br>- Inside: "Safe Zone (Domain/App)"<br>- Outside: "Chaos Zone (Infra)"<br>- Wall: "Boundary (catch)"<br><br>**Visual Details**:<br>1. Core Concept: Exceptions should be caught at the system boundary.<br>2. Metaphor: A fortress wall protecting a peaceful town (Safe Zone) from a chaotic forest (Chaos Zone).<br>   - Monsters (Exceptions) hitting the wall are stopped by Guards (catch blocks).<br>3. Action: Protection at the boundary. | ## 20.7 ä¾‹å¤–ï¼ˆthrowï¼‰ã¯ã©ã“ã§ä½¿ã†ï¼ŸğŸ‘‰ã€Œå¢ƒç•Œã€ã ã‘ğŸ§±ğŸš§ |
| 32 | docs/ab_tcb_ts_study_020.md | ab_tcb_ts_study_020_error_translation.png | ./picture/ab_tcb_ts_study_020_error_translation.png | **Theme**: Error Translation (Technical to User)<br><br>**Labels to Render**:<br>- Tech Error: "Domain Error (Type)"<br>- Translator: "Translator (Boundary)"<br>- User Message: "User Message (Friendly)"<br><br>**Visual Details**:<br>1. Core Concept: Converting raw error codes to friendly messages.<br>2. Metaphor: A translation robot or a diplomatic interpreter.<br>   - Input: A scary robot or alien speaking code ("InsufficientStock").<br>   - Output: A friendly guide speaking natural language ("Sorry, we are out of stock!").<br>3. Action: Translation process. | ## 20.8 å¢ƒç•Œã§ã€Œã‚¨ãƒ©ãƒ¼ â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘è¡¨ç¤ºã€ã«å¤‰æ›ã™ã‚‹ğŸª„ğŸ™‚ |
| 33 | docs/ab_tcb_ts_study_020.md | ab_tcb_ts_study_020_try_catch_hell.png | ./picture/ab_tcb_ts_study_020_try_catch_hell.png | **Theme**: Try/Catch Hell (Anti-Pattern)<br><br>**Labels to Render**:<br>- Code: "try { try { try { ... } } }"<br>- Result: "Chaos"<br><br>**Visual Details**:<br>1. Core Concept: Using exceptions for everything creates messy code.<br>2. Metaphor: A tangled mess of wires or a staircase leading to nowhere (Escher style) labeled with `try/catch`.<br>   - A programmer looking confused and trapped in the maze.<br>3. Action: Getting lost in the code. | ## 20.10 ã‚ˆãã‚ã‚‹äº‹æ•…ãƒ‘ã‚¿ãƒ¼ãƒ³é›† ğŸ˜±ğŸ§¯ |
| 34 | docs/ab_tcb_ts_study_021.md | ab_tcb_ts_study_021_defense_layers.png | ./picture/ab_tcb_ts_study_021_defense_layers.png | **Theme**: Three Defense Layers (VO, Aggregate, Gateway)<br><br>**Labels to Render**:<br>- Layer 1: "VO (Inner Rule)"<br>- Layer 2: "Aggregate (State Rule)"<br>- Layer 3: "Gateway (Entry)"<br><br>**Visual Details**:<br>1. Core Concept: Hierarchy of defense.<br>2. Metaphor: A castle or fortress with concentric walls.<br>   - Inner Keep (VO): Precious jewel protected by thick glass.<br>   - Outer Wall (Aggregate): Stone wall protecting the keep.<br>   - Gate (Gateway): Iron gate controlling entry.<br>3. Action: An arrow trying to penetrate but stopped at the gate. | ## 21.3 ç½®ãå ´æ‰€ã®çµè«–ï¼ˆæœ€çŸ­ã§è¦šãˆã‚‹ï¼‰ğŸâœ¨ |
| 35 | docs/ab_tcb_ts_study_021.md | ab_tcb_ts_study_021_check_vs_invariant.png | ./picture/ab_tcb_ts_study_021_check_vs_invariant.png | **Theme**: Input Check vs Invariant<br><br>**Labels to Render**:<br>- Input Check: "Receptionist (Friendly)"<br>- Invariant: "Guard (Strict)"<br>- User: "User"<br><br>**Visual Details**:<br>1. Core Concept: Different levels of strictness.<br>2. Metaphor: Two characters.<br>   - Input Check: A smiling receptionist checking a form.<br>   - Invariant: A serious armored guard blocking a door with a spear.<br>3. Action: User passing the receptionist easily but facing the guard. | ## 21.4 ã€Œå…¥åŠ›ãƒã‚§ãƒƒã‚¯ã€ã¨ã€Œä¸å¤‰æ¡ä»¶ã€ã¯åˆ¥ç‰©ã ã‚ˆ ğŸ§¼ğŸ†šğŸ”’ |
| 36 | docs/ab_tcb_ts_study_021.md | ab_tcb_ts_study_021_vo_guard.png | ./picture/ab_tcb_ts_study_021_vo_guard.png | **Theme**: Value Object Self-Defense<br><br>**Labels to Render**:<br>- VO: "Quantity (VO)"<br>- Valid Input: "5"<br>- Invalid Input: "-1"<br><br>**Visual Details**:<br>1. Core Concept: Value Object rejects invalid values upon creation.<br>2. Metaphor: A magical gem that glows when fed good energy but repels bad energy.<br>   - Input "5": Gem absorbs it and shines.<br>   - Input "-1": Gem creates a force field and bounces it off.<br>3. Action: Rejection of negative number. | ### 21.6.2 Value Objectï¼šQuantityï¼ˆå€¤ãã®ã‚‚ã®ã®ä¸å¤‰æ¡ä»¶ï¼‰ğŸ’ğŸ“¦ |
| 37 | docs/ab_tcb_ts_study_021.md | ab_tcb_ts_study_021_state_protection.png | ./picture/ab_tcb_ts_study_021_state_protection.png | **Theme**: State Protection by Aggregate<br><br>**Labels to Render**:<br>- Box: "Order (Paid)"<br>- Action: "Add Item"<br>- Result: "Rejected!"<br><br>**Visual Details**:<br>1. Core Concept: State preventing action.<br>2. Metaphor: A locked delivery box stamped "PAID".<br>   - A hand tries to shove an extra item into the box.<br>   - The box is sealed shut.<br>   - A "Access Denied" symbol appears.<br>3. Action: Attempt to modify locked state. | ### 21.6.3 é›†ç´„ï¼šOrderï¼ˆçŠ¶æ…‹ã®ä¸å¤‰æ¡ä»¶ã¯ã“ã“ã§å®ˆã‚‹ï¼‰ğŸ‘‘ğŸ”’ |
| 38 | docs/ab_tcb_ts_study_021.md | ab_tcb_ts_study_021_scattered_logic.png | ./picture/ab_tcb_ts_study_021_scattered_logic.png | **Theme**: Scattered Logic vs Centralized Logic<br><br>**Labels to Render**:<br>- Bad: "Scattered (Leaky)"<br>- Good: "Centralized (Solid)"<br>- Logic: "Rule"<br><br>**Visual Details**:<br>1. Core Concept: Redundancy vs Centralization.<br>2. Metaphor: Pipes.<br>   - Bad: A pipe with many small patches (UI, App, API) still leaking water.<br>   - Good: A single strong valve (Domain) controlling the flow perfectly.<br>3. Action: Water leaking vs Water controlled. | ## 21.7 ã€Œä¸å¤‰æ¡ä»¶ãŒæ•£ã‚‰ã°ã£ã¦ã‚‹ã€ã‚ã‚‹ã‚ã‚‹äº‹æ•… ğŸ˜±ğŸ’¥ |
| 39 | docs/ab_tcb_ts_study_022.md | ab_tcb_ts_study_022_validation_sorting.png | ./picture/ab_tcb_ts_study_022_validation_sorting.png | **Theme**: Validation Sorting (4 types)<br><br>**Labels to Render**:<br>- Bin 1: "UI (Format)"<br>- Bin 2: "App (Structure)"<br>- Bin 3: "App (Reference)"<br>- Bin 4: "Domain (Invariant)"<br><br>**Visual Details**:<br>1. Core Concept: Categorizing validation rules.<br>2. Metaphor: A mail sorting room with 4 distinct chutes or bins.<br>   - Letters (Checks) being dropped into the correct bin.<br>3. Action: Sorting process. | ## 2. â€œåˆ†æ‹…â€ã®è¦‹åˆ†ã‘æ–¹ï¼šãƒã‚§ãƒƒã‚¯ã‚’4ç¨®é¡ã«åˆ†ã‘ã‚‹ğŸ”ğŸ§  |
| 40 | docs/ab_tcb_ts_study_022.md | ab_tcb_ts_study_022_zod_filter.png | ./picture/ab_tcb_ts_study_022_zod_filter.png | **Theme**: Zod Filter at Entry<br><br>**Labels to Render**:<br>- Input: "Unknown Data (Dirty)"<br>- Filter: "Zod Schema"<br>- Output: "Command (Clean)"<br><br>**Visual Details**:<br>1. Core Concept: Sanitizing external input.<br>2. Metaphor: A high-tech water filter or air purifier.<br>   - Dirty, muddy water (Unknown Data) enters the filter.<br>   - The filter (Zod) glows blue.<br>   - Crystal clear water (Command) flows out.<br>3. Action: Filtration. | ## 3. å…¥å£ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼šã‚¢ãƒ—ãƒªå±¤ã§ã€Œã‚³ãƒãƒ³ãƒ‰ã€ã‚’å‹å®‰å…¨ã«ã™ã‚‹ğŸšªğŸ§¾ |
| 41 | docs/ab_tcb_ts_study_022.md | ab_tcb_ts_study_022_domain_method_guard.png | ./picture/ab_tcb_ts_study_022_domain_method_guard.png | **Theme**: Domain Method Guard<br><br>**Labels to Render**:<br>- Gate: "Method (pay)"<br>- Guard: "Check (Status)"<br>- Treasure: "State (Paid)"<br><br>**Visual Details**:<br>1. Core Concept: Method acts as a gatekeeper.<br>2. Metaphor: A heavy vault door with a biometric scanner.<br>   - The scanner (Guard) checks the condition.<br>   - Only if green, the door opens to the treasure (State).<br>3. Action: Scanning and access control. | ## 4. ãƒ‰ãƒ¡ã‚¤ãƒ³å´ï¼šä¸å¤‰æ¡ä»¶ã¯â€œãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­ã§â€å®ˆã‚‹ğŸ‘‘ğŸ”’ |
| 42 | docs/ab_tcb_ts_study_022.md | ab_tcb_ts_study_022_error_translator.png | ./picture/ab_tcb_ts_study_022_error_translator.png | **Theme**: Error Translation (Robot to Human)<br><br>**Labels to Render**:<br>- Input: "Domain Error (Code)"<br>- Translator: "App Layer"<br>- Output: "User Message (Friendly)"<br><br>**Visual Details**:<br>1. Core Concept: Converting technical error to user-friendly message.<br>2. Metaphor: A universal translator device.<br>   - A robot speaks binary/code ("Error: 1001").<br>   - The device processes it.<br>   - A speech bubble comes out with text "Please enter a valid number!" and a smiley face.<br>3. Action: Translation. | ## 5. ã‚¢ãƒ—ãƒªå±¤ã®å½¹å‰²ï¼šãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼ã‚’ã€Œè¦‹ã›æ–¹ã€ã«å¤‰æ›ã™ã‚‹ğŸ”ğŸ’¬ |
| 43 | docs/ab_tcb_ts_study_022.md | ab_tcb_ts_study_022_ui_bypass.png | ./picture/ab_tcb_ts_study_022_ui_bypass.png | **Theme**: UI Bypass Danger<br><br>**Labels to Render**:<br>- Wall: "UI Check (Paper)"<br>- Hacker: "Attacker"<br>- Target: "App/Domain"<br><br>**Visual Details**:<br>1. Core Concept: UI validation is easily bypassed.<br>2. Metaphor: A paper wall painted to look like a brick wall.<br>   - A hacker easily pokes a finger through the paper wall.<br>   - Behind it is the App/Domain.<br>3. Action: Breaking through the weak defense. | ## 7. ã‚ˆãã‚ã‚‹é–“é•ã„é›†ï¼ˆã“ã“è¶…å¤§äº‹ğŸ˜‡âš ï¸ï¼‰ |
| 44 | docs/adr_ts_study_012.md | adr_ts_study_012_history_value.png | ./picture/adr_ts_study_012_history_value.png | **Theme**: ADR History Value<br><br>**Labels to Render**:<br>- Old: "ADR 0001 (Superseded)"<br>- New: "ADR 0002 (Active)"<br>- Connection: "Why we changed"<br><br>**Visual Details**:<br>1. Core Concept: ADRs form a history of decisions.<br>2. Metaphor: An ancient timeline or scroll.<br>   - Scroll 1 (Old) is rolled up and has a "Superseded" stamp.<br>   - Scroll 2 (New) is open and glowing.<br>   - A thread connects them.<br>3. Action: Tracing the history. | ## 12-1 ã¾ãšçŸ¥ã£ã¦ãŠãå¤§äº‹ãƒ«ãƒ¼ãƒ«ã€ŒADRã¯å±¥æ­´ãŒä¾¡å€¤ã€ğŸ“œâœ¨ |
| 45 | docs/adr_ts_study_012.md | adr_ts_study_012_review_points.png | ./picture/adr_ts_study_012_review_points.png | **Theme**: ADR Review Points<br><br>**Labels to Render**:<br>- Lens: "Review"<br>- Check 1: "Context?"<br>- Check 2: "Decision?"<br>- Check 3: "Consequences?"<br><br>**Visual Details**:<br>1. Core Concept: Key points to check in an ADR.<br>2. Metaphor: A detective using a magnifying glass to inspect a document.<br>   - The glass highlights the 3 main sections.<br>3. Action: Inspecting. | ## 12-2 ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§è¦‹ã‚‹ãƒã‚¤ãƒ³ãƒˆğŸ‘€ğŸ§¾âœ¨ |
| 46 | docs/adr_ts_study_012.md | adr_ts_study_012_change_scenarios.png | ./picture/adr_ts_study_012_change_scenarios.png | **Theme**: Change Scenarios (Validation, API, Error)<br><br>**Labels to Render**:<br>- Scenario A: "Validation (Zod)"<br>- Scenario B: "API (Wrapper)"<br>- Scenario C: "Error (Result)"<br><br>**Visual Details**:<br>1. Core Concept: Common reasons to supersede an ADR.<br>2. Metaphor: Three forking paths or doors.<br>   - Path A: A beaker (Science/Validation).<br>   - Path B: A plug (Connection/API).<br>   - Path C: A warning sign (Error Handling).<br>3. Action: Choosing a path. | ## 12-4 æœ€çµ‚èª²é¡Œ ç½®ãæ›ãˆã‚·ãƒŠãƒªã‚ªã‚’ä½œã‚ã†ğŸ­âœ¨ |
| 47 | docs/adr_ts_study_012.md | adr_ts_study_012_adr_tools.png | ./picture/adr_ts_study_012_adr_tools.png | **Theme**: ADR Tools Automation<br><br>**Labels to Render**:<br>- Tool: "adr-tools (CLI)"<br>- Command: "adr new -s 1"<br>- Result: "Superseded & Created"<br><br>**Visual Details**:<br>1. Core Concept: Automating the superseding process.<br>2. Metaphor: A robot arm organizing files.<br>   - Input: A command string.<br>   - Action: The robot stamps "Superseded" on one file and creates a new one instantly.<br>3. Action: Automated filing. | ## 12-6 ä¾¿åˆ©ãƒ„ãƒ¼ãƒ«æ´¾å‘ã‘ adr-tools ã§ç½®ãæ›ãˆã‚‚ã§ãã‚‹ğŸ› ï¸âœ¨ |
| 48 | docs/adr_ts_study_012.md | adr_ts_study_012_pr_checklist.png | ./picture/adr_ts_study_012_pr_checklist.png | **Theme**: PR Checklist for ADR<br><br>**Labels to Render**:<br>- PR: "Pull Request"<br>- Check: "ADR Included?"<br>- Status: "Approved"<br><br>**Visual Details**:<br>1. Core Concept: Integrating ADR review into PRs.<br>2. Metaphor: A clipboard attached to a shipping box (PR).<br>   - The clipboard has a checklist.<br>   - A green checkmark is placed next to "ADR".<br>3. Action: Checking off the item. | ## 12-7 PRã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å›ã™ã¨ã€Œæ–‡åŒ–ã€ã«ãªã‚‹ğŸ§‘â€ğŸ’»ğŸ”ğŸ’• |
