| ID | File Name | Proposed Image Filename | Relative Link Path | Prompt | Insertion Point |
|---|---|---|---|---|---|
| 1 | test_ts_study_001.md | test_ts_study_001_input_output.png | ./picture/test_ts_study_001_input_output.png | **Theme**: Preparation Toolbox<br><br>**Labels to Render**:<br>- Preparation: "æº–å‚™"<br>- Tools: "é“å…·"<br><br>**Visual Details**:<br>1. Core Concept: Getting ready for the journey.<br>2. Metaphor: A neatly organized toolbox with essential tools (VS icon, Git logo, Test tube).<br>3. Action: A hand picking up a tool.<br>4. Layout: Top-down view or isometric, clean and organized. | ### 2) å–ã‚Šå‡ºã—ã™ãæ³¨æ„âš ï¸ |
| 2 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_01_concept.png | ./picture/firebase_abuse_prevention_ts_index_01_concept.png | **Theme**: App Protection Shield<br><br>**Labels to Render**:<br>- Shield: "App Check"<br>- Attackers: "Bots/Abuse"<br>- App: "Firebase App"<br><br>**Visual Details**:<br>1. Core Concept: Protecting the application from unauthorized access.<br>2. Metaphor: A glowing shield (App Check) deflecting jagged arrows (Bots) from a clean, central app icon.<br>3. Action: Arrows bouncing off the shield.<br>4. Layout: Central composition, strong contrast between safe inside and dangerous outside. | Before: ## ã“ã®æ•™æã§ä½œã‚‹ãƒŸãƒ‹ã‚¢ãƒ—ãƒªï¼ˆé¡Œæï¼‰ğŸ§©âœ¨ |
| 3 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_02_architecture.png | ./picture/firebase_abuse_prevention_ts_index_02_architecture.png | **Theme**: Mini App Components<br><br>**Labels to Render**:<br>- Database: "Firestore (Memo)"<br>- Storage: "Storage (Image)"<br>- AI: "AI Logic (Gemini)"<br>- Security: "App Check"<br><br>**Visual Details**:<br>1. Core Concept: The components of the example application.<br>2. Metaphor: Three interconnected blocks (Firestore, Storage, AI) wrapped in a transparent security layer (App Check).<br>3. Action: Data flowing securely between components.<br>4. Layout: Isometric view or flat diagram showing integration. | Before: ## å…¨ä½“ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ï¼ˆç« ã®æµã‚Œï¼‰ğŸ—ºï¸ |
| 4 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_03_roadmap.png | ./picture/firebase_abuse_prevention_ts_index_03_roadmap.png | **Theme**: Course Roadmap<br><br>**Labels to Render**:<br>- Phase A: "Basic (Web)"<br>- Phase B: "Services (DB/AI)"<br>- Phase C: "Ops (Dev/CI)"<br>- Phase D: "Advanced (Bot)"<br><br>**Visual Details**:<br>1. Core Concept: The 4 phases of the course.<br>2. Metaphor: A winding path with 4 milestones, each representing a phase.<br>3. Action: Progression from basic setup to advanced techniques.<br>4. Layout: Left-to-right journey. | Before: ## 20ç« ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ï¼ˆèª­ã‚€â†’æ‰‹ã‚’å‹•ã‹ã™â†’ãƒŸãƒ‹èª²é¡Œâ†’ãƒã‚§ãƒƒã‚¯ï¼‰ğŸ“šğŸ”¥ |
| 5 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_04_recaptcha_comparison.png | ./picture/firebase_abuse_prevention_ts_index_04_recaptcha_comparison.png | **Theme**: reCAPTCHA Editions<br><br>**Labels to Render**:<br>- v3: "Score (0.0-1.0)"<br>- Enterprise: "Risk Analysis"<br>- Usage: "Simple vs Robust"<br><br>**Visual Details**:<br>1. Core Concept: Comparison between reCAPTCHA v3 and Enterprise.<br>2. Metaphor: A simple thermometer (v3) vs a complex control dashboard (Enterprise).<br>3. Action: Displaying the difference in depth and control.<br>4. Layout: Side-by-side comparison. | In Chapter 4 |
| 6 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_05_defense_layers.png | ./picture/firebase_abuse_prevention_ts_index_05_defense_layers.png | **Theme**: Two Layers of Defense<br><br>**Labels to Render**:<br>- Outer: "App Check (Device)"<br>- Inner: "Rules (User)"<br>- Core: "Firestore"<br><br>**Visual Details**:<br>1. Core Concept: Dual layer security.<br>2. Metaphor: Two concentric walls protecting a treasure (Firestore).<br>3. Action: Outer wall blocks bad devices, inner wall blocks unauthorized users.<br>4. Layout: Concentric circles or funnel. | In Chapter 8 |
| 7 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_06_ai_protection.png | ./picture/firebase_abuse_prevention_ts_index_06_ai_protection.png | **Theme**: Protecting AI Resources<br><br>**Labels to Render**:<br>- Shield: "App Check"<br>- Valve: "Rate Limit"<br>- AI: "AI Logic"<br><br>**Visual Details**:<br>1. Core Concept: Protecting expensive AI resources.<br>2. Metaphor: A robot (AI) protected by a shield (App Check) and a flow valve (Rate Limit).<br>3. Action: Ensuring only valid and limited requests reach the AI.<br>4. Layout: Flow diagram. | In Chapter 12 |
| 8 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_07_dev_lifecycle.png | ./picture/firebase_abuse_prevention_ts_index_07_dev_lifecycle.png | **Theme**: App Check in Dev Ops<br><br>**Labels to Render**:<br>- Local: "Debug Token"<br>- CI: "CI Token"<br>- Prod: "Attestation"<br><br>**Visual Details**:<br>1. Core Concept: App Check integration across environments.<br>2. Metaphor: A continuous loop (Dev -> CI -> Prod) with specific keys for each stage.<br>3. Action: Smooth flow without blockages.<br>4. Layout: Cycle or pipeline. | In Chapter 14 |
| 9 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_01_id_card.png | ./picture/firebase_abuse_prevention_ts_study_001_01_id_card.png | **Theme**: App Identity Card<br><br>**Labels to Render**:<br>- Card: "App Check Token"<br>- Issuer: "Firebase"<br>- Holder: "Official App"<br><br>**Visual Details**:<br>1. Core Concept: App Check acts as an ID card for the app.<br>2. Metaphor: A digital ID card with a holographic chip being scanned by a gate.<br>3. Action: Scanning the card to grant access.<br>4. Layout: Close-up of the card and scanner. | After: ## 1) ã¾ãšçµè«–ï¼šApp Check ã¯ã€Œæ­£è¦ã‚¢ãƒ—ãƒªã®èº«åˆ†è¨¼ã€ğŸ«âœ¨ |
| 10 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_02_access_flow.png | ./picture/firebase_abuse_prevention_ts_study_001_02_access_flow.png | **Theme**: Verified vs Unverified Access<br><br>**Labels to Render**:<br>- Top Path: "Valid Token" -> "Access Granted"<br>- Bottom Path: "No Token" -> "Access Denied"<br>- Gate: "App Check"<br><br>**Visual Details**:<br>1. Core Concept: Filtering traffic based on tokens.<br>2. Metaphor: A fork in the road. Valid travellers pass the checkpoint, invalid ones are stopped.<br>3. Action: Green light for top path, red barrier for bottom.<br>4. Layout: Split composition showing both outcomes. | After: ã–ã£ãã‚Šå›³è§£ã™ã‚‹ã¨ğŸ‘‡ |
| 11 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_03_abuse_scenarios.png | ./picture/firebase_abuse_prevention_ts_study_001_03_abuse_scenarios.png | **Theme**: Three Abuse Vectors<br><br>**Labels to Render**:<br>- AI: "Bill Shock"<br>- Storage: "Junk Data"<br>- DB: "Data Leak"<br><br>**Visual Details**:<br>1. Core Concept: The three main risks (AI cost, Storage junk, DB leak).<br>2. Metaphor: Three warning signs or danger zones.<br>3. Action: Highlighting the impact (burning money, overflowing trash, leaking pipe).<br>4. Layout: Triptych (three panels). | After: ## 2) â€œä½•ãŒèµ·ãã‚‹ã®ï¼Ÿâ€ï¼šæ­£è¦ã‚¢ãƒ—ãƒªä»¥å¤–ã‹ã‚‰å©ã‹ã‚Œã‚‹ã¨ãƒ„ãƒ©ã„ã“ã¨3ã¤ğŸ˜±ğŸ’¸ |
| 12 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_04_role_separation.png | ./picture/firebase_abuse_prevention_ts_study_001_04_role_separation.png | **Theme**: Auth vs Rules vs App Check<br><br>**Labels to Render**:<br>- Auth: "Who are you?"<br>- Rules: "What can you do?"<br>- App Check: "Which app is this?"<br><br>**Visual Details**:<br>1. Core Concept: Distinguishing the three security pillars.<br>2. Metaphor: Three different checkpoints. ID check (Auth), Badge check (App Check), Permission slip check (Rules).<br>3. Action: Sequential checks.<br>4. Layout: Three distinct icons or stations. | After: ## 3) App Checkã¯ã€ŒAuthã€ã‚„ã€ŒRulesã€ã¨å½¹å‰²ãŒé•ã†ğŸ§© |
| 13 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_05_phased_rollout.png | ./picture/firebase_abuse_prevention_ts_study_001_05_phased_rollout.png | **Theme**: Gradual Enforcement<br><br>**Labels to Render**:<br>- Step 1: "Monitor (Metrics)"<br>- Step 2: "Analyze"<br>- Step 3: "Enforce (Block)"<br><br>**Visual Details**:<br>1. Core Concept: Safe rollout strategy.<br>2. Metaphor: A dashboard with a slider moving from "Monitor" to "Enforce".<br>3. Action: The slider moving carefully.<br>4. Layout: Left-to-right progression. | After: ## 4) æ®µéšå°å…¥ãŒåŸºæœ¬ï¼šã€Œã¾ãšã¯â€œæ¸¬ã‚‹â€ â†’ ãã‚Œã‹ã‚‰â€œæ‹’å¦ã‚‹â€ã€‘ã€è¶…é‡è¦ã€‘ğŸ“ˆğŸ›ï¸ |
| 14 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_06_code_snippet.png | ./picture/firebase_abuse_prevention_ts_study_001_06_code_snippet.png | **Theme**: Initialization Timing<br><br>**Labels to Render**:<br>- First: "Initialize App Check"<br>- Second: "Use Services"<br>- Wrong: "Too Late!"<br><br>**Visual Details**:<br>1. Core Concept: Order of operations is critical.<br>2. Metaphor: A puzzle piece fitting in the very first slot.<br>3. Action: Locking the security piece before opening the data box.<br>4. Layout: Timeline or sequence diagram. | After: ## 5) ï¼ˆé›°å›²æ°—ã ã‘å…ˆè¦‹ã›ï¼‰App Checkã¯ â€œFirebaseè§¦ã‚‹å‰ã«åˆæœŸåŒ–â€ ãŒé‰„å‰‡ğŸ§¿âš›ï¸ |
| 15 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_07_checklist.png | ./picture/firebase_abuse_prevention_ts_study_001_07_checklist.png | **Theme**: Chapter 1 Takeaways<br><br>**Labels to Render**:<br>- Concept: "App Identity"<br>- Strategy: "Monitor First"<br>- AI: "Rate Limits"<br><br>**Visual Details**:<br>1. Core Concept: Summary of key points.<br>2. Metaphor: A clipboard with 3 checked items.<br>3. Action: Ticking the boxes.<br>4. Layout: List format with icons. | After: ## âœ… ãƒã‚§ãƒƒã‚¯ï¼ˆã“ã®ç« ã®ã‚´ãƒ¼ãƒ«é”æˆåˆ¤å®šï¼‰âœ…ğŸ™‚ |
| 16 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_01_three_steps.png | ./picture/firebase_abuse_prevention_ts_study_002_01_three_steps.png | **Theme**: App Check Workflow<br><br>**Labels to Render**:<br>- 1. Prove: "App (Attest)"<br>- 2. Issue: "Firebase (Token)"<br>- 3. Access: "Resource (Check)"<br><br>**Visual Details**:<br>1. Core Concept: The handshake between App, Firebase, and Resource.<br>2. Metaphor: 1. Showing ID. 2. Getting a stamped ticket. 3. Showing ticket at the ride entrance.<br>3. Action: A sequential flow left to right.<br>4. Layout: Numbered steps with icons. | After: ## 1) App Check ã¯ä½•ã‚’ã—ã¦ã‚‹ï¼Ÿï¼ˆ3ã‚¹ãƒ†ãƒƒãƒ—ã ã‘ï¼‰ğŸ§¿ |
| 17 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_02_token_concept.png | ./picture/firebase_abuse_prevention_ts_study_002_02_token_concept.png | **Theme**: Entry Stamp<br><br>**Labels to Render**:<br>- Token: "App Check Token"<br>- Meaning: "Valid App"<br>- Not: "User Identity"<br><br>**Visual Details**:<br>1. Core Concept: Token proves app authenticity, not user identity.<br>2. Metaphor: A hand stamp at a club/event entrance. It shows you paid/entered correctly, but doesn't say your name.<br>3. Action: Stamping a hand.<br>4. Layout: Close up of the stamp. | After: ## 2) ã€Œãƒˆãƒ¼ã‚¯ãƒ³ã€ã£ã¦çµå±€ãªã«ï¼ŸğŸªª |
| 18 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_03_token_location.png | ./picture/firebase_abuse_prevention_ts_study_002_03_token_location.png | **Theme**: Token Transport<br><br>**Labels to Render**:<br>- Firebase SDK: "Automatic"<br>- Custom Backend: "Header: X-Firebase-AppCheck"<br>- Don't: "No Query Params"<br><br>**Visual Details**:<br>1. Core Concept: How the token travels.<br>2. Metaphor: A secure armored truck (Firebase SDK) vs a labeled envelope (Custom Header). Query params shown as a transparent bag (unsafe).<br>3. Action: Delivering the token.<br>4. Layout: Comparison of transport methods. | After: ## 3) ãƒˆãƒ¼ã‚¯ãƒ³ã¯ã©ã“ã«ä»˜ãã®ï¼Ÿï¼ˆFirebaseå†… / è‡ªå‰ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰ğŸ“¦ |
| 19 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_04_ttl_balance.png | ./picture/firebase_abuse_prevention_ts_study_002_04_ttl_balance.png | **Theme**: TTL Balance Scale<br><br>**Labels to Render**:<br>- Left: "Short TTL (Secure but Heavy)"<br>- Right: "Long TTL (Fast but Risky)"<br>- Fulcrum: "App Needs"<br><br>**Visual Details**:<br>1. Core Concept: Balancing security vs performance.<br>2. Metaphor: A weighing scale. One side has a heavy lock (Security), the other has a feather (Performance).<br>3. Action: Balancing the two.<br>4. Layout: Centered balance scale. | After: ## 4) TTLï¼ˆæœ‰åŠ¹æœŸé™ï¼‰ã£ã¦ãªã«ï¼ŸâŒ› |
| 20 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_05_phased_adoption.png | ./picture/firebase_abuse_prevention_ts_study_002_05_phased_adoption.png | **Theme**: Adoption Steps<br><br>**Labels to Render**:<br>- 1: "Install SDK"<br>- 2: "Monitor"<br>- 3: "Enforce"<br><br>**Visual Details**:<br>1. Core Concept: The safe path to enforcement.<br>2. Metaphor: Traffic lights. Green (Install), Yellow (Monitor), Red (Enforce/Stop Bad Traffic).<br>3. Action: Progressing through lights.<br>4. Layout: Vertical or horizontal traffic light sequence. | After: ## 5) ã€Œæ®µéšå°å…¥ã€ãŒè¶…é‡è¦ï¼ˆã„ããªã‚Šå¼·åˆ¶ã—ãªã„ï¼‰ğŸ‘€â¡ï¸ğŸ”’ |
| 21 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_06_limited_use_token.png | ./picture/firebase_abuse_prevention_ts_study_002_06_limited_use_token.png | **Theme**: One-Time Token<br><br>**Labels to Render**:<br>- Token: "Limited-Use"<br>- TTL: "5 Mins"<br>- Action: "Consume"<br><br>**Visual Details**:<br>1. Core Concept: A token that burns up after use.<br>2. Metaphor: A "Mission Impossible" message tape that self-destructs. Or a ticket that gets torn in half.<br>3. Action: The token disintegrating after use.<br>4. Layout: Dynamic action shot. | After: ## 6) ã¡ã‚‡ã„å…ˆå–ã‚Šï¼šLimited-use tokenï¼ˆãƒªãƒ—ãƒ¬ã‚¤è€æ€§ï¼‰â™»ï¸ğŸš« |
| 22 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_07_ttl_experiment.png | ./picture/firebase_abuse_prevention_ts_study_002_07_ttl_experiment.png | **Theme**: TTL Strategy<br><br>**Labels to Render**:<br>- High Risk: "Short TTL"<br>- Low Risk: "Long TTL"<br>- Default: "1 Day"<br><br>**Visual Details**:<br>1. Core Concept: Deciding TTL based on risk.<br>2. Metaphor: A dial or thermostat setting. High heat (Risk) -> Low time. Low heat -> High time.<br>3. Action: Adjusting the dial.<br>4. Layout: Control panel interface. | After: ## å®Ÿé¨“1ï¼šTTLæ–¹é‡ãƒ¡ãƒ¢ã‚’ä½œã‚‹âœï¸ï¼ˆ1æšã§OKï¼‰ |
| 23 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_01_score_scale.png | ./picture/firebase_abuse_prevention_ts_study_003_01_score_scale.png | **Theme**: reCAPTCHA Score Scale<br><br>**Labels to Render**:<br>- 0.0: "Bot (Bad)"<br>- 0.5: "Threshold (Default)"<br>- 1.0: "Human (Good)"<br><br>**Visual Details**:<br>1. Core Concept: The score range of reCAPTCHA.<br>2. Metaphor: A gauge or thermometer ranging from Red (0.0) to Green (1.0).<br>3. Action: A needle pointing at 0.5.<br>4. Layout: Horizontal or circular gauge. | After: ## 1) ã¾ãšã‚¤ãƒ¡ãƒ¼ã‚¸ï¼šã‚¹ã‚³ã‚¢ã¨ã—ãã„å€¤ã£ã¦ä½•ï¼ŸğŸ›ï¸ |
| 24 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_02_filtering.png | ./picture/firebase_abuse_prevention_ts_study_003_02_filtering.png | **Theme**: Threshold Filter<br><br>**Labels to Render**:<br>- High Score: "Pass"<br>- Low Score: "Block"<br>- Bar: "Threshold (0.5)"<br><br>**Visual Details**:<br>1. Core Concept: Requests below the threshold are blocked.<br>2. Metaphor: A high jump bar. High scorers clear it, low scorers hit the bar and fail.<br>3. Action: Jumping over or hitting the bar.<br>4. Layout: Side view of the jump. | After: Firebase App Check ã¯ã€è¨­å®šã—ãŸ **ã—ãã„å€¤ã‚’â€œæœ€ä½åˆæ ¼ç‚¹â€**ã¨ã—ã¦æ‰±ã„ã€**ãã‚Œæœªæº€ã®ã‚¹ã‚³ã‚¢ã¯æ‹’å¦**ã™ã‚‹ï¼ˆï¼æ­£è¦ã¨ã—ã¦èªã‚ãªã„ï¼‰ã‚ˆã€ã¨ã„ã†ä»•æ§˜ã«ãªã£ã¦ã‚‹ğŸ›¡ï¸ ([Firebase][1]) |
| 25 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_03_tradeoff.png | ./picture/firebase_abuse_prevention_ts_study_003_03_tradeoff.png | **Theme**: Threshold Trade-off<br><br>**Labels to Render**:<br>- High Threshold (0.9): "Secure but Strict"<br>- Low Threshold (0.1): "Easy but Risky"<br>- Balance: "UX vs Safety"<br><br>**Visual Details**:<br>1. Core Concept: The consequence of moving the threshold.<br>2. Metaphor: A slider. Moving it right locks the door tighter but makes the handle harder to turn. Moving it left opens the door wide.<br>3. Action: Adjusting the slider.<br>4. Layout: Comparative view of two states (0.9 vs 0.1). | After: ## 2) ã—ãã„å€¤ã¯ â€œä¸Šã’ã‚‹ã»ã©å®‰å…¨â€ ã ã‘ã© â€œç—›ã„â€ğŸ˜‡ |
| 26 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_04_default_setting.png | ./picture/firebase_abuse_prevention_ts_study_003_04_default_setting.png | **Theme**: Starting Point<br><br>**Labels to Render**:<br>- Start: "0.5 (Default)"<br>- Then: "Monitor"<br>- Finally: "Adjust"<br><br>**Visual Details**:<br>1. Core Concept: The recommended workflow.<br>2. Metaphor: A roadmap starting at a signpost "0.5".<br>3. Action: Looking at charts (Monitor) then moving the dial (Adjust).<br>4. Layout: Sequential steps. | After: ## 3) ã¾ãšã¯ 0.5 ã§å§‹ã‚ã‚‹ã®ãŒåŸºæœ¬ç·šğŸ‘ï¼ˆç†ç”±ã¤ãï¼‰ |
| 27 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_05_console_ui.png | ./picture/firebase_abuse_prevention_ts_study_003_05_console_ui.png | **Theme**: Firebase Console Setting<br><br>**Labels to Render**:<br>- Tab: "App Check"<br>- Section: "reCAPTCHA v3"<br>- Slider: "Risk Threshold"<br><br>**Visual Details**:<br>1. Core Concept: Where to find the setting.<br>2. Metaphor: A simplified UI mockup of the Firebase Console.<br>3. Action: Highlighting the specific slider.<br>4. Layout: UI mockup. | After: ## 4-1. ã—ãã„å€¤ã®å ´æ‰€ï¼ˆFirebase Consoleï¼‰ğŸ” |
| 28 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_06_flow_diagram.png | ./picture/firebase_abuse_prevention_ts_study_003_06_flow_diagram.png | **Theme**: Verification Logic<br><br>**Labels to Render**:<br>- Input: "User Action"<br>- Process: "reCAPTCHA Score"<br>- Decision: "Score >= Threshold?"<br>- Yes: "OK"<br>- No: "NG"<br><br>**Visual Details**:<br>1. Core Concept: The logical flow of verification.<br>2. Metaphor: A flowchart. Diamond shape for decision.<br>3. Action: Flowing through the decision node.<br>4. Layout: Vertical flowchart. | After: ## 6) å›³è§£ã£ã½ãï¼šã‚ãªãŸãŒã‚„ã£ã¦ã‚‹ã“ã¨ï¼ˆè¶…é‡è¦ï¼‰ğŸ§© |
| 29 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_07_ai_assistance.png | ./picture/firebase_abuse_prevention_ts_study_003_07_ai_assistance.png | **Theme**: AI Operations Assistant<br><br>**Labels to Render**:<br>- Human: "What threshold?"<br>- AI: "Start at 0.5"<br>- Task: "Write User Guide"<br><br>**Visual Details**:<br>1. Core Concept: AI helping with operational decisions.<br>2. Metaphor: A robot assistant handing a document (manual/guide) to a developer.<br>3. Action: Collaboration.<br>4. Layout: Two characters interacting. | After: ## 7) AIæ´»ç”¨ï¼ˆAntigravity / Geminiï¼‰ã§â€œã—ãã„å€¤èª¿æ•´â€ã‚’ãƒ©ã‚¯ã«ã™ã‚‹ğŸ¤–ğŸ§  |
| 30 | docs/firebase_abuse_prevention_ts_study_004.md | firebase_abuse_prevention_ts_study_004_01_v3_vs_enterprise.png | ./picture/firebase_abuse_prevention_ts_study_004_01_v3_vs_enterprise.png | **Theme**: v3 vs Enterprise<br><br>**Labels to Render**:<br>- v3: "Simple (0.5 Default)"<br>- Enterprise: "Granular (0.1 Steps)"<br>- Cost: "10k Free -> Paid"<br><br>**Visual Details**:<br>1. Core Concept: Distinguishing features.<br>2. Metaphor: A starter kit (v3) vs a pro toolkit (Enterprise).<br>3. Action: Displaying the tools.<br>4. Layout: Side-by-side comparison. | After: ## 2) v3 ã¨ Enterprise ã®é•ã„ï¼ˆè¶…ã–ã£ãã‚Šï¼‰ğŸ”âœ¨ |
| 31 | docs/firebase_abuse_prevention_ts_study_004.md | firebase_abuse_prevention_ts_study_004_02_decision_compass.png | ./picture/firebase_abuse_prevention_ts_study_004_02_decision_compass.png | **Theme**: Decision Compass<br><br>**Labels to Render**:<br>- North: "Robust Ops (Enterprise)"<br>- South: "Speed/Simple (v3)"<br>- Needle: "Your Needs"<br><br>**Visual Details**:<br>1. Core Concept: Choosing the right version.<br>2. Metaphor: A compass.<br>3. Action: Needle pointing based on "Needs".<br>4. Layout: Compass face. | After: ## 3) ã€Œã„ã¤Enterpriseã«ã™ã‚‹ï¼Ÿã€åˆ¤æ–­åŸºæº–ğŸ§­ğŸ§¿ |
| 32 | docs/firebase_abuse_prevention_ts_study_004.md | firebase_abuse_prevention_ts_study_004_03_billing_gate.png | ./picture/firebase_abuse_prevention_ts_study_004_03_billing_gate.png | **Theme**: Billing Unlock<br><br>**Labels to Render**:<br>- Locked: "Limited Scores (0.1/0.9)"<br>- Key: "Billing Account"<br>- Unlocked: "Full Control (0.1 Steps)"<br><br>**Visual Details**:<br>1. Core Concept: Billing unlocks full features.<br>2. Metaphor: A locked gate. The "Billing" key opens it to reveal the full control panel.<br>3. Action: Unlocking.<br>4. Layout: Before/After or Key/Lock interaction. | After: ## 4) è¶…é‡è¦ï¼šBillingã‚’ã¤ã‘ã‚‹å‰ã®ã€Œã—ãã„å€¤ã®åˆ¶é™ã€ğŸ§¯ |
| 33 | docs/firebase_abuse_prevention_ts_study_004.md | firebase_abuse_prevention_ts_study_004_04_setup_checklist.png | ./picture/firebase_abuse_prevention_ts_study_004_04_setup_checklist.png | **Theme**: Console Setup Steps<br><br>**Labels to Render**:<br>- 1: "Enable API"<br>- 2: "Create Key (Website)"<br>- 3: "NO Checkbox!"<br><br>**Visual Details**:<br>1. Core Concept: Key setup steps to avoid mistakes.<br>2. Metaphor: A checklist with a big red "X" over a checkbox UI element (to emphasize "No Checkbox").<br>3. Action: Marking the correct steps.<br>4. Layout: List with warning sign. | After: ## A. Consoleå´ï¼ˆè¨­å®šï¼‰ğŸ§° |
| 34 | docs/firebase_abuse_prevention_ts_study_004.md | firebase_abuse_prevention_ts_study_004_05_code_structure.png | ./picture/firebase_abuse_prevention_ts_study_004_05_code_structure.png | **Theme**: Code Structure<br><br>**Labels to Render**:<br>- File: "services/firebase.ts"<br>- Init: "initializeAppCheck"<br>- Option: "autoRefresh: true"<br><br>**Visual Details**:<br>1. Core Concept: Where and how to implement code.<br>2. Metaphor: A file folder structure showing the single file strategy.<br>3. Action: Highlighting the `autoRefresh` line.<br>4. Layout: Simplified code editor view. | After: ## B. ã‚¢ãƒ—ãƒªå´ï¼ˆã‚³ãƒ¼ãƒ‰ï¼‰âš›ï¸ |
| 35 | docs/firebase_abuse_prevention_ts_study_004.md | firebase_abuse_prevention_ts_study_004_06_ai_integration.png | ./picture/firebase_abuse_prevention_ts_study_004_06_ai_integration.png | **Theme**: AI & Remote Config<br><br>**Labels to Render**:<br>- AI: "Model"<br>- Config: "Remote Config"<br>- Update: "No App Update"<br><br>**Visual Details**:<br>1. Core Concept: Changing AI settings dynamically.<br>2. Metaphor: A control tower sending a signal to a satellite (AI Model) to change course without recalling it (App Update).<br>3. Action: Wireless update.<br>4. Layout: Diagram. | After: ## ãŠã¾ã‘ï¼šAIã§åˆ¤æ–­ã¨å®Ÿè£…ã‚’é€Ÿãã™ã‚‹ğŸš€ğŸ¤– |
| 36 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_01_concept.png | ./picture/firebase_abuse_prevention_ts_study_005_01_concept.png | **Theme**: App Check Pass<br><br>**Labels to Render**:<br>- App: "React App"<br>- Pass: "App Check"<br>- Gate: "Firebase"<br><br>**Visual Details**:<br>1. Core Concept: App Check acts as a pass/ticket.<br>2. Metaphor: A hand holding a ticket (App Check) to pass through a gate (Firebase).<br>3. Action: Presenting the ticket.<br>4. Layout: Side view of the gate. | ## ã–ã£ãã‚Šå›³è§£ã£ã½ã ğŸ§ ğŸ–¼ï¸ |
| 37 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_02_setup.png | ./picture/firebase_abuse_prevention_ts_study_005_02_setup.png | **Theme**: Setup Dependencies<br><br>**Labels to Render**:<br>- Box: "Project"<br>- Item 1: "firebase"<br>- Item 2: "vite"<br><br>**Visual Details**:<br>1. Core Concept: Installing necessary packages.<br>2. Metaphor: Putting items (packages) into a box (project).<br>3. Action: Dropping the 'firebase' package into the box.<br>4. Layout: Top-down view into the box. | ## æ‰‹ã‚’å‹•ã‹ã™ ãã®1 ä¾å­˜é–¢ä¿‚ã‚’å…¥ã‚Œã‚‹ ğŸ“¦ğŸ–±ï¸ |
| 38 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_03_structure.png | ./picture/firebase_abuse_prevention_ts_study_005_03_structure.png | **Theme**: Centralized Initialization<br><br>**Labels to Render**:<br>- File: "firebase.ts"<br>- Component 1: "App"<br>- Component 2: "App Check"<br><br>**Visual Details**:<br>1. Core Concept: Gathering initialization logic in one place.<br>2. Metaphor: A funnel or magnet pulling components into a single file.<br>3. Action: Components merging into the file.<br>4. Layout: Central composition. | ## æ‰‹ã‚’å‹•ã‹ã™ ãã®3 Firebase åˆæœŸåŒ–ã‚’ 1ã‹æ‰€ã«é›†ç´„ã™ã‚‹ ğŸ“¦ğŸ§  |
| 39 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_04_init_flow.png | ./picture/firebase_abuse_prevention_ts_study_005_04_init_flow.png | **Theme**: Startup Sequence<br><br>**Labels to Render**:<br>- 1: "Load firebase.ts"<br>- 2: "Render App"<br>- Result: "Safe"<br><br>**Visual Details**:<br>1. Core Concept: Correct order of operations.<br>2. Metaphor: A relay race baton pass. First runner (firebase.ts) passes to second (App).<br>3. Action: Passing the baton.<br>4. Layout: Horizontal sequence. | ## æ‰‹ã‚’å‹•ã‹ã™ ãã®4 React å´ã§ â€œæœ€åˆã«â€ èª­ã¿è¾¼ã¾ã›ã‚‹ ğŸš€âš›ï¸ |
| 40 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_05_metrics.png | ./picture/firebase_abuse_prevention_ts_study_005_05_metrics.png | **Theme**: Metrics Overview<br><br>**Labels to Render**:<br>- Green: "Verified"<br>- Gray: "Outdated"<br>- Red: "Invalid"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing the types of traffic.<br>2. Metaphor: A pie chart or bar graph showing mostly green (Verified).<br>3. Action: Static display of healthy metrics.<br>4. Layout: Chart view. | ## 2) Firebase Console ã® App Check ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’è¦‹ã‚‹ ğŸ“ˆ |
| 41 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_06_pitfalls.png | ./picture/firebase_abuse_prevention_ts_study_005_06_pitfalls.png | **Theme**: Troubleshooting<br><br>**Labels to Render**:<br>- Trap 1: "Double Init"<br>- Trap 2: "Order Wrong"<br>- Trap 3: "No Auto-Refresh"<br><br>**Visual Details**:<br>1. Core Concept: Identifying common mistakes.<br>2. Metaphor: Warning signs on a path.<br>3. Action: Highlighting the traps.<br>4. Layout: Path with obstacles. | ## ã‚ˆãã‚ã‚‹è©°ã¾ã‚Šãƒã‚¤ãƒ³ãƒˆé›† ğŸ˜µâ€ğŸ’«ğŸ§¯ |
| 42 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_07_ai_shield.png | ./picture/firebase_abuse_prevention_ts_study_005_07_ai_shield.png | **Theme**: Protecting AI<br><br>**Labels to Render**:<br>- Robot: "AI Logic"<br>- Shield: "App Check"<br>- Coin: "Cost"<br><br>**Visual Details**:<br>1. Core Concept: Preventing AI abuse to save money.<br>2. Metaphor: A shield protecting a robot from a rain of coins (costs).<br>3. Action: Shield deflecting the coins.<br>4. Layout: Protective stance. | ## AI æ©Ÿèƒ½ã¨ App Check ã‚’æœ€åˆã‹ã‚‰çµã³ã¤ã‘ã‚‹ ğŸ¤–ğŸ§¿ğŸ’¸ |
| 43 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_01_migration.png | ./picture/firebase_abuse_prevention_ts_study_006_01_migration.png | **Theme**: Migration Path<br><br>**Labels to Render**:<br>- Start: "reCAPTCHA v3"<br>- Goal: "Enterprise"<br>- Path: "Easy Switch"<br><br>**Visual Details**:<br>1. Core Concept: Upgrading from v3 to Enterprise.<br>2. Metaphor: A bridge or path connecting two islands (v3 and Enterprise).<br>3. Action: Crossing the bridge.<br>4. Layout: Left-to-right flow. | ## 1) ã¾ãšç†è§£ï¼šEnterprise ã£ã¦ä½•ãŒ â€œç§»è¡Œå‘ãâ€ ãªã®ï¼ŸğŸ§  |
| 44 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_02_factory.png | ./picture/firebase_abuse_prevention_ts_study_006_02_factory.png | **Theme**: Provider Factory<br><br>**Labels to Render**:<br>- Input: "Kind (v3/Ent)"<br>- Factory: "createProvider"<br>- Output: "Provider Instance"<br><br>**Visual Details**:<br>1. Core Concept: Generating the correct provider based on input.<br>2. Metaphor: A manufacturing machine (factory) taking a blueprint and outputting the correct part.<br>3. Action: Production line.<br>4. Layout: Process diagram. | ## 2) ä»Šæ—¥ã®ã‚´ãƒ¼ãƒ«ï¼ˆã§ããŸã‚‰å‹ã¡ğŸï¼‰ğŸ¯ |
| 45 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_03_encapsulation.png | ./picture/firebase_abuse_prevention_ts_study_006_03_encapsulation.png | **Theme**: Encapsulation<br><br>**Labels to Render**:<br>- File: "appCheck.ts"<br>- Inside: "Logic"<br>- Outside: "Clean API"<br><br>**Visual Details**:<br>1. Core Concept: Hiding complexity inside a file.<br>2. Metaphor: A sealed box (capsule) with a clean interface on the outside.<br>3. Action: Sealing the box.<br>4. Layout: Internal view of the box vs external view. | ## 5-1) App Check åˆæœŸåŒ–ã‚’1ãƒ•ã‚¡ã‚¤ãƒ«ã«å°å°ã™ã‚‹ğŸ“¦ |
| 46 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_04_switch.png | ./picture/firebase_abuse_prevention_ts_study_006_04_switch.png | **Theme**: Feature Switch<br><br>**Labels to Render**:<br>- Switch: "Env Var"<br>- Left: "v3"<br>- Right: "Enterprise"<br><br>**Visual Details**:<br>1. Core Concept: Toggling between two modes.<br>2. Metaphor: A large toggle switch or lever.<br>3. Action: Flipping the switch.<br>4. Layout: Close-up of the switch. | ## 6) åˆ‡æ›¿ã‚¹ã‚¤ãƒƒãƒã®ä½œã‚Šæ–¹ï¼ˆãŠã™ã™ã‚é †ï¼‰ğŸ›ï¸ |
| 47 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_05_api_token.png | ./picture/firebase_abuse_prevention_ts_study_006_05_api_token.png | **Theme**: Secure API Call<br><br>**Labels to Render**:<br>- Header: "X-Firebase-AppCheck"<br>- Content: "Token"<br>- Target: "My API"<br><br>**Visual Details**:<br>1. Core Concept: Sending the token in the header.<br>2. Metaphor: An envelope (request) with a wax seal (token) stamped on it.<br>3. Action: Sending the letter.<br>4. Layout: Envelope details. | ## 7) æ‰‹ã‚’å‹•ã‹ã™ï¼šEnterprise ã«å·®ã—æ›¿ãˆã¦å‹•ä½œç¢ºèªã™ã‚‹ğŸ§ªâœ¨ |
| 48 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_06_refresh_trap.png | ./picture/firebase_abuse_prevention_ts_study_006_06_refresh_trap.png | **Theme**: Auto Refresh Trap<br><br>**Labels to Render**:<br>- Setting: "isTokenAutoRefresh"<br>- Default: "False (Trap)"<br>- Correct: "True (Safe)"<br><br>**Visual Details**:<br>1. Core Concept: The danger of forgetting auto-refresh.<br>2. Metaphor: A battery running out of power (expired token) vs a battery being charged (auto-refresh).<br>3. Action: Battery draining.<br>4. Layout: Comparison. | ## 8) ã¤ã¾ãšããƒã‚¤ãƒ³ãƒˆï¼ˆã“ã“ã ã‘æ³¨æ„âš ï¸ï¼‰ğŸ˜µâ€ğŸ’« |
| 49 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_07_ai_audit.png | ./picture/firebase_abuse_prevention_ts_study_006_07_ai_audit.png | **Theme**: AI Code Audit<br><br>**Labels to Render**:<br>- AI: "Gemini CLI"<br>- Code: "Source"<br>- Result: "Bug Found"<br><br>**Visual Details**:<br>1. Core Concept: AI reviewing code for errors.<br>2. Metaphor: A robot detective examining code with a magnifying glass.<br>3. Action: Finding a bug.<br>4. Layout: Over-the-shoulder view. | ## 9) AIæ´»ç”¨ï¼šç§»è¡Œã®â€œäº‹æ•…ãƒã‚¤ãƒ³ãƒˆâ€ã‚’å…ˆã«æ½°ã™ğŸ¤–ğŸ›¡ï¸ |
| 50 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_01_safety_net.png | ./picture/firebase_abuse_prevention_ts_study_007_01_safety_net.png | **Theme**: Safety Net<br><br>**Labels to Render**:<br>- Top: "Enforcement"<br>- Net: "Metrics"<br>- Bottom: "User Accident"<br><br>**Visual Details**:<br>1. Core Concept: Metrics catching problems before they cause damage.<br>2. Metaphor: A trapeze artist (Enforcement) falling into a safety net (Metrics) above sharp spikes (Accidents).<br>3. Action: Falling safely.<br>4. Layout: Vertical composition. | ## 1) ã¾ãšè¶…é‡è¦ãªå‰æï¼šãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ã€Œå¼·åˆ¶ONã®äº‹æ•…é˜²æ­¢è£…ç½®ã€ğŸ§¯âœ¨ |
| 51 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_02_console_nav.png | ./picture/firebase_abuse_prevention_ts_study_007_02_console_nav.png | **Theme**: Console Navigation<br><br>**Labels to Render**:<br>- Menu: "App Check"<br>- Sub: "Metrics"<br>- Product: "Firestore"<br><br>**Visual Details**:<br>1. Core Concept: Finding the metrics screen.<br>2. Metaphor: A simplified UI map with a "You Are Here" pin.<br>3. Action: Pointing to the Metrics tab.<br>4. Layout: UI mockup. | ## 2) ã©ã“ã‚’è¦‹ã‚‹ï¼ŸFirebase ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã® App Check ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç”»é¢ğŸ‘€ |
| 52 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_03_4_categories.png | ./picture/firebase_abuse_prevention_ts_study_007_03_4_categories.png | **Theme**: Four Metric Types<br><br>**Labels to Render**:<br>- 1: "Verified (OK)"<br>- 2: "Outdated (Old)"<br>- 3: "Unknown (Bad?)"<br>- 4: "Invalid (Fake)"<br><br>**Visual Details**:<br>1. Core Concept: Distinguishing traffic types.<br>2. Metaphor: Four buckets or bins with different symbols (Check, Clock, Question Mark, X).<br>3. Action: Sorting mail into bins.<br>4. Layout: Row of bins. | ## 3) ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ã€Œ4åˆ†é¡ã€ã‚’è¦šãˆã‚ˆã†ï¼ˆã“ã“ãŒå¿ƒè‡“ï¼‰ğŸ«€ğŸ§  |
| 53 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_04_decision_guide.png | ./picture/firebase_abuse_prevention_ts_study_007_04_decision_guide.png | **Theme**: Decision Guide<br><br>**Labels to Render**:<br>- Condition: "Verified > 99%"<br>- Decision: "Enforce!"<br>- Else: "Wait"<br><br>**Visual Details**:<br>1. Core Concept: When to turn on enforcement.<br>2. Metaphor: A traffic light. Green light if Verified is high.<br>3. Action: Light changing to green.<br>4. Layout: Simple flowchart. | ## 4) ã€Œã„ã¤å¼·åˆ¶ONã§ãã‚‹ï¼Ÿã€åˆ¤æ–­ã®ç›®å®‰ï¼ˆå…¬å¼ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ï¼‰ğŸ§­ |
| 54 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_05_observation.png | ./picture/firebase_abuse_prevention_ts_study_007_05_observation.png | **Theme**: Generating Traffic<br><br>**Labels to Render**:<br>- User: "Action"<br>- App: "Request"<br>- Metrics: "Count Up"<br><br>**Visual Details**:<br>1. Core Concept: Creating traffic to populate metrics.<br>2. Metaphor: Pressing buttons on a control panel and seeing dials move.<br>3. Action: Pressing a button.<br>4. Layout: Interaction view. | ## 5) æ‰‹ã‚’å‹•ã‹ã™ï¼šã¾ãšã¯â€œæ¸¬ã‚‹â€ç”¨ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œã‚‹ğŸ§ªğŸ‘€ |
| 55 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_06_enforce_button.png | ./picture/firebase_abuse_prevention_ts_study_007_06_enforce_button.png | **Theme**: The Big Button<br><br>**Labels to Render**:<br>- Button: "Enforce"<br>- Warning: "Reject Unverified"<br>- Timer: "15 min"<br><br>**Visual Details**:<br>1. Core Concept: The final step of enforcement.<br>2. Metaphor: A protected red button (like a missile launch button) under a glass cover.<br>3. Action: Lifting the cover.<br>4. Layout: Close-up of button. | ## 8) ã“ã“ã ã‘å…ˆã«çŸ¥ã£ã¦ãŠãï¼šå¼·åˆ¶ONã¯â€œã‚ã¨ã§â€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰3ã‚¯ãƒªãƒƒã‚¯ğŸ›ï¸ |
| 56 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_07_antigravity.png | ./picture/firebase_abuse_prevention_ts_study_007_07_antigravity.png | **Theme**: Mission Control<br><br>**Labels to Render**:<br>- Screen: "Antigravity"<br>- Task: "Audit Metrics"<br>- AI: "Pilot"<br><br>**Visual Details**:<br>1. Core Concept: AI managing the monitoring task.<br>2. Metaphor: A futuristic cockpit or mission control screen with AI pilot.<br>3. Action: AI pointing at data.<br>4. Layout: Cockpit view. | ## 9) AIã§çˆ†é€Ÿï¼šãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–ã‚’â€œä½œæ¥­åŒ–â€ã—ã‚ˆã†ğŸ¤–ğŸš€ |
| 57 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_01_two_shields.png | ./picture/firebase_abuse_prevention_ts_study_008_01_two_shields.png | **Theme**: Double Defense Layers<br><br>**Labels to Render**:<br>- Outer: "App Check (App)"<br>- Inner: "Rules (User)"<br>- Core: "Firestore"<br><br>**Visual Details**:<br>1. Core Concept: Two distinct layers of security.<br>2. Metaphor: A castle with an outer wall (App Check) and an inner keep (Rules) protecting the treasure (Firestore).<br>3. Action: Defending against different threats.<br>4. Layout: Concentric defense. | ## 2) å½¹å‰²åˆ†æ‹…ã‚’ã€Œä¸€è¨€ã§ã€è¦šãˆã‚‹ğŸ§ âœ¨ |
| 58 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_02_threats.png | ./picture/firebase_abuse_prevention_ts_study_008_02_threats.png | **Theme**: Firestore Threats<br><br>**Labels to Render**:<br>- Threat 1: "Mass Read"<br>- Threat 2: "Spam Write"<br>- Threat 3: "AI Abuse"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing the risks.<br>2. Metaphor: Three monsters attacking a database icon.<br>3. Action: Attacking.<br>4. Layout: Three panels or cluster. | ## 1) ã¾ãšã€ä½•ãŒæ€–ã„ã®ï¼ŸğŸ˜±ï¼ˆFirestoreãŒç‹™ã‚ã‚Œã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰ |
| 59 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_03_repo_pattern.png | ./picture/firebase_abuse_prevention_ts_study_008_03_repo_pattern.png | **Theme**: Centralized Access<br><br>**Labels to Render**:<br>- App: "Components"<br>- Funnel: "Repo"<br>- DB: "Firestore"<br><br>**Visual Details**:<br>1. Core Concept: All database access going through one point.<br>2. Metaphor: Multiple pipes feeding into a single large pipe (funnel) that connects to the tank (Firestore).<br>3. Action: Flow control.<br>4. Layout: Diagram. | ## Step Aï¼šFirestoreã‚¢ã‚¯ã‚»ã‚¹ã‚’ã€Œçª“å£ãƒ•ã‚¡ã‚¤ãƒ«ã€ã«å¯„ã›ã‚‹ğŸ“¦ |
| 60 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_04_lab_ui.png | ./picture/firebase_abuse_prevention_ts_study_008_04_lab_ui.png | **Theme**: Security Lab UI<br><br>**Labels to Render**:<br>- Title: "Security Lab"<br>- Btn 1: "Read"<br>- Btn 2: "Write"<br>- Log: "Result"<br><br>**Visual Details**:<br>1. Core Concept: A test interface for security.<br>2. Metaphor: A simple dashboard or control panel.<br>3. Action: User about to press a button.<br>4. Layout: UI mockup. | ## Step Bï¼šã€Œå®ˆã‚Šå®Ÿé¨“ç”¨ã€1ç”»é¢ã‚’ä½œã‚‹ğŸ§ªğŸ–¥ï¸ |
| 61 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_05_rules_logic.png | ./picture/firebase_abuse_prevention_ts_study_008_05_rules_logic.png | **Theme**: Rules Logic<br><br>**Labels to Render**:<br>- Input: "Request"<br>- Check: "Is Signed In?"<br>- Check: "Is Owner?"<br>- Output: "Allow/Deny"<br><br>**Visual Details**:<br>1. Core Concept: The decision process of security rules.<br>2. Metaphor: A gatekeeper checking credentials.<br>3. Action: Stamping "Approved" or "Denied".<br>4. Layout: Flowchart. | ## 3) Firestore Rules ã‚’æ›¸ãğŸ§¾ï¼ˆâ€œèª°ãŒä½•ã§ãã‚‹â€ã‚’å›ºå®šã™ã‚‹ï¼‰ |
| 62 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_06_bypass.png | ./picture/firebase_abuse_prevention_ts_study_008_06_bypass.png | **Theme**: Admin SDK Bypass<br><br>**Labels to Render**:<br>- Wall: "Rules"<br>- User: "Client (Blocked)"<br>- Admin: "Server (Pass)"<br><br>**Visual Details**:<br>1. Core Concept: Admin SDK bypasses security rules.<br>2. Metaphor: A VIP entrance that bypasses the main security line.<br>3. Action: Admin walking through the VIP gate.<br>4. Layout: Comparison of two paths. | ## 6) â€œã‚µãƒ¼ãƒãƒ¼å´ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§å©ãâ€ã¨ã€Rulesã®å®ˆã‚Šã‚’ã™ã‚ŠæŠœã‘ã‚‹è©±ï¼ˆè¶…é‡è¦ï¼‰ğŸš¨ |
| 63 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_07_ai_cost.png | ./picture/firebase_abuse_prevention_ts_study_008_07_ai_cost.png | **Theme**: AI Cost Control<br><br>**Labels to Render**:<br>- Input: "Requests"<br>- Filter: "App Check"<br>- Valve: "Rate Limit"<br>- Output: "Safe AI"<br><br>**Visual Details**:<br>1. Core Concept: Controlling flow to AI to prevent high costs.<br>2. Metaphor: A water pipe with a filter and a valve leading to a golden tank (AI).<br>3. Action: Regulating flow.<br>4. Layout: Flow diagram. | ## 7) AIã‚‚çµ¡ã‚ãŸâ€œç¾å®Ÿçš„ãªè¨­è¨ˆâ€ğŸ¤–ğŸ’¸ |
| 64 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_01_storage_threats.png | ./picture/firebase_abuse_prevention_ts_study_009_01_storage_threats.png | **Theme**: Storage Threats<br><br>**Labels to Render**:<br>- Threat 1: "Large File"<br>- Threat 2: "Spam Upload"<br>- Threat 3: "Fake Ext"<br><br>**Visual Details**:<br>1. Core Concept: Risks to Cloud Storage.<br>2. Metaphor: A heavy weight (large file) breaking a shelf, and a trash can overflowing (spam).<br>3. Action: Overloading storage.<br>4. Layout: Disaster scene. | ## 0) ã¾ãšã€ŒãªãœStorageãŒç‹™ã‚ã‚Œã‚‹ã®ï¼Ÿã€ğŸ˜±ğŸ’¸ |
| 65 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_02_defense_layers.png | ./picture/firebase_abuse_prevention_ts_study_009_02_defense_layers.png | **Theme**: Storage Defense<br><br>**Labels to Render**:<br>- Layer 1: "App Check"<br>- Layer 2: "Auth"<br>- Layer 3: "Rules"<br><br>**Visual Details**:<br>1. Core Concept: Multiple security layers.<br>2. Metaphor: An onion or layered shield protecting a folder icon.<br>3. Action: Blocking arrows at different layers.<br>4. Layout: Layered cross-section. | ## 1) èª­ã‚€ğŸ“–ï¼šå®ˆã‚Šã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’1æšçµµã§ç†è§£ã—ã‚ˆã†ğŸ§ ğŸ—ºï¸ |
| 66 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_03_upload_ui.png | ./picture/firebase_abuse_prevention_ts_study_009_03_upload_ui.png | **Theme**: Upload UI<br><br>**Labels to Render**:<br>- Step 1: "Pick File"<br>- Step 2: "Check Size"<br>- Step 3: "Upload"<br><br>**Visual Details**:<br>1. Core Concept: The user interaction flow.<br>2. Metaphor: A smartphone screen showing a file picker, a progress bar, and a success checkmark.<br>3. Action: Uploading.<br>4. Layout: UI Sequence. | ## 2-2) Reactï¼ˆTSï¼‰ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ + é€²æ—ãƒãƒ¼ğŸš€ |
| 67 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_04_rules.png | ./picture/firebase_abuse_prevention_ts_study_009_04_rules.png | **Theme**: Rules Logic (Storage)<br><br>**Labels to Render**:<br>- Check: "Is Image?"<br>- Check: "Size < 2MB"<br>- Check: "Is Owner?"<br><br>**Visual Details**:<br>1. Core Concept: Validating file properties.<br>2. Metaphor: A scanner checking a package's weight and contents.<br>3. Action: Scanning.<br>4. Layout: Scanner view. | ## 3) ã“ã“ãŒæœ¬ä¸¸ğŸ§¾ï¼šStorage Rules ã§ â€œæœ€ä½é™ã®é˜²æ³¢å ¤â€ ã‚’ä½œã‚‹ğŸ›¡ï¸ |
| 68 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_05_enforcement.png | ./picture/firebase_abuse_prevention_ts_study_009_05_enforcement.png | **Theme**: Storage Enforcement<br><br>**Labels to Render**:<br>- Gate: "App Check"<br>- Action: "Enforce"<br>- Result: "Block Unverified"<br><br>**Visual Details**:<br>1. Core Concept: Turning on the gate for storage.<br>2. Metaphor: A padlock snapping shut on a cloud storage box.<br>3. Action: Locking.<br>4. Layout: Close-up of lock. | ## 4) App Check ã‚’ Cloud Storage ã«åŠ¹ã‹ã›ã‚‹ğŸ§¿ğŸ“¦ |
| 69 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_06_secure_download.png | ./picture/firebase_abuse_prevention_ts_study_009_06_secure_download.png | **Theme**: Secure Download<br><br>**Labels to Render**:<br>- Public: "URL (Shareable)"<br>- Private: "SDK (Blob)"<br>- Warning: "Don't Leak"<br><br>**Visual Details**:<br>1. Core Concept: The difference between a public URL and a direct SDK download.<br>2. Metaphor: A public billboard (URL) vs a private letter delivered by hand (SDK).<br>3. Action: Reading.<br>4. Layout: Comparison. | ## è½ã¨ã—ç©´Aï¼šgetDownloadURL() ã‚’ â€œã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡â€ ã ã¨æ€ã†ğŸ˜‡ |
| 70 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_07_ai_alt.png | ./picture/firebase_abuse_prevention_ts_study_009_07_ai_alt.png | **Theme**: AI Alt Text Generation<br><br>**Labels to Render**:<br>- Input: "Image"<br>- Process: "AI Vision"<br>- Output: "Alt Text"<br><br>**Visual Details**:<br>1. Core Concept: AI analyzing an image to generate text.<br>2. Metaphor: A robot looking at a photo and typing on a typewriter.<br>3. Action: Typing.<br>4. Layout: Process flow. | ## 7-1) ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¾Œã«ã€Œèª¬æ˜æ–‡ï¼ˆaltï¼‰ã€ã‚’AIã«ä½œã‚‰ã›ã‚‹ğŸ“ğŸ¤– |
| 71 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_01_defense_layers.png | ./picture/firebase_abuse_prevention_ts_study_010_01_defense_layers.png | **Theme**: Three Defense Layers<br><br>**Labels to Render**:<br>- Layer 1: "Auth (Who)"<br>- Layer 2: "App Check (What)"<br>- Core: "Callable (Action)"<br><br>**Visual Details**:<br>1. Core Concept: Three layers of security protecting the core function.<br>2. Metaphor: A castle keep (Callable) protected by an inner wall (App Check) and an outer moat/gate (Auth).<br>3. Action: Defending the keep.<br>4. Layout: Concentric or layered defense. | ## 0) ã¾ãšã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚ã†ğŸ§ ğŸ—ºï¸ |
| 72 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_02_migration.png | ./picture/firebase_abuse_prevention_ts_study_010_02_migration.png | **Theme**: Moving Logic to Server<br><br>**Labels to Render**:<br>- Client: "Unsafe Logic"<br>- Move: "Migrate"<br>- Server: "Safe Callable"<br><br>**Visual Details**:<br>1. Core Concept: Moving sensitive code from client to server.<br>2. Metaphor: A moving truck transporting a box labeled "Logic" from a fragile house (Client) to a secure vault (Server).<br>3. Action: Transporting.<br>4. Layout: Left-to-right flow. | ## 1) â€œå®ˆã‚‹ã¹ãå‡¦ç†â€ã‚’ Callable ã«å¯„ã›ã‚‹ã‚³ãƒ„ğŸ§²âœ¨ |
| 73 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_03_enforcement_mechanism.png | ./picture/firebase_abuse_prevention_ts_study_010_03_enforcement_mechanism.png | **Theme**: Enforcement Gate<br><br>**Labels to Render**:<br>- Request: "Token Missing"<br>- Gate: "enforceAppCheck: true"<br>- Action: "Reject"<br><br>**Visual Details**:<br>1. Core Concept: The `enforceAppCheck` setting acts as a strict gate.<br>2. Metaphor: A security guard (Gate) stopping a person without a badge (Request).<br>3. Action: Blocking access.<br>4. Layout: Gate interaction. | ## 3) å®Ÿè£…ï¼ˆNode/TypeScriptï¼‰ï¼šç®¡ç†è€…ç”¨ Callable ã‚’1æœ¬ä½œã‚‹ğŸ§‘â€ğŸ’¼â˜ï¸ |
| 74 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_04_client_auto_token.png | ./picture/firebase_abuse_prevention_ts_study_010_04_client_auto_token.png | **Theme**: Automatic Token Attachment<br><br>**Labels to Render**:<br>- Code: "httpsCallable"<br>- SDK: "Auto-Attach"<br>- Packet: "Token + Data"<br><br>**Visual Details**:<br>1. Core Concept: The SDK automatically adds the token to the request.<br>2. Metaphor: A robot arm (SDK) stamping a package (Data) with a seal (Token) before shipping it.<br>3. Action: Stamping.<br>4. Layout: Process close-up. | ## 4) React å´ï¼šå‘¼ã³å‡ºã™ã ã‘ï¼ˆApp Check ã¯è£ã§å‹æ‰‹ã«ä»˜ãï¼‰âš›ï¸â˜ï¸ |
| 75 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_05_ai_protection.png | ./picture/firebase_abuse_prevention_ts_study_010_05_ai_protection.png | **Theme**: AI Fortress<br><br>**Labels to Render**:<br>- Guard 1: "App Check"<br>- Guard 2: "Auth (Admin)"<br>- Core: "AI Logic"<br><br>**Visual Details**:<br>1. Core Concept: protecting AI with multiple checks.<br>2. Metaphor: A futuristic AI core protected by two energy shields.<br>3. Action: Shields humming.<br>4. Layout: Central core with surrounding shields. | ## 5) â€œAIæ•´å½¢â€ã‚‚ Callable ã«å¯„ã›ã‚‹ã¨å¼·ã„ğŸ¤–ğŸ§± |
| 76 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_06_replay_teaser.png | ./picture/firebase_abuse_prevention_ts_study_010_06_replay_teaser.png | **Theme**: Anti-Replay Token<br><br>**Labels to Render**:<br>- Token: "One-Time Use"<br>- First: "OK"<br>- Second: "Blocked"<br><br>**Visual Details**:<br>1. Core Concept: A token that can only be used once.<br>2. Metaphor: A ticket that is torn upon entry. The second attempt with the torn ticket is rejected.<br>3. Action: Tearing the ticket.<br>4. Layout: Sequential view (Time 1 vs Time 2). | ## 6) äºˆå‘Šï¼šã‚‚ã£ã¨å¼·ãã™ã‚‹ãªã‚‰ã€Œãƒªãƒ—ãƒ¬ã‚¤å¯¾ç­–ã€â™»ï¸ğŸš« |
| 77 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_07_ai_assist.png | ./picture/firebase_abuse_prevention_ts_study_010_07_ai_assist.png | **Theme**: AI Developer Assist<br><br>**Labels to Render**:<br>- Human: "Make it Secure"<br>- AI: "Generates Code"<br>- Result: "Secure Callable"<br><br>**Visual Details**:<br>1. Core Concept: AI helping to write secure code.<br>2. Metaphor: A developer shaking hands with a robot coder over a secure blueprint.<br>3. Action: Collaboration.<br>4. Layout: Side view. | ## 7) Antigravity / Gemini ã§ã€ã“ã®ç« ã‚’â€œçˆ†é€Ÿâ€ã«çµ‚ã‚ã‚‰ã›ã‚‹ğŸš€ğŸ¤– |
| 78 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_01_replay_concept.png | ./picture/firebase_abuse_prevention_ts_study_011_01_replay_concept.png | **Theme**: Replay Attack<br><br>**Labels to Render**:<br>- Attacker: "Stolen Token"<br>- Server: "API"<br>- Result: "Success x 100"<br><br>**Visual Details**:<br>1. Core Concept: A single token being used repeatedly.<br>2. Metaphor: An attacker using a photocopied ticket to enter a venue multiple times.<br>3. Action: Entering repeatedly.<br>4. Layout: Loop or multiple arrows. | ## 0) ã¾ãšã€Œãƒªãƒ—ãƒ¬ã‚¤ã€ã£ã¦ä½•ï¼ŸğŸ˜ˆğŸ“¼ |
| 79 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_02_consume_mechanism.png | ./picture/firebase_abuse_prevention_ts_study_011_02_consume_mechanism.png | **Theme**: Token Consumption<br><br>**Labels to Render**:<br>- Client: "Limited Token"<br>- Server: "Verify & Consume"<br>- Reuse: "Denied"<br><br>**Visual Details**:<br>1. Core Concept: The token is destroyed upon use.<br>2. Metaphor: A ticket being punched or torn by a conductor. The torn ticket cannot be used again.<br>3. Action: Punching/Tearing.<br>4. Layout: Sequential steps. | ## 1) Replay protectionï¼ˆÎ²ï¼‰ã®å…¨ä½“åƒğŸ§ ğŸ§© |
| 80 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_03_latency_tradeoff.png | ./picture/firebase_abuse_prevention_ts_study_011_03_latency_tradeoff.png | **Theme**: Security vs Speed<br><br>**Labels to Render**:<br>- Normal: "Fast (1 Trip)"<br>- Replay Protect: "Slower (2 Trips)"<br>- Cost: "Latency"<br><br>**Visual Details**:<br>1. Core Concept: Replay protection adds network overhead.<br>2. Metaphor: A direct flight (Normal) vs a flight with a layover/security check (Replay Protect).<br>3. Action: Comparison of travel time.<br>4. Layout: Two parallel paths. | ## âœ… â‘¢ é€Ÿåº¦ã‚³ã‚¹ãƒˆãŒã‚ã‚‹ï¼ˆè¿½åŠ ã®å¾€å¾©ãŒå¢—ãˆã‚‹ï¼‰ğŸ¢ |
| 81 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_04_target_selection.png | ./picture/firebase_abuse_prevention_ts_study_011_04_target_selection.png | **Theme**: Selecting Targets<br><br>**Labels to Render**:<br>- High Risk: "AI / Admin (ON)"<br>- High Freq: "Chat / Like (OFF)"<br>- Goal: "Balance"<br><br>**Visual Details**:<br>1. Core Concept: Choosing where to apply protection.<br>2. Metaphor: Putting armor only on vital organs (Heart/Head) rather than the whole body to stay agile.<br>3. Action: Equipping armor.<br>4. Layout: Anatomy or list comparison. | ## 3) ã“ã®ãƒŸãƒ‹ã‚¢ãƒ—ãƒªã ã¨ã€Œã©ã“ã«å…¥ã‚Œã‚‹ï¼Ÿã€ğŸ¯ğŸ¤– |
| 82 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_05_server_code.png | ./picture/firebase_abuse_prevention_ts_study_011_05_server_code.png | **Theme**: Server Configuration<br><br>**Labels to Render**:<br>- File: "functions/index.ts"<br>- Flag: "consumeAppCheckToken: true"<br>- Effect: "One-Time Use"<br><br>**Visual Details**:<br>1. Core Concept: The code flag that enables consumption.<br>2. Metaphor: A switch or checkbox in the code being toggled ON.<br>3. Action: Toggling.<br>4. Layout: Code snippet focus. | ## âœ… 4-1. Functionså´ï¼š`consumeAppCheckToken: true` ã‚’ä»˜ã‘ã‚‹ |
| 83 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_06_client_code.png | ./picture/firebase_abuse_prevention_ts_study_011_06_client_code.png | **Theme**: Client Request<br><br>**Labels to Render**:<br>- Client: "Request"<br>- Option: "limitedUseAppCheckTokens: true"<br>- Token: "Special Token"<br><br>**Visual Details**:<br>1. Core Concept: Requesting a special one-time token.<br>2. Metaphor: A client asking for a "Gold Ticket" instead of a regular one.<br>3. Action: Handing over the special ticket.<br>4. Layout: Interaction view. | ## âœ… 4-3. Reactå´ï¼šCallableå‘¼ã³å‡ºã—ã§ â€œlimited-useâ€ ã‚’è¦æ±‚ã™ã‚‹âš›ï¸ğŸ§¾ |
| 84 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_07_full_defense.png | ./picture/firebase_abuse_prevention_ts_study_011_07_full_defense.png | **Theme**: Complete Defense<br><br>**Labels to Render**:<br>- Shield 1: "Replay Protect"<br>- Shield 2: "Auth"<br>- Shield 3: "Rate Limit"<br><br>**Visual Details**:<br>1. Core Concept: Combining multiple defenses for maximum security.<br>2. Metaphor: A warrior with a shield (Replay), armor (Auth), and a force field (Rate Limit).<br>3. Action: Standing strong.<br>4. Layout: Layered character equipment. | ## 6) â€œAIæ©Ÿèƒ½â€ã¨çµ¡ã‚ãŸç¾å®Ÿã®é˜²å¾¡ç·šğŸ¤–ğŸ›¡ï¸ |
| 85 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_01_ai_risk.png | ./picture/firebase_abuse_prevention_ts_study_012_01_ai_risk.png | **Theme**: AI Cost Risk<br><br>**Labels to Render**:<br>- Bot: "Spam Request"<br>- API: "Expensive Call"<br>- Wallet: "Burning"<br><br>**Visual Details**:<br>1. Core Concept: AI calls are expensive and vulnerable to bots.<br>2. Metaphor: A bot pouring fuel (requests) into a fire that is burning money (wallet).<br>3. Action: Burning.<br>4. Layout: Cause and effect. | ## 1) ã¾ãšè…¹è½ã¡ï¼šAIã¯ â€œãŠé‡‘ãŒç‡ƒãˆã‚„ã™ã„APIâ€ ğŸ”¥ğŸ’¸ |
| 86 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_02_proxy_verification.png | ./picture/firebase_abuse_prevention_ts_study_012_02_proxy_verification.png | **Theme**: AI Proxy Gate<br><br>**Labels to Render**:<br>- App: "Request + Token"<br>- Proxy: "AI Logic Gate"<br>- AI: "Gemini"<br><br>**Visual Details**:<br>1. Core Concept: Firebase AI Logic acts as a secure gate.<br>2. Metaphor: A secure checkpoint (Proxy) between the public road (App) and the VIP lounge (AI).<br>3. Action: Checking the token.<br>4. Layout: Flow diagram. | ## 2) Firebase AI Logic ã§ â€œå®ˆã‚Œã‚‹AIå‘¼ã³å‡ºã—â€ ã«ã™ã‚‹ğŸ›¡ï¸ğŸ¤– |
| 87 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_03_defense_tools.png | ./picture/firebase_abuse_prevention_ts_study_012_03_defense_tools.png | **Theme**: Three Tools<br><br>**Labels to Render**:<br>- 1: "App Check (ID)"<br>- 2: "Limited Token (Short TTL)"<br>- 3: "Quota (Rate Limit)"<br><br>**Visual Details**:<br>1. Core Concept: The three pillars of AI defense.<br>2. Metaphor: A toolkit containing a Badge (App Check), a Stopwatch (Limited Token), and a Traffic Light (Quota).<br>3. Action: Displaying tools.<br>4. Layout: Triptych or group. | ## 3) å®ˆã‚Šã®åŸºæœ¬ã‚»ãƒƒãƒˆã¯3ã¤ğŸ§°ğŸ§¿ |
| 88 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_04_client_code.png | ./picture/firebase_abuse_prevention_ts_study_012_04_client_code.png | **Theme**: Secure Client Code<br><br>**Labels to Render**:<br>- Func: "getAI"<br>- Option: "useLimitedUseAppCheckTokens"<br>- Value: "True"<br><br>**Visual Details**:<br>1. Core Concept: Enabling limited use tokens in code.<br>2. Metaphor: A developer checking a box labeled "High Security" on a control panel.<br>3. Action: Activating.<br>4. Layout: Code focus. | ## 4-1. ã¾ãšã¯æœ€å°ã§ â€œAIæ•´å½¢â€ é–¢æ•°ã‚’ä½œã‚‹ğŸ› ï¸ |
| 89 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_05_verification.png | ./picture/firebase_abuse_prevention_ts_study_012_05_verification.png | **Theme**: Verification Process<br><br>**Labels to Render**:<br>- Step 1: "Monitor Mode"<br>- Step 2: "Test OK"<br>- Step 3: "Enforce Mode"<br>- Step 4: "Attack Blocked"<br><br>**Visual Details**:<br>1. Core Concept: The steps to verify security.<br>2. Metaphor: A scientist testing a shield. First with low power, then full power, then throwing a rock at it.<br>3. Action: Testing.<br>4. Layout: Sequence. | ## 5) ON/OFFæ¯”è¼ƒã§ â€œå®ˆã‚Œã¦ã‚‹æ„Ÿâ€ ã‚’ä½“æ„ŸğŸ‘€ğŸ§¿ |
| 90 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_06_quota.png | ./picture/firebase_abuse_prevention_ts_study_012_06_quota.png | **Theme**: Rate Limiting<br><br>**Labels to Render**:<br>- Limit: "100 RPM"<br>- Traffic: "Requests"<br>- Error: "429 Quota Exceeded"<br><br>**Visual Details**:<br>1. Core Concept: Blocking traffic that exceeds the limit.<br>2. Metaphor: A turnstile that locks after a certain number of spins. Or a bucket overflowing.<br>3. Action: Blocking excess.<br>4. Layout: Traffic flow. | ## 6) ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆQuotaï¼‰ã§ â€œç ´ç”£ã—ãªã„â€ ã‚’ä½œã‚‹ğŸ’¸ğŸš¦ |
| 91 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_07_structured_output.png | ./picture/firebase_abuse_prevention_ts_study_012_07_structured_output.png | **Theme**: Structured JSON<br><br>**Labels to Render**:<br>- Input: "Messy Text"<br>- AI Schema: "JSON Structure"<br>- Output: "Clean Data"<br><br>**Visual Details**:<br>1. Core Concept: AI converting unstructured text to structured JSON.<br>2. Metaphor: A machine taking a pile of scrap metal and outputting perfectly formed gears.<br>3. Action: Transformation.<br>4. Layout: Process flow. | ## 7) â€œæ§‹é€ åŒ–å‡ºåŠ›(JSON)â€ ã‚’ä½¿ã†ã¨äº‹æ•…ãŒæ¸›ã‚‹ğŸ§¾ğŸ¤– |
| 92 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_01_debug_workflow.png | ./picture/firebase_abuse_prevention_ts_study_013_01_debug_workflow.png | **Theme**: Debug Provider Flow<br><br>**Labels to Render**:<br>- Localhost: "Debug Token"<br>- Firebase: "Console (Allowlist)"<br>- Result: "Access Granted"<br><br>**Visual Details**:<br>1. Core Concept: The handshake between local dev and Firebase Console.<br>2. Metaphor: A developer showing a special VIP pass (Debug Token) to the bouncer (Firebase) who checks a guest list (Allowlist).<br>3. Action: Checking the list.<br>4. Layout: Flow diagram. | ## 1) ã¾ãšå…¨ä½“åƒã‚’1æšã§ğŸ§ ğŸ—ºï¸ |
| 93 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_02_code_setup.png | ./picture/firebase_abuse_prevention_ts_study_013_02_code_setup.png | **Theme**: Conditional Logic<br><br>**Labels to Render**:<br>- Env: "DEV"<br>- Action: "Set Debug Token"<br>- Init: "App Check"<br><br>**Visual Details**:<br>1. Core Concept: Enabling debug mode only in development.<br>2. Metaphor: A railway switch. If the sign says "DEV", the train goes to the "Debug" track. If "PROD", it goes to "reCAPTCHA".<br>3. Action: Switching tracks.<br>4. Layout: Branching path. | ## 2-1. App Check åˆæœŸåŒ–ã‚³ãƒ¼ãƒ‰ã«ã€Œãƒ­ãƒ¼ã‚«ãƒ«æ™‚ã ã‘ã€ãƒ‡ãƒãƒƒã‚°ONã‚’è¶³ã™ğŸ§¿ |
| 94 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_03_browser_console.png | ./picture/firebase_abuse_prevention_ts_study_013_03_browser_console.png | **Theme**: Token Extraction<br><br>**Labels to Render**:<br>- Browser: "DevTools"<br>- Console: "AppCheck debug token"<br>- Token: "uuid-string"<br><br>**Visual Details**:<br>1. Core Concept: Finding the token in the browser console.<br>2. Metaphor: A magnifying glass highlighting a specific line of text in a code terminal.<br>3. Action: Copying.<br>4. Layout: Screen close-up. | ## 2-2. ãƒ­ãƒ¼ã‚«ãƒ«èµ·å‹•ã—ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®Consoleã§ã€Œãƒ‡ãƒãƒƒã‚°ãƒˆãƒ¼ã‚¯ãƒ³ã€ã‚’æ‹¾ã†ğŸ‘€ğŸ§ª |
| 95 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_04_console_registration.png | ./picture/firebase_abuse_prevention_ts_study_013_04_console_registration.png | **Theme**: Whitelisting<br><br>**Labels to Render**:<br>- Menu: "Manage debug tokens"<br>- Input: "Paste Token"<br>- Action: "Save"<br><br>**Visual Details**:<br>1. Core Concept: Registering the token in Firebase Console.<br>2. Metaphor: Writing a name on the VIP guest list.<br>3. Action: Writing/Saving.<br>4. Layout: UI mockup. | ## 2-3. Firebase Console ã«ç™»éŒ²ï¼ˆallowlistï¼‰ã™ã‚‹ğŸ”ğŸ§¿ |
| 96 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_05_verification.png | ./picture/firebase_abuse_prevention_ts_study_013_05_verification.png | **Theme**: Service Check<br><br>**Labels to Render**:<br>- Firestore: "OK"<br>- Storage: "OK"<br>- Functions: "OK"<br>- AI: "OK"<br><br>**Visual Details**:<br>1. Core Concept: Verifying access to all services.<br>2. Metaphor: A dashboard with four green lights turning on one by one.<br>3. Action: All systems go.<br>4. Layout: Dashboard view. | ## 3) ã“ã“ã¾ã§å‡ºæ¥ãŸã‚‰å‹•ä½œãƒã‚§ãƒƒã‚¯ğŸ¯ï¼ˆFirestore/Storage/Functions/AIï¼‰ |
| 97 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_06_best_practices.png | ./picture/firebase_abuse_prevention_ts_study_013_06_best_practices.png | **Theme**: Security Rules<br><br>**Labels to Render**:<br>- Git: "No Token!"<br>- Leak: "Revoke!"<br>- Scope: "Local Only"<br><br>**Visual Details**:<br>1. Core Concept: Safety rules for debug tokens.<br>2. Metaphor: Warning signs. A "No Entry" sign on a Git logo. A "Reset" button for leaks.<br>3. Action: Enforcing rules.<br>4. Layout: Warning icons. | ## 4) Debug Provider ã®â€œé‹ç”¨ãƒ«ãƒ¼ãƒ«â€ğŸ”ï¼ˆãƒŸã‚¹ã‚‹ã¨äº‹æ•…ã‚‹ã‚„ã¤ï¼‰ |
| 98 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_07_ai_troubleshooting.png | ./picture/firebase_abuse_prevention_ts_study_013_07_ai_troubleshooting.png | **Theme**: AI Debugging<br><br>**Labels to Render**:<br>- Problem: "401 Error"<br>- AI: "Check Init Order"<br>- Solution: "Fix Code"<br><br>**Visual Details**:<br>1. Core Concept: AI diagnosing common setup errors.<br>2. Metaphor: A robot mechanic looking at an engine (code) and pointing to a loose wire (initialization order).<br>3. Action: Fixing.<br>4. Layout: Diagnostic view. | ## 6) ã‚‚ã£ã¨ãƒ©ã‚¯ã™ã‚‹ï¼šAntigravity / Gemini CLI ã§â€œè©°ã¾ã‚Šæ½°ã—â€ğŸ¤–ğŸ§° |
| 99 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_01_ci_failure.png | ./picture/firebase_abuse_prevention_ts_study_014_01_ci_failure.png | **Theme**: CI vs App Check<br><br>**Labels to Render**:<br>- CI Runner: "No Browser / No Human"<br>- App Check: "Who are you?"<br>- Result: "Blocked (403)"<br><br>**Visual Details**:<br>1. Core Concept: CI cannot prove humanity like a real user.<br>2. Metaphor: A robot (CI) trying to solve a CAPTCHA and failing.<br>3. Action: Being blocked.<br>4. Layout: Problem illustration. | ## ã¾ãšçµè«–ï¼šCIã§ã¯â€œDebug Provider + ãƒ‡ãƒãƒƒã‚°ãƒˆãƒ¼ã‚¯ãƒ³â€ã§é€šã™ğŸ§ªğŸ§¿ |
| 100 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_02_secrets.png | ./picture/firebase_abuse_prevention_ts_study_014_02_secrets.png | **Theme**: GitHub Secrets<br><br>**Labels to Render**:<br>- Repo: "Code (Public/Private)"<br>- Secrets: "Debug Token (Hidden)"<br>- Action: "Inject at Build"<br><br>**Visual Details**:<br>1. Core Concept: Storing tokens securely.<br>2. Metaphor: A safe box (Secrets) separate from the bookshelf (Repo). The builder takes the key from the safe only when needed.<br>3. Action: Unlocking the safe.<br>4. Layout: Secure storage. | ## 2) GitHub Secrets ã«å…¥ã‚Œã‚‹ğŸ”ï¼ˆçµ¶å¯¾ã«ãƒªãƒã‚¸ãƒˆãƒªã¸ã‚³ãƒŸãƒƒãƒˆã—ãªã„ï¼‰ |
| 101 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_03_dynamic_import.png | ./picture/firebase_abuse_prevention_ts_study_014_03_dynamic_import.png | **Theme**: Order of Operations<br><br>**Labels to Render**:<br>- Step 1: "Set Debug Token"<br>- Step 2: "Import App Check"<br>- Step 3: "Init SDK"<br><br>**Visual Details**:<br>1. Core Concept: Setting the token global variable before the SDK loads.<br>2. Metaphor: Putting on a VIP badge (Token) *before* walking through the door (Import).<br>3. Action: Putting on badge.<br>4. Layout: Sequential steps. | ## 3) ãƒ•ãƒ­ãƒ³ãƒˆå´ï¼šCIã ã‘ Debug Provider ã‚’ONã«ã™ã‚‹ï¼ˆé‡è¦ï¼šèª­ã¿è¾¼ã¿é †ï¼‰âš›ï¸ğŸ§¿ |
| 102 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_04_workflow.png | ./picture/firebase_abuse_prevention_ts_study_014_04_workflow.png | **Theme**: CI Pipeline<br><br>**Labels to Render**:<br>- 1: "Checkout"<br>- 2: "Install (Node 24)"<br>- 3: "Build + Token"<br>- 4: "E2E Test"<br><br>**Visual Details**:<br>1. Core Concept: The steps of the CI job.<br>2. Metaphor: A factory conveyor belt. Parts are assembled, painted (Token injected), and then inspected (Tested).<br>3. Action: Moving along the belt.<br>4. Layout: Pipeline diagram. | ## 4) CIãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼šNode 24 LTSã§ãƒ“ãƒ«ãƒ‰â†’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼â†’E2EğŸ§ª |
| 103 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_05_e2e_scenario.png | ./picture/firebase_abuse_prevention_ts_study_014_05_e2e_scenario.png | **Theme**: Smoke Test<br><br>**Labels to Render**:<br>- Browser: "Headless"<br>- Action: "Click AI Button"<br>- Check: "Result Visible?"<br><br>**Visual Details**:<br>1. Core Concept: A simple test to verify the app works.<br>2. Metaphor: A robot finger pressing a button and checking for a green light.<br>3. Action: Testing.<br>4. Layout: Test execution. | ## 5) Playwrightå´ï¼šApp CheckãŒåŠ¹ã„ã¦ã‚‹æœ€ä½é™ã®1æœ¬ã‚’ä½œã‚‹ğŸ§ªğŸ§¿ğŸ¤– |
| 104 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_06_ai_strategy.png | ./picture/firebase_abuse_prevention_ts_study_014_06_ai_strategy.png | **Theme**: PR vs Nightly<br><br>**Labels to Render**:<br>- PR: "Mock AI (Fast/Free)"<br>- Nightly: "Real AI (Deep/Cost)"<br>- Goal: "Save Money"<br><br>**Visual Details**:<br>1. Core Concept: Using mocks for frequent tests and real AI for infrequent ones.<br>2. Metaphor: Using a crash test dummy (Mock) for routine checks vs a real driver (Real AI) for the final run.<br>3. Action: Comparison.<br>4. Layout: Split view. | ## ãŠã™ã™ã‚æ–¹é‡ï¼šPRã§ã¯â€œè»½ã„ç¢ºèªâ€ã€é‡ã„ã®ã¯å¤œé–“ or mainã ã‘ğŸŒ™ |
| 105 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_07_pitfalls.png | ./picture/firebase_abuse_prevention_ts_study_014_07_pitfalls.png | **Theme**: Security Leaks<br><br>**Labels to Render**:<br>- Log: "Console.log(Token)"<br>- Artifact: "Upload dist/"<br>- Risk: "Leak!"<br><br>**Visual Details**:<br>1. Core Concept: Ways tokens can leak in CI.<br>2. Metaphor: Water leaking from a pipe labeled "Logs" or a box labeled "Artifacts".<br>3. Action: Leaking.<br>4. Layout: Warning illustration. | ## è½ã¨ã—ç©´ã¾ã¨ã‚ï¼ˆã“ã“ã ã‘èª­ã‚“ã§ã‚‚ä¾¡å€¤ã‚ã‚‹ã‚„ã¤ï¼‰ğŸ•³ï¸ğŸ˜‡ |
| 106 | docs/firebase_abuse_prevention_ts_study_015.md | firebase_abuse_prevention_ts_study_015_01_failure_types.png | ./picture/firebase_abuse_prevention_ts_study_015_01_failure_types.png | **Theme**: Three Failure Types<br><br>**Labels to Render**:<br>- Type A: "App Check (Token)"<br>- Type B: "Backend (Reject)"<br>- Type C: "AI (Rate Limit)"<br><br>**Visual Details**:<br>1. Core Concept: Classifying errors into three buckets.<br>2. Metaphor: Three different warning signs or roadblocks. 1. Broken Token (Type A). 2. Brick Wall (Type B). 3. Stopwatch/Hourglass (Type C).<br>3. Action: Sorting errors.<br>4. Layout: Three panels. | ## 2) â€œé€šã‚‰ãªã„â€ã¯3ç¨®é¡ã«åˆ†ã‘ã‚‹ã¨å‹ã¦ã‚‹ğŸ¥ŠğŸ§  |
| 107 | docs/firebase_abuse_prevention_ts_study_015.md | firebase_abuse_prevention_ts_study_015_02_ux_essentials.png | ./picture/firebase_abuse_prevention_ts_study_015_02_ux_essentials.png | **Theme**: UX Essentials<br><br>**Labels to Render**:<br>- 1: "What Happened?"<br>- 2: "What to do?"<br>- 3: "Action Button"<br><br>**Visual Details**:<br>1. Core Concept: The anatomy of a good error message.<br>2. Metaphor: A building block or recipe card with 3 distinct sections.<br>3. Action: Assembling the message.<br>4. Layout: Stacked blocks. | ## 3) UXã®é‰„å‰‡ï¼šã‚¨ãƒ©ãƒ¼ã¯ã€Œæ¬¡ã®ä¸€æ‰‹ã€ã¾ã§ã‚»ãƒƒãƒˆğŸ§­ğŸ™‚ |
| 108 | docs/firebase_abuse_prevention_ts_study_015.md | firebase_abuse_prevention_ts_study_015_03_normalize_flow.png | ./picture/firebase_abuse_prevention_ts_study_015_03_normalize_flow.png | **Theme**: Error Normalization Flow<br><br>**Labels to Render**:<br>- Input: "Raw Error (Messy)"<br>- Process: "normalizeError"<br>- Output: "UI Object (Clean)"<br><br>**Visual Details**:<br>1. Core Concept: Converting messy error data into a structured UI object.<br>2. Metaphor: A recycling machine taking jagged scrap metal and outputting smooth, uniform bricks.<br>3. Action: Processing.<br>4. Layout: Left-to-right flow. | ## 4-1. ã‚¨ãƒ©ãƒ¼åˆ†é¡ï¼ˆnormalizeï¼‰ã‚’ä½œã‚‹ğŸ—‚ï¸ |
| 109 | docs/firebase_abuse_prevention_ts_study_015.md | firebase_abuse_prevention_ts_study_015_04_guarded_wrapper.png | ./picture/firebase_abuse_prevention_ts_study_015_04_guarded_wrapper.png | **Theme**: Guarded Action Wrapper<br><br>**Labels to Render**:<br>- Wrapper: "guardedAction"<br>- Inside: "API Call"<br>- Shield: "Error Handling"<br><br>**Visual Details**:<br>1. Core Concept: Wrapping risky code in a safety layer.<br>2. Metaphor: A bubble or force field wrapping a fragile object (API Call).<br>3. Action: Protecting.<br>4. Layout: Central composition. | ## 4-2. â€œå®ˆã‚‰ã‚ŒãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³â€ãƒ©ãƒƒãƒ‘ã‚’ä½œã‚‹ğŸ›¡ï¸ğŸ” |
| 110 | docs/firebase_abuse_prevention_ts_study_015.md | firebase_abuse_prevention_ts_study_015_05_ai_error_distinction.png | ./picture/firebase_abuse_prevention_ts_study_015_05_ai_error_distinction.png | **Theme**: AI Error Distinction<br><br>**Labels to Render**:<br>- App Check: "Block (Stop)"<br>- Rate Limit: "Wait (Pause)"<br>- User: "Reaction"<br><br>**Visual Details**:<br>1. Core Concept: Different reactions for different AI errors.<br>2. Metaphor: Traffic signals. Red Light (App Check) vs Yellow Blinking Light (Rate Limit).<br>3. Action: Signal changing.<br>4. Layout: Comparison. | ## 6) AIæ©Ÿèƒ½ã¯ã€ŒApp Checkå¤±æ•—ã€ã¨ã€Œå›æ•°åˆ¶é™ã€ã‚’åˆ¥æ‰±ã„ã«ã™ã‚‹ğŸ¤–ğŸ§¿â³ |
| 111 | docs/firebase_abuse_prevention_ts_study_015.md | firebase_abuse_prevention_ts_study_015_06_testing_scenarios.png | ./picture/firebase_abuse_prevention_ts_study_015_06_testing_scenarios.png | **Theme**: Testing Scenarios<br><br>**Labels to Render**:<br>- Test 1: "No Init"<br>- Test 2: "Force Reject"<br>- Test 3: "Spam AI"<br><br>**Visual Details**:<br>1. Core Concept: Stress testing the UI.<br>2. Metaphor: A crash test dummy going through 3 different courses (missing part, blocked wall, traffic jam).<br>3. Action: Testing.<br>4. Layout: Three paths. | ## 8) æ‰‹ã‚’å‹•ã‹ã™ï¼šå¤±æ•—ã‚’â€œã‚ã–ã¨èµ·ã“ã—ã¦â€UXã‚’ç¢ºèªğŸ‘€ğŸ§ª |
| 112 | docs/firebase_abuse_prevention_ts_study_016.md | firebase_abuse_prevention_ts_study_016_01_enforcement_switch.png | ./picture/firebase_abuse_prevention_ts_study_016_01_enforcement_switch.png | **Theme**: Enforcement Switch<br><br>**Labels to Render**:<br>- Switch: "Enforce"<br>- Action: "Click"<br>- Result: "Block Unverified"<br><br>**Visual Details**:<br>1. Core Concept: Flipping the switch to block bad traffic.<br>2. Metaphor: A big toggle switch turning from gray to red. A gate closing.<br>3. Action: Switching.<br>4. Layout: Close-up. | ## 1) ã€Œå¼·åˆ¶ONã€ã™ã‚‹ã¨ã©ã†ãªã‚‹ï¼Ÿ |
| 113 | docs/firebase_abuse_prevention_ts_study_016.md | firebase_abuse_prevention_ts_study_016_02_metrics_buckets.png | ./picture/firebase_abuse_prevention_ts_study_016_02_metrics_buckets.png | **Theme**: Metrics Buckets<br><br>**Labels to Render**:<br>- Green: "Verified (Safe)"<br>- Yellow: "Outdated (Wait)"<br>- Gray: "Unknown (?)"<br>- Red: "Invalid (Bad)"<br><br>**Visual Details**:<br>1. Core Concept: Sorting traffic into 4 categories.<br>2. Metaphor: Four bins/buckets.<br>3. Action: Sorting.<br>4. Layout: Four distinct containers. | ## 2) å¼·åˆ¶ONã®å‰ã«è¦‹ã‚‹ã¹ãã€Œãƒ¡ãƒˆãƒªã‚¯ã‚¹4åˆ†é¡ã€ğŸ“Š |
| 114 | docs/firebase_abuse_prevention_ts_study_016.md | firebase_abuse_prevention_ts_study_016_03_phased_rollout.png | ./picture/firebase_abuse_prevention_ts_study_016_03_phased_rollout.png | **Theme**: Phased Rollout<br><br>**Labels to Render**:<br>- Step 1: "Observe"<br>- Step 2: "Firestore"<br>- Step 3: "Storage"<br>- Step 4: "AI Logic"<br><br>**Visual Details**:<br>1. Core Concept: Sequential activation.<br>2. Metaphor: A staircase or dominoes falling in order.<br>3. Action: Climbing/Progressing.<br>4. Layout: Stairs or timeline. | ## æ‰‹ã‚’å‹•ã‹ã™ğŸ› ï¸ï¼šæ®µéšçš„ã«å¼·åˆ¶ONã™ã‚‹â€œäº‹æ•…ã‚‰ãªã„æ‰‹é †â€ğŸ§¯ |
| 115 | docs/firebase_abuse_prevention_ts_study_016.md | firebase_abuse_prevention_ts_study_016_04_firestore_switch.png | ./picture/firebase_abuse_prevention_ts_study_016_04_firestore_switch.png | **Theme**: Firestore Switch<br><br>**Labels to Render**:<br>- Service: "Firestore"<br>- Button: "Enforce"<br>- Wait: "15 min"<br><br>**Visual Details**:<br>1. Core Concept: The specific action for Firestore.<br>2. Metaphor: A control panel for a database vault.<br>3. Action: Pressing the button.<br>4. Layout: UI focus. | ## Step 2ï¼šFirestore ã‚’å¼·åˆ¶ONï¼ˆ1ã¤ç›®ã®æœ¬ç•ªã‚¹ã‚¤ãƒƒãƒï¼‰ğŸ—ƒï¸ğŸ§¿ |
| 116 | docs/firebase_abuse_prevention_ts_study_016.md | firebase_abuse_prevention_ts_study_016_05_ai_logic_gate.png | ./picture/firebase_abuse_prevention_ts_study_016_05_ai_logic_gate.png | **Theme**: AI Logic Gate<br><br>**Labels to Render**:<br>- Gate: "App Check"<br>- Proxy: "AI Logic"<br>- Core: "AI Model"<br><br>**Visual Details**:<br>1. Core Concept: AI Logic acting as a shield for the model.<br>2. Metaphor: A guard dog (App Check) in front of a gate (AI Logic) protecting the treasure (AI Model).<br>3. Action: Guarding.<br>4. Layout: Layered defense. | ## Step 4ï¼šFirebase AI Logic ã‚’å¼·åˆ¶ONï¼ˆã‚³ã‚¹ãƒˆé˜²è¡›ãƒ©ã‚¤ãƒ³ğŸ¤–ğŸ’¸ï¼‰ |
| 117 | docs/firebase_abuse_prevention_ts_study_016.md | firebase_abuse_prevention_ts_study_016_06_rollback.png | ./picture/firebase_abuse_prevention_ts_study_016_06_rollback.png | **Theme**: Rollback Action<br><br>**Labels to Render**:<br>- Button: "Unenforce"<br>- Action: "Emergency Stop"<br>- Result: "Open Gate"<br><br>**Visual Details**:<br>1. Core Concept: Reverting the enforcement in an emergency.<br>2. Metaphor: Pulling a fire alarm handle or hitting a big "STOP" button.<br>3. Action: Emergency release.<br>4. Layout: High urgency. | 4. **ç·Šæ€¥ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**ğŸ§¯ |
| 118 | docs/firebase_abuse_prevention_ts_study_016.md | firebase_abuse_prevention_ts_study_016_07_mcp_arch.png | ./picture/firebase_abuse_prevention_ts_study_016_07_mcp_arch.png | **Theme**: MCP Architecture<br><br>**Labels to Render**:<br>- User: "Gemini CLI"<br>- Server: "Firebase MCP"<br>- Tool: "Antigravity"<br><br>**Visual Details**:<br>1. Core Concept: Integration of AI tools.<br>2. Metaphor: Connecting plugs or modules.<br>3. Action: Integration.<br>4. Layout: Network diagram. | ## AIæ´»ç”¨ğŸ¤–ï¼šAntigravity / Gemini CLI ã§â€œæ‰‹é †æ›¸ä½œã‚Šâ€ã‚’çˆ†é€Ÿã«ã™ã‚‹ğŸš€ |
| 119 | docs/firebase_abuse_prevention_ts_study_017.md | firebase_abuse_prevention_ts_study_017_01_language_tree.png | ./picture/firebase_abuse_prevention_ts_study_017_01_language_tree.png | **Theme**: Language Decision Tree<br><br>**Labels to Render**:<br>- Start: "Select Language"<br>- Node: "Standard (Safe)"<br>- Python: "Preview (Limited)"<br>- .NET: "Cloud Run (Portable)"<br><br>**Visual Details**:<br>1. Core Concept: A decision path for choosing a language.<br>2. Metaphor: A fork in the road with 3 paths. The Node path is wide and paved. Python is a trail. .NET leads to a different building (Cloud Run).<br>3. Action: Choosing a path.<br>4. Layout: Tree diagram. | ## 1) ã¾ãšçµè«–ï¼šåˆå¿ƒè€…ãŒè¿·ã£ãŸã‚‰ã“ã†ï¼ğŸ§­ |
| 120 | docs/firebase_abuse_prevention_ts_study_017.md | firebase_abuse_prevention_ts_study_017_02_node_timeline.png | ./picture/firebase_abuse_prevention_ts_study_017_02_node_timeline.png | **Theme**: Node Version Timeline<br><br>**Labels to Render**:<br>- v18: "Deprecated (Stop)"<br>- v20: "End Soon (Caution)"<br>- v22: "Current (Go)"<br>- v24: "Next (Beta)"<br><br>**Visual Details**:<br>1. Core Concept: The lifecycle of Node versions.<br>2. Metaphor: A timeline with traffic lights. Red (18), Yellow (20), Green (22).<br>3. Action: Time progressing.<br>4. Layout: Horizontal timeline. | ## ã€ŒNode 20 ã£ã¦ä»Šã‹ã‚‰é¸ã‚“ã§ã„ã„ã®ï¼Ÿã€å•é¡ŒğŸ˜‡ |
| 121 | docs/firebase_abuse_prevention_ts_study_017.md | firebase_abuse_prevention_ts_study_017_03_python_limits.png | ./picture/firebase_abuse_prevention_ts_study_017_03_python_limits.png | **Theme**: Python Limitations<br><br>**Labels to Render**:<br>- Logic: "OK"<br>- App Check: "Preview"<br>- Replay: "No Support"<br><br>**Visual Details**:<br>1. Core Concept: Highlighting what is missing in Python support.<br>2. Metaphor: A puzzle with a missing piece labeled "Replay Protection".<br>3. Action: Assembling puzzle.<br>4. Layout: Feature list. | ## Pythonï¼ˆFirebase Functionsï¼‰ |
| 122 | docs/firebase_abuse_prevention_ts_study_017.md | firebase_abuse_prevention_ts_study_017_04_genkit_ecosystem.png | ./picture/firebase_abuse_prevention_ts_study_017_04_genkit_ecosystem.png | **Theme**: Genkit Ecosystem<br><br>**Labels to Render**:<br>- Node: "Full Support"<br>- Python: "Partial / No Deploy"<br>- Core: "Genkit"<br><br>**Visual Details**:<br>1. Core Concept: Node is the first-class citizen for Genkit on Firebase.<br>2. Metaphor: A strong bridge (Node) vs a rope bridge (Python) connecting to the Genkit island.<br>3. Action: Connecting.<br>4. Layout: Comparison. | ## â€œAIç³»ï¼ˆGenkitï¼‰ã‚’ Functions ã«è¼‰ã›ãŸã„â€ãªã‚‰â€¦ |
| 123 | docs/firebase_abuse_prevention_ts_study_017.md | firebase_abuse_prevention_ts_study_017_05_runtime_vs_sdk.png | ./picture/firebase_abuse_prevention_ts_study_017_05_runtime_vs_sdk.png | **Theme**: Runtime vs SDK<br><br>**Labels to Render**:<br>- Runtime: "Engine (Node 22)"<br>- SDK: "Tools (firebase-functions)"<br>- App: "Your Code"<br><br>**Visual Details**:<br>1. Core Concept: Distinguishing the execution environment from the libraries.<br>2. Metaphor: A car engine (Runtime) vs the dashboard/controls (SDK).<br>3. Action: Driving.<br>4. Layout: Layered diagram. | ## 3) â€œèª­ã‚€â€ãƒ‘ãƒ¼ãƒˆï¼šãƒãƒ¼ã‚¸ãƒ§ãƒ³è¿·å­ã®æ­£ä½“ğŸ§ ğŸŒ€ |
| 124 | docs/firebase_abuse_prevention_ts_study_017.md | firebase_abuse_prevention_ts_study_017_06_json_check.png | ./picture/firebase_abuse_prevention_ts_study_017_06_json_check.png | **Theme**: JSON Config Check<br><br>**Labels to Render**:<br>- File: "package.json"<br>- Field: "engines"<br>- Value: "node: 22"<br><br>**Visual Details**:<br>1. Core Concept: Checking the configuration file.<br>2. Metaphor: A magnifying glass focusing on the specific lines in a JSON file.<br>3. Action: Inspecting.<br>4. Layout: Code focus. | ## ã‚¹ãƒ†ãƒƒãƒ—Aï¼šNode/TSï¼ˆç‹é“ï¼‰ã§ runtime ã‚’å›ºå®šã™ã‚‹âœ… |
| 125 | docs/firebase_abuse_prevention_ts_study_017.md | firebase_abuse_prevention_ts_study_017_07_mcp_scanner.png | ./picture/firebase_abuse_prevention_ts_study_017_07_mcp_scanner.png | **Theme**: MCP Scanner<br><br>**Labels to Render**:<br>- Scanner: "MCP Server"<br>- Target: "Repo"<br>- Result: "Node 18 Found!"<br><br>**Visual Details**:<br>1. Core Concept: AI tools scanning the code for outdated versions.<br>2. Metaphor: A robot scanning a barcode or document stack and flagging an issue.<br>3. Action: Scanning.<br>4. Layout: Diagnostic view. | ## 5) ã€ŒAIå°å…¥æ¸ˆã¿ã€å‰æã®æ™‚çŸ­ãƒ«ãƒ¼ãƒˆï¼šAntigravity / Gemini CLI ã§â€œãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªâ€ã‚’è‡ªå‹•åŒ–ğŸ¤–âš¡ |
| 126 | docs/firebase_abuse_prevention_ts_study_018.md | firebase_abuse_prevention_ts_study_018_01_backend_arch.png | ./picture/firebase_abuse_prevention_ts_study_018_01_backend_arch.png | **Theme**: Custom Backend Architecture<br><br>**Labels to Render**:<br>- Client: "React App"<br>- Header: "X-Firebase-AppCheck"<br>- Backend: "Express / Cloud Run"<br>- Verifier: "Admin SDK"<br><br>**Visual Details**:<br>1. Core Concept: The journey of the App Check token to a custom backend.<br>2. Metaphor: A courier delivering a package with a secure seal (Token) to a warehouse (Backend) where a scanner (Admin SDK) checks it.<br>3. Action: Delivering and Scanning.<br>4. Layout: Flow diagram. | ## ã—ãã¿ï¼ˆè¶…ã–ã£ãã‚Šå›³ï¼‰ğŸ—ºï¸ |
| 127 | docs/firebase_abuse_prevention_ts_study_018.md | firebase_abuse_prevention_ts_study_018_02_header_vs_url.png | ./picture/firebase_abuse_prevention_ts_study_018_02_header_vs_url.png | **Theme**: Header vs URL<br><br>**Labels to Render**:<br>- Header: "Safe (Encrypted)"<br>- URL: "Unsafe (Logged)"<br>- Token: "Secret"<br><br>**Visual Details**:<br>1. Core Concept: Where to place the token safely.<br>2. Metaphor: A secure armored envelope (Header) vs a clear plastic bag (URL).<br>3. Action: Comparison.<br>4. Layout: Side-by-side. | ## 1) ãƒ•ãƒ­ãƒ³ãƒˆï¼šãƒ˜ãƒƒãƒ€ã«è¼‰ã›ã‚‹ï¼ˆURLã«åŸ‹ã‚ãªã„ï¼ï¼‰ğŸš«ğŸ”— |
| 128 | docs/firebase_abuse_prevention_ts_study_018.md | firebase_abuse_prevention_ts_study_018_03_react_header.png | ./picture/firebase_abuse_prevention_ts_study_018_03_react_header.png | **Theme**: React Header Code<br><br>**Labels to Render**:<br>- Func: "fetch()"<br>- Header: "X-Firebase-AppCheck"<br>- Value: "token"<br><br>**Visual Details**:<br>1. Core Concept: Adding the token to the request headers.<br>2. Metaphor: Stamping a document with an official seal before mailing it.<br>3. Action: Stamping.<br>4. Layout: Code concept. | ## æ‰‹ã‚’å‹•ã‹ã™ï¼ˆReactå´ï¼‰ï¼šãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä»˜ã‘ã¦è‡ªå‰APIã‚’å©ãâš›ï¸ğŸ“® |
| 129 | docs/firebase_abuse_prevention_ts_study_018.md | firebase_abuse_prevention_ts_study_018_04_middleware_gate.png | ./picture/firebase_abuse_prevention_ts_study_018_04_middleware_gate.png | **Theme**: Middleware Gate<br><br>**Labels to Render**:<br>- Req: "Incoming Request"<br>- Gate: "requireAppCheck"<br>- Check: "verifyToken()"<br>- Pass: "next()"<br><br>**Visual Details**:<br>1. Core Concept: Middleware filtering requests.<br>2. Metaphor: A security checkpoint. Passengers (Requests) show their ID (Token). If valid, the gate opens (next).<br>3. Action: Checking ID.<br>4. Layout: Flowchart. | ## æ‰‹ã‚’å‹•ã‹ã™ï¼ˆNode/Expresså´ï¼‰ï¼šãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§æ¤œè¨¼ã™ã‚‹ğŸ§°ğŸ›¡ï¸ |
| 130 | docs/firebase_abuse_prevention_ts_study_018.md | firebase_abuse_prevention_ts_study_018_05_dual_keys.png | ./picture/firebase_abuse_prevention_ts_study_018_05_dual_keys.png | **Theme**: Dual Keys<br><br>**Labels to Render**:<br>- Key 1: "App Check (Device)"<br>- Key 2: "Auth (User)"<br>- Lock: "Secure API"<br><br>**Visual Details**:<br>1. Core Concept: Requiring both App identity and User identity.<br>2. Metaphor: A vault with two keyholes requiring two different keys to open.<br>3. Action: Unlocking with two keys.<br>4. Layout: Close-up of lock. | ## ã•ã‚‰ã«å¼·ãï¼šAuthã‚‚ä¸€ç·’ã«æ¤œè¨¼ã—ã¦ã€Œèª°ãŒå©ã„ãŸã‹ã€ã¾ã§ç¢ºå®šğŸ™‹â€â™‚ï¸ğŸ” |
| 131 | docs/firebase_abuse_prevention_ts_study_018.md | firebase_abuse_prevention_ts_study_018_06_consume_token.png | ./picture/firebase_abuse_prevention_ts_study_018_06_consume_token.png | **Theme**: Consume Token<br><br>**Labels to Render**:<br>- Token: "Limited Use"<br>- Server: "verify({ consume: true })"<br>- Result: "Burned"<br><br>**Visual Details**:<br>1. Core Concept: The token is used up and cannot be used again.<br>2. Metaphor: A ticket getting punched or a scroll burning up after reading.<br>3. Action: Consuming/Burning.<br>4. Layout: Process flow. | ## è¶…é‡è¦APIã ã‘ï¼šãƒªãƒ—ãƒ¬ã‚¤å¯¾ç­–ï¼ˆä½¿ã„å›ã—æ”»æ’ƒï¼‰ã‚’æ½°ã™â™»ï¸ğŸš« |
| 132 | docs/firebase_abuse_prevention_ts_study_018.md | firebase_abuse_prevention_ts_study_018_07_jwt_check.png | ./picture/firebase_abuse_prevention_ts_study_018_07_jwt_check.png | **Theme**: JWT Manual Check<br><br>**Labels to Render**:<br>- Input: "JWT String"<br>- Key: "JWKS (Public Key)"<br>- Check: "Signature / Exp / Aud"<br>- Output: "Valid / Invalid"<br><br>**Visual Details**:<br>1. Core Concept: Manually verifying the token structure and signature.<br>2. Metaphor: A detective examining a document with a magnifying glass and comparing it to a reference book (JWKS).<br>3. Action: verifying.<br>4. Layout: Analysis desk. | ## ï¼‹ç™ºå±•ï¼š.NETï¼ˆå…¬å¼Admin SDKãŒç„¡ã„è¨€èªï¼‰ã§æ¤œè¨¼ã—ãŸã„å ´åˆğŸ§©ğŸŸ£ |
| 133 | docs/firebase_abuse_prevention_ts_study_019.md | firebase_abuse_prevention_ts_study_019_01_ai_tools.png | ./picture/firebase_abuse_prevention_ts_study_019_01_ai_tools.png | **Theme**: AI Tools Triad<br><br>**Labels to Render**:<br>- Antigravity: "Agent IDE (Plan/Code)"<br>- Gemini CLI: "Terminal (Audit)"<br>- Studio: "Browser (Env)"<br><br>**Visual Details**:<br>1. Core Concept: The three AI tools and their roles.<br>2. Metaphor: A tool belt with 3 distinct tools. A multi-tool (Antigravity), a flashlight (Gemini CLI), and a workbench (Studio).<br>3. Action: Displaying tools.<br>4. Layout: Triptych. | ## ã¾ãšâ€œAIã®ä½¿ã„åˆ†ã‘â€ã ã‘è¦šãˆã‚‹ ğŸ§ ğŸ§° |
| 134 | docs/firebase_abuse_prevention_ts_study_019.md | firebase_abuse_prevention_ts_study_019_02_ai_protection.png | ./picture/firebase_abuse_prevention_ts_study_019_02_ai_protection.png | **Theme**: AI Logic Protection<br><br>**Labels to Render**:<br>- Gate: "App Check"<br>- Valve: "Rate Limit (100 RPM)"<br>- Core: "AI Model"<br><br>**Visual Details**:<br>1. Core Concept: Dual layer protection for AI.<br>2. Metaphor: A secure facility. The outer gate (App Check) checks IDs. The inner turnstile (Rate Limit) controls flow speed.<br>3. Action: Filtering and regulating.<br>4. Layout: Layered defense. | ## 2) ç”ŸæˆAIã¯â€œå›æ•°åˆ¶é™â€ãŒè¶…é‡è¦ ğŸ’¸ |
| 135 | docs/firebase_abuse_prevention_ts_study_019.md | firebase_abuse_prevention_ts_study_019_03_model_retire.png | ./picture/firebase_abuse_prevention_ts_study_019_03_model_retire.png | **Theme**: Model Retirement<br><br>**Labels to Render**:<br>- Old: "Gemini 2.0 Flash"<br>- Date: "2026-03-31 (Retire)"<br>- New: "gemini-2.5-flash-lite"<br><br>**Visual Details**:<br>1. Core Concept: Replacing an old model before it expires.<br>2. Metaphor: A calendar with a circled date. An old battery being swapped for a new one.<br>3. Action: Swapping/Upgrading.<br>4. Layout: Timeline or swap. | ## 3) ãƒ¢ãƒ‡ãƒ«ã®retireã«æ³¨æ„ï¼ˆã“ã‚Œè¶…ã‚„ã‚ŠãŒã¡ï¼‰âš ï¸ |
| 136 | docs/firebase_abuse_prevention_ts_study_019.md | firebase_abuse_prevention_ts_study_019_04_runtime_compat.png | ./picture/firebase_abuse_prevention_ts_study_019_04_runtime_compat.png | **Theme**: Runtime Compatibility<br><br>**Labels to Render**:<br>- Node 18: "Deprecated"<br>- Node 20/22: "Supported (Safe)"<br>- Node 24: "Active LTS (Verify)"<br><br>**Visual Details**:<br>1. Core Concept: Choosing the right Node version.<br>2. Metaphor: Three doors. One is boarded up (18). One is wide open and lit (20/22). One is new and shiny but has a "Check First" sign (24).<br>3. Action: Choosing a door.<br>4. Layout: Comparison. | ## 4) Functionsã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã®ç¾å®Ÿï¼ˆåœ°å‘³ã«è©°ã¾ã‚‹ï¼‰ğŸ§± |
| 137 | docs/firebase_abuse_prevention_ts_study_019.md | firebase_abuse_prevention_ts_study_019_05_gemini_audit.png | ./picture/firebase_abuse_prevention_ts_study_019_05_gemini_audit.png | **Theme**: Gemini CLI Audit<br><br>**Labels to Render**:<br>- Input: "Repo Code"<br>- Tool: "gemini audit"<br>- Output: "Issues Found"<br><br>**Visual Details**:<br>1. Core Concept: Scanning code for vulnerabilities.<br>2. Metaphor: A terminal screen with a radar sweep animation detecting bugs.<br>3. Action: Scanning.<br>4. Layout: Terminal view. | ## Step 1ï¼šGemini CLIã§â€œå®ˆã‚Šç›£æŸ»â€ã‚’ç§’é€Ÿã§å›ã™ ğŸ’»ğŸ” |
| 138 | docs/firebase_abuse_prevention_ts_study_019.md | firebase_abuse_prevention_ts_study_019_06_antigravity_mission.png | ./picture/firebase_abuse_prevention_ts_study_019_06_antigravity_mission.png | **Theme**: Antigravity Mission<br><br>**Labels to Render**:<br>- Mission: "Secure App"<br>- Agent 1: "Plan"<br>- Agent 2: "Code"<br>- Agent 3: "Verify"<br><br>**Visual Details**:<br>1. Core Concept: Multiple agents working on a mission.<br>2. Metaphor: A mission control center with different screens or robots handling different tasks.<br>3. Action: Collaborating.<br>4. Layout: Network or hierarchy. | ## Step 2ï¼šAntigravityã§â€œå®ˆã‚Šå®Ÿè£…ãƒŸãƒƒã‚·ãƒ§ãƒ³â€ã‚’çµ„ã‚€ ğŸ“‹ğŸ¤–ğŸŒ |
| 139 | docs/firebase_abuse_prevention_ts_study_019.md | firebase_abuse_prevention_ts_study_019_07_studio_env.png | ./picture/firebase_abuse_prevention_ts_study_019_07_studio_env.png | **Theme**: Studio Env Config<br><br>**Labels to Render**:<br>- File: ".idx/dev.nix"<br>- Config: "pkgs.nodejs_20"<br>- Result: "Consistent Env"<br><br>**Visual Details**:<br>1. Core Concept: Defining the environment with code.<br>2. Metaphor: A blueprint generating a workspace.<br>3. Action: Generation.<br>4. Layout: Code to Infrastructure. | ## Step 3ï¼šFirebase Studioã§â€œå†ç¾ã§ãã‚‹ä½œæ¥­å ´â€ã‚’å›ºå®šã™ã‚‹ â˜ï¸ğŸ§¬ |
| 140 | docs/firebase_abuse_prevention_ts_study_020.md | firebase_abuse_prevention_ts_study_020_01_switch.png | ./picture/firebase_abuse_prevention_ts_study_020_01_switch.png | **Theme**: App Check Mode Switch<br><br>**Labels to Render**:<br>- Switch: "VITE_APPCHECK_MODE"<br>- Position 1: "OFF (Break)"<br>- Position 2: "Recaptcha (Prod)"<br>- Position 3: "Debug (Local)"<br><br>**Visual Details**:<br>1. Core Concept: One setting controlling three modes.<br>2. Metaphor: A 3-way toggle switch or lever.<br>3. Action: Selecting a mode.<br>4. Layout: Close-up of the control. | ## Step 0ï¼šåˆ‡ã‚Šæ›¿ãˆã‚¹ã‚¤ãƒƒãƒã‚’ä½œã‚‹ğŸ›ï¸ï¼ˆã“ã‚ŒãŒæœ€çµ‚ç« ã®æ ¸ï¼‰ |
| 141 | docs/firebase_abuse_prevention_ts_study_020.md | firebase_abuse_prevention_ts_study_020_02_debug_token.png | ./picture/firebase_abuse_prevention_ts_study_020_02_debug_token.png | **Theme**: Debug Token Flow<br><br>**Labels to Render**:<br>- Local: "Browser Console"<br>- Key: "Debug Token"<br>- Cloud: "Firebase Console"<br>- Action: "Safelist"<br><br>**Visual Details**:<br>1. Core Concept: Registering the local token to allow access.<br>2. Metaphor: Taking a key from a local safe and registering it at the main bank vault.<br>3. Action: Copy and paste flow.<br>4. Layout: Flow from Laptop to Cloud. | ## Step 1ï¼šDebug token ã‚’ç™»éŒ²ã—ã¦ã€Œãƒ­ãƒ¼ã‚«ãƒ«æ•‘æ¸ˆãƒ«ãƒ¼ãƒˆã€ã‚’ä½œã‚‹ğŸ§ªğŸ” |
| 142 | docs/firebase_abuse_prevention_ts_study_020.md | firebase_abuse_prevention_ts_study_020_03_functions_gate.png | ./picture/firebase_abuse_prevention_ts_study_020_03_functions_gate.png | **Theme**: Functions Gate<br><br>**Labels to Render**:<br>- Request: "No Token"<br>- Gate: "enforceAppCheck: true"<br>- Result: "Reject (401)"<br><br>**Visual Details**:<br>1. Core Concept: The enforcement setting blocks unverified requests.<br>2. Metaphor: A security gate that stays closed for anyone without a badge.<br>3. Action: Blocking entry.<br>4. Layout: Gate interaction. | ## Step 2ï¼šFunctions ã‚’â€œç¢ºå®Ÿã«è½ã¡ã‚‹å ´æ‰€â€ã¨ã—ã¦ç”¨æ„ã™ã‚‹â˜ï¸ğŸ’¥ |
| 143 | docs/firebase_abuse_prevention_ts_study_020.md | firebase_abuse_prevention_ts_study_020_04_ai_protection.png | ./picture/firebase_abuse_prevention_ts_study_020_04_ai_protection.png | **Theme**: AI Cost Defense<br><br>**Labels to Render**:<br>- Threat: "Excessive Calls"<br>- Layer 1: "App Check"<br>- Layer 2: "Rate Limit (100 RPM)"<br>- Asset: "AI Logic"<br><br>**Visual Details**:<br>1. Core Concept: Protecting expensive AI resources.<br>2. Metaphor: A vault (AI) protected by a biometric scanner (App Check) and a turnstile (Rate Limit).<br>3. Action: Defense.<br>4. Layout: Layered security. | ## Step 3ï¼šAI Logic ã® â€œã‚³ã‚¹ãƒˆäº‹æ•…é˜²æ­¢â€ ã‚’ä»•ä¸Šã’ã‚‹ğŸ¤–ğŸ’¸ |
| 144 | docs/firebase_abuse_prevention_ts_study_020.md | firebase_abuse_prevention_ts_study_020_05_test_matrix.png | ./picture/firebase_abuse_prevention_ts_study_020_05_test_matrix.png | **Theme**: Test Scenarios Matrix<br><br>**Labels to Render**:<br>- Col 1: "OFF (Broken)"<br>- Col 2: "Recaptcha (OK)"<br>- Col 3: "Debug (OK)"<br>- Rows: "Firestore / Storage / AI"<br><br>**Visual Details**:<br>1. Core Concept: Testing different modes against services.<br>2. Metaphor: A matrix or grid with checkmarks and red crosses indicating expected behavior.<br>3. Action: Verification.<br>4. Layout: Grid view. | ## ã“ã“ãŒæœ¬ç•ªï¼šãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªè¡¨ï¼ˆ3ãƒ¢ãƒ¼ãƒ‰Ã—4ã‚µãƒ¼ãƒ“ã‚¹ï¼‰ğŸ‘€âœ… |
| 145 | docs/firebase_abuse_prevention_ts_study_020.md | firebase_abuse_prevention_ts_study_020_06_runbook.png | ./picture/firebase_abuse_prevention_ts_study_020_06_runbook.png | **Theme**: Operational Runbook<br><br>**Labels to Render**:<br>- Title: "Runbook"<br>- Item 1: "Metrics Check"<br>- Item 2: "Debug Token Safelist"<br>- Item 3: "Rollback Plan"<br><br>**Visual Details**:<br>1. Core Concept: A finalized checklist for safe operation.<br>2. Metaphor: A clipboard with a ticked checklist and a pen.<br>3. Action: Checking off items.<br>4. Layout: List view. | ## æœ€çµ‚æˆæœç‰©ï¼šé‹ç”¨æ‰‹é †æ›¸ï¼ˆRunbookï¼‰ãƒ†ãƒ³ãƒ—ãƒ¬ğŸ§¾âœ… |
| 146 | docs/firebase_abuse_prevention_ts_study_020.md | firebase_abuse_prevention_ts_study_020_07_ai_agents.png | ./picture/firebase_abuse_prevention_ts_study_020_07_ai_agents.png | **Theme**: AI Agent Team<br><br>**Labels to Render**:<br>- Agent 1: "Antigravity (Mission)"<br>- Agent 2: "Gemini CLI (Audit)"<br>- Agent 3: "Studio (Env)"<br><br>**Visual Details**:<br>1. Core Concept: Three AI tools working together.<br>2. Metaphor: A team of robots or futuristic agents in a command center.<br>3. Action: Collaboration.<br>4. Layout: Team composition. | ## AIã§â€œæœ€çµ‚ç« â€ã‚’çˆ†é€Ÿã«ä»•ä¸Šã’ã‚‹ğŸš€ğŸ¤– |
| 147 | docs/firebase_firestore_base_ts_index.md | firebase_firestore_base_ts_index_01_outline_map.png | ./picture/firebase_firestore_base_ts_index_01_outline_map.png | **Theme**: Course Structure Map<br><br>**Labels to Render**:<br>- Unit A: "Basics"<br>- Unit B: "CRUD"<br>- Unit C: "Realtime"<br>- Unit D: "Advanced/AI"<br><br>**Visual Details**:<br>1. Core Concept: The journey through the 4 units.<br>2. Metaphor: A treasure map with 4 islands or milestones.<br>3. Action: Path connecting them.<br>4. Layout: Map view. | ## å…¨ä½“ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ï¼ˆãƒ¦ãƒ‹ãƒƒãƒˆæ§‹æˆï¼‰ğŸ§­ |
| 148 | docs/firebase_firestore_base_ts_index.md | firebase_firestore_base_ts_index_02_course_flow.png | ./picture/firebase_firestore_base_ts_index_02_course_flow.png | **Theme**: Learning Loop<br><br>**Labels to Render**:<br>- Step 1: "Read"<br>- Step 2: "Do (Code)"<br>- Step 3: "Quest"<br>- Step 4: "Check"<br><br>**Visual Details**:<br>1. Core Concept: The 4-step learning process for each chapter.<br>2. Metaphor: A circular cycle or loop.<br>3. Action: Rotating/Flowing.<br>4. Layout: Cycle diagram. | ## 20ç« ã®æ•™æã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ï¼ˆå„ç« ï¼šèª­ã‚€â†’æ‰‹ã‚’å‹•ã‹ã™â†’ãƒŸãƒ‹èª²é¡Œâ†’ãƒã‚§ãƒƒã‚¯ï¼‰ğŸ“šâœ¨ |
| 149 | docs/firebase_firestore_base_ts_index.md | firebase_firestore_base_ts_index_03_concept.png | ./picture/firebase_firestore_base_ts_index_03_concept.png | **Theme**: Firestore Concept<br><br>**Labels to Render**:<br>- Container: "Collection (Box)"<br>- Item: "Document (Note)"<br>- Feature: "Realtime"<br><br>**Visual Details**:<br>1. Core Concept: Document-based structure.<br>2. Metaphor: A physical box containing sticky notes. One note is glowing (realtime update).<br>3. Action: Glowing/Syncing.<br>4. Layout: 3D or Isometric view of box. | ### ç¬¬01ç« ï¼šFirestoreã£ã¦ä½•è€…ï¼Ÿï¼ˆã¾ãšæ€–ã•ã‚’æ¶ˆã™ï¼‰ğŸ˜ŒğŸ—ƒï¸ |
| 150 | docs/firebase_firestore_base_ts_index.md | firebase_firestore_base_ts_index_04_crud_cycle.png | ./picture/firebase_firestore_base_ts_index_04_crud_cycle.png | **Theme**: CRUD Cycle<br><br>**Labels to Render**:<br>- Create: "Add"<br>- Read: "Get"<br>- Update: "Set/Update"<br>- Delete: "Remove"<br><br>**Visual Details**:<br>1. Core Concept: The 4 basic database operations.<br>2. Metaphor: A cycle or 4 quadrants.<br>3. Action: Interaction with a document icon.<br>4. Layout: Cycle. | ### ç¬¬05ç« ï¼šCreateâ‘  è¿½åŠ ã™ã‚‹ï¼ˆaddDoc / setDoc ã®æ°—æŒã¡ï¼‰â•ğŸ“„ |
| 151 | docs/firebase_firestore_base_ts_index.md | firebase_firestore_base_ts_index_05_realtime.png | ./picture/firebase_firestore_base_ts_index_05_realtime.png | **Theme**: Realtime Sync<br><br>**Labels to Render**:<br>- Cloud: "Firestore"<br>- Device 1: "PC (Update)"<br>- Device 2: "Mobile (Sync)"<br><br>**Visual Details**:<br>1. Core Concept: Instant data propagation.<br>2. Metaphor: Lightning or wifi signals connecting the cloud to devices.<br>3. Action: Syncing.<br>4. Layout: Network diagram. | ### ç¬¬12ç« ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è³¼èª­â‘ ï¼ˆonSnapshotã§â€œå‹æ‰‹ã«æ›´æ–°â€ï¼‰âš¡ğŸ‘€ |
| 152 | docs/firebase_firestore_base_ts_index.md | firebase_firestore_base_ts_index_06_paging.png | ./picture/firebase_firestore_base_ts_index_06_paging.png | **Theme**: Cursor Pagination<br><br>**Labels to Render**:<br>- Page 1: "1-10"<br>- Cursor: "Bookmark"<br>- Page 2: "11-20"<br><br>**Visual Details**:<br>1. Core Concept: Using a cursor to fetch the next set.<br>2. Metaphor: Reading a scroll or book and placing a bookmark to know where to start next.<br>3. Action: Marking position.<br>4. Layout: Sequence. | ### ç¬¬17ç« ï¼šãƒšãƒ¼ã‚¸ãƒ³ã‚°å…¥é–€â‘ ï¼ˆã‚«ãƒ¼ã‚½ãƒ«ã£ã¦ä½•ï¼Ÿï¼‰ğŸ“œğŸ§­ |
| 153 | docs/firebase_firestore_base_ts_index.md | firebase_firestore_base_ts_index_07_ai_app.png | ./picture/firebase_firestore_base_ts_index_07_ai_app.png | **Theme**: AI Enhanced ToDo<br><br>**Labels to Render**:<br>- Note: "Messy Text"<br>- AI: "Format & Tag"<br>- App: "Clean ToDo"<br><br>**Visual Details**:<br>1. Core Concept: AI improving the app data.<br>2. Metaphor: A robot arm organizing messy papers into a neat file.<br>3. Action: Organizing.<br>4. Layout: Transformation flow. | ### ç¬¬20ç« ï¼šç·åˆãƒŸãƒ‹èª²é¡Œï¼ˆToDo/ãƒ¡ãƒ¢å®Œæˆï¼‰ï¼‹AIã§â€œå®Ÿç”¨ã£ã½ã•â€ã‚’è¶³ã™ğŸ¯ğŸ¤–âœ¨ |
| 154 | firebase_firestore_base_ts_study_001.md | firebase_firestore_base_ts_study_001_01_concept.png | ./picture/firebase_firestore_base_ts_study_001_01_concept.png | **Theme**: Firestore Core Concept<br><br>**Labels to Render**:<br>- Feature: "Document DB"<br>- Feature: "Auto Sync"<br>- Feature: "Offline Ready"<br><br>**Visual Details**:<br>1. Core Concept: The key features of Firestore.<br>2. Metaphor: A glowing document icon with a sync symbol and a signal strength icon.<br>3. Action: Syncing.<br>4. Layout: Icon cluster. | ## 1) Firestoreã‚’ä¸€è¨€ã§ã„ã†ã¨ï¼ŸğŸ—£ï¸ğŸ—ƒï¸ |
| 155 | firebase_firestore_base_ts_study_001.md | firebase_firestore_base_ts_study_001_02_box_note.png | ./picture/firebase_firestore_base_ts_study_001_02_box_note.png | **Theme**: Box and Note Metaphor<br><br>**Labels to Render**:<br>- Container: "Collection (Box)"<br>- Item: "Document (Note)"<br>- Content: "Fields"<br><br>**Visual Details**:<br>1. Core Concept: The data structure hierarchy.<br>2. Metaphor: A cardboard box labeled 'todos' with sticky notes inside. One note shows text fields.<br>3. Action: Organizing.<br>4. Layout: 3D composition. | ## 2) â€œç®±ã¨ãƒãƒ¼ãƒˆâ€ã®è¶…ã–ã£ãã‚Šå›³è§£ğŸ“¦ğŸ“ |
| 156 | firebase_firestore_base_ts_study_001.md | firebase_firestore_base_ts_study_001_03_realtime.png | ./picture/firebase_firestore_base_ts_study_001_03_realtime.png | **Theme**: Realtime Snapshot<br><br>**Labels to Render**:<br>- Action: "Add (Tab A)"<br>- Result: "Appear (Tab B)"<br>- Method: "onSnapshot"<br><br>**Visual Details**:<br>1. Core Concept: Instant updates across clients.<br>2. Metaphor: Two screens. An item dropped in one screen instantly pops up in the other.<br>3. Action: Teleportation/Sync.<br>4. Layout: Split screen. | ## 3) Firestoreã®æœ€å¤§ã®æ°—æŒã¡ã‚ˆã•ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ âš¡ğŸ‘€ |
| 157 | firebase_firestore_base_ts_study_001.md | firebase_firestore_base_ts_study_001_04_strengths.png | ./picture/firebase_firestore_base_ts_study_001_04_strengths.png | **Theme**: Strengths and Weaknesses<br><br>**Labels to Render**:<br>- Good: "Realtime UI"<br>- Good: "Flexible Data"<br>- Bad: "Complex JOINs"<br><br>**Visual Details**:<br>1. Core Concept: What Firestore is good and bad at.<br>2. Metaphor: A superhero (Firestore) lifting a UI easily but struggling with a tangled knot of ropes (JOINs).<br>3. Action: Lifting vs Struggling.<br>4. Layout: Comparison. | ## 4) ã˜ã‚ƒã‚ã€Firestoreã¯ä½•ãŒå¾—æ„ï¼Ÿä½•ãŒè‹¦æ‰‹ï¼ŸğŸ¯ğŸ§© |
| 158 | firebase_firestore_base_ts_study_001.md | firebase_firestore_base_ts_study_001_05_cost.png | ./picture/firebase_firestore_base_ts_study_001_05_cost.png | **Theme**: Cost Model<br><br>**Labels to Render**:<br>- Operation: "Read / Write"<br>- Cost: "Money"<br>- Realtime: "Count as Read"<br><br>**Visual Details**:<br>1. Core Concept: Operations incur costs.<br>2. Metaphor: A coin slot or turnstile. Every time data passes, a coin drops.<br>3. Action: Payment.<br>4. Layout: Concept illustration. | ## 5) â€œæ€–ã•â€ã®æ­£ä½“ï¼ã ã„ãŸã„èª²é‡‘ã¨è¨­è¨ˆğŸ˜‡ğŸ’¸ |
| 159 | firebase_firestore_base_ts_study_001.md | firebase_firestore_base_ts_study_001_06_goal.png | ./picture/firebase_firestore_base_ts_study_001_06_goal.png | **Theme**: App Goal Wireframe<br><br>**Labels to Render**:<br>- Screen 1: "List"<br>- Screen 2: "Add"<br>- Screen 3: "Edit"<br><br>**Visual Details**:<br>1. Core Concept: The simple ToDo app to be built.<br>2. Metaphor: Three phone screens showing wireframes of the app functions.<br>3. Action: User flow.<br>4. Layout: Three screens. | ## 6) ã“ã®20ç« ã§ä½œã‚‹å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆä»Šæ—¥è¦‹ãŸã„ã‚´ãƒ¼ãƒ«ï¼‰ğŸ¯âœ¨ |
| 160 | firebase_firestore_base_ts_study_001.md | firebase_firestore_base_ts_study_001_07_ai_assist.png | ./picture/firebase_firestore_base_ts_study_001_07_ai_assist.png | **Theme**: AI Assistance<br><br>**Labels to Render**:<br>- Helper 1: "Firebase AI Logic"<br>- Helper 2: "Antigravity"<br>- Helper 3: "Gemini CLI"<br><br>**Visual Details**:<br>1. Core Concept: Tools helping the developer.<br>2. Metaphor: A developer surrounded by three specialized robot assistants.<br>3. Action: Assisting.<br>4. Layout: Group shot. | ## 7) AIã§â€œç†è§£ã¨ä½œæ¥­â€ã‚’åŠ é€Ÿã™ã‚‹ã‚³ãƒ„ğŸ¤–ğŸ’¨ |
| 161 | firebase_firestore_base_ts_study_002.md | firebase_firestore_base_ts_study_002_01_path.png | ./picture/firebase_firestore_base_ts_study_002_01_path.png | **Theme**: Firestore Path Address<br><br>**Labels to Render**:<br>- Collection: "todos"<br>- Document: "todo_123"<br>- Path: "todos/todo_123"<br><br>**Visual Details**:<br>1. Core Concept: Accessing data via a path.<br>2. Metaphor: A street sign pointing to 'todos' and a house number 'todo_123'.<br>3. Action: Navigation.<br>4. Layout: Signpost. | ## ã¾ãšã¯è¶…ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼šFirestoreã¯ã€Œä½æ‰€ã§ãŸã©ã‚‹ã€ğŸ“®ğŸ  |
| 162 | firebase_firestore_base_ts_study_002.md | firebase_firestore_base_ts_study_002_02_terms.png | ./picture/firebase_firestore_base_ts_study_002_02_terms.png | **Theme**: Terminology Visualization<br><br>**Labels to Render**:<br>- Container: "Collection"<br>- Item: "Document"<br>- Data: "Field"<br><br>**Visual Details**:<br>1. Core Concept: The hierarchy of Collection, Document, Field.<br>2. Metaphor: A filing cabinet (Collection), a folder (Document), and a paper inside (Field).<br>3. Action: Opening.<br>4. Layout: Hierarchy. | ## â‘  ç”¨èªã‚’â€œæ‰‹è§¦ã‚Šâ€ã§è¦šãˆã‚‹ğŸ§ âœ¨ |
| 163 | firebase_firestore_base_ts_study_002.md | firebase_firestore_base_ts_study_002_03_data_shape.png | ./picture/firebase_firestore_base_ts_study_002_03_data_shape.png | **Theme**: ToDo Data Shape<br><br>**Labels to Render**:<br>- Text: "Title"<br>- Check: "Done"<br>- Label: "Tags"<br><br>**Visual Details**:<br>1. Core Concept: The structure of a single ToDo item.<br>2. Metaphor: A blueprint or schema card showing the fields.<br>3. Action: Planning.<br>4. Layout: Card view. | ## â‘¡ ToDoã®ã€Œãƒ‡ãƒ¼ã‚¿ã®å½¢ã€ã‚’æ±ºã‚ã‚ˆã†ğŸ› ï¸ğŸ§© |
| 164 | firebase_firestore_base_ts_study_002.md | firebase_firestore_base_ts_study_002_04_type.png | ./picture/firebase_firestore_base_ts_study_002_04_type.png | **Theme**: TypeScript Type Definition<br><br>**Labels to Render**:<br>- Code: "type TodoDoc"<br>- Prop 1: "title: string"<br>- Prop 2: "done: boolean"<br><br>**Visual Details**:<br>1. Core Concept: Defining the data structure in code.<br>2. Metaphor: A cookie cutter or mold labeled 'TodoDoc' shaping the data.<br>3. Action: Shaping.<br>4. Layout: Code concept. | ## â‘¢ TypeScriptã§ã€Œå‹ã€ã‚’ä½œã£ã¦é ­ã‚’æ•´ç†ã—ã‚ˆã†ğŸ§ âš›ï¸ |
| 165 | firebase_firestore_base_ts_study_002.md | firebase_firestore_base_ts_study_002_05_json.png | ./picture/firebase_firestore_base_ts_study_002_05_json.png | **Theme**: Seed Data JSON<br><br>**Labels to Render**:<br>- ID: "todo_001"<br>- Data: "{ title: 'Buy Milk' }"<br>- Stack: "5 Items"<br><br>**Visual Details**:<br>1. Core Concept: Preparing multiple data items.<br>2. Metaphor: A stack of 5 index cards, each representing a JSON object.<br>3. Action: Stacking.<br>4. Layout: Stack view. | ## â‘£ ã€ŒToDoã‚’5ä»¶ã€JSONã£ã½ãæ›¸ã„ã¦ã¿ã‚ˆã†ğŸ§¾âœï¸ |
| 166 | firebase_firestore_base_ts_study_002.md | firebase_firestore_base_ts_study_002_06_ai_gen.png | ./picture/firebase_firestore_base_ts_study_002_06_ai_gen.png | **Theme**: AI Data Generation<br><br>**Labels to Render**:<br>- Input: "Prompt"<br>- AI: "Generator"<br>- Output: "JSON Data"<br><br>**Visual Details**:<br>1. Core Concept: Using AI to generate sample data.<br>2. Metaphor: A futuristic machine taking a text slip (Prompt) and printing out data cards (JSON).<br>3. Action: Manufacturing.<br>4. Layout: Process flow. | ## â‘¤ AIã§ã€Œãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¡ˆã€ã¨ã€Œã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã€ã‚’ç§’é€Ÿã§ä½œã‚‹ğŸ¤–âš¡ |
| 167 | firebase_firestore_base_ts_study_003.md | firebase_firestore_base_ts_study_003_01_enable.png | ./picture/firebase_firestore_base_ts_study_003_01_enable.png | **Theme**: Enable Firestore UI<br><br>**Labels to Render**:<br>- Menu: "Build"<br>- Item: "Firestore Database"<br>- Button: "Create database"<br><br>**Visual Details**:<br>1. Core Concept: Starting the database creation process.<br>2. Metaphor: Simplified UI mockup of the Firebase Console.<br>3. Action: Clicking the button.<br>4. Layout: UI Focus. | ## 1) Firestore ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ï¼ˆDBã‚’ä½œã‚‹ï¼‰ğŸ› ï¸ğŸ—ƒï¸ |
| 168 | firebase_firestore_base_ts_study_003.md | firebase_firestore_base_ts_study_003_02_location.png | ./picture/firebase_firestore_base_ts_study_003_02_location.png | **Theme**: Region Selection Map<br><br>**Labels to Render**:<br>- Target: "asia-northeast1 (Tokyo)"<br>- Value: "Fast Speed"<br>- Warning: "Cannot Change"<br><br>**Visual Details**:<br>1. Core Concept: Choosing the server location close to users.<br>2. Metaphor: A map with a pin on Tokyo radiating speed lines.<br>3. Action: Selection.<br>4. Layout: Map view. | ## B. â€œãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒªãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰â€ã®é¸æŠï¼ˆã“ã“ã¯æ…é‡ã«ï¼ï¼‰ğŸ—¾ |
| 169 | firebase_firestore_base_ts_study_003.md | firebase_firestore_base_ts_study_003_03_add_data.png | ./picture/firebase_firestore_base_ts_study_003_03_add_data.png | **Theme**: Add Data UI<br><br>**Labels to Render**:<br>- Collection: "todos"<br>- ID: "Auto-ID"<br>- Field: "title: 'Buy Milk'"<br><br>**Visual Details**:<br>1. Core Concept: Manually adding a document.<br>2. Metaphor: A form being filled out in the console.<br>3. Action: Typing.<br>4. Layout: Modal UI. | ## 2) Consoleã§ `todos` ã‚’ä½œã£ã¦ã€ToDoã‚’1ä»¶å…¥ã‚Œã‚‹â•ğŸ“„ |
| 170 | firebase_firestore_base_ts_study_003.md | firebase_firestore_base_ts_study_003_04_add_3.png | ./picture/firebase_firestore_base_ts_study_003_04_add_3.png | **Theme**: Three ToDo Items<br><br>**Labels to Render**:<br>- Item 1: "Laundry"<br>- Item 2: "Bills"<br>- Item 3: "Walk"<br><br>**Visual Details**:<br>1. Core Concept: Populating the database with test data.<br>2. Metaphor: Three cards or rows appearing in the list.<br>3. Action: Populating.<br>4. Layout: List view. | ## 3) ãƒŸãƒ‹èª²é¡Œï¼š`done:false` ã‚’3ä»¶å…¥ã‚Œã¦ã¿ã‚ˆã†ğŸ§©âœ…âœ…âœ… |
| 171 | firebase_firestore_base_ts_study_003.md | firebase_firestore_base_ts_study_003_05_nav.png | ./picture/firebase_firestore_base_ts_study_003_05_nav.png | **Theme**: Console 3-Pane View<br><br>**Labels to Render**:<br>- Col 1: "Collection (todos)"<br>- Col 2: "Document (ID)"<br>- Col 3: "Fields (Data)"<br><br>**Visual Details**:<br>1. Core Concept: Understanding the 3-column layout.<br>2. Metaphor: A tri-fold brochure or 3 distinct columns.<br>3. Action: Navigation.<br>4. Layout: 3-column layout. | ## 4) ãƒã‚§ãƒƒã‚¯ï¼šConsoleã§è¿·å­ã«ãªã‚‰ãªã„ã‹ç¢ºèªğŸ§­ğŸ‘€ |
| 172 | firebase_firestore_base_ts_study_003.md | firebase_firestore_base_ts_study_003_06_rules.png | ./picture/firebase_firestore_base_ts_study_003_06_rules.png | **Theme**: Rules Tab Glance<br><br>**Labels to Render**:<br>- Tab: "Rules"<br>- Icon: "Lock"<br>- Code: "allow read, write"<br><br>**Visual Details**:<br>1. Core Concept: Security rules location.<br>2. Metaphor: Peeking through a door labeled 'Rules' with a lock on it.<br>3. Action: Peeking.<br>4. Layout: Tab focus. | ## 5) ã¡ã‚‡ã„æ€–ãƒã‚¤ãƒ³ãƒˆï¼šRulesï¼ˆãƒ«ãƒ¼ãƒ«ï¼‰ã‚’â€œçœºã‚ã‚‹ã ã‘â€ğŸ”’ğŸ‘€ |
| 173 | firebase_firestore_base_ts_study_003.md | firebase_firestore_base_ts_study_003_07_ai_agent.png | ./picture/firebase_firestore_base_ts_study_003_07_ai_agent.png | **Theme**: AI Console Helper<br><br>**Labels to Render**:<br>- Human: "Where is Tokyo?"<br>- AI: "Select asia-northeast1"<br>- Tool: "Antigravity"<br><br>**Visual Details**:<br>1. Core Concept: AI guiding the console setup.<br>2. Metaphor: An AI avatar pointing to the correct dropdown menu on a screen.<br>3. Action: Guiding.<br>4. Layout: Over-the-shoulder view. | ## 6) AIã§æ™‚çŸ­ã‚³ãƒ¼ãƒŠãƒ¼ğŸ¤–ğŸ’¨ï¼ˆAntigravity / Gemini CLI ã‚’â€œä¸‹èª¿ã¹ä¿‚â€ã«ã™ã‚‹ï¼‰ |
| 174 | firebase_firestore_base_ts_study_004.md | firebase_firestore_base_ts_study_004_01_architecture.png | ./picture/firebase_firestore_base_ts_study_004_01_architecture.png | **Theme**: React to Firestore Architecture\n\n**Labels to Render**:\n- React App: "Reactã‚¢ãƒ—ãƒª"\n- Firebase SDK: "Firebase SDK"\n- Firestore: "Firestore"\n\n**Visual Details**:\n1. Core Concept: Connection flow.\n2. Metaphor: Flowchart.\n3. Action: React App connects to Firebase SDK which talks to Firestore.\n4. Layout: Left (React) -> Middle (SDK) -> Right (Firestore). Arrows connecting them. | ## 1) å…¨ä½“åƒã‚’10ç§’ã§ã¤ã‹ã‚€ |
| 175 | firebase_firestore_base_ts_study_004.md | firebase_firestore_base_ts_study_004_02_init_flow.png | ./picture/firebase_firestore_base_ts_study_004_02_init_flow.png | **Theme**: Initialization Steps\n\n**Labels to Render**:\n- Console: "ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç™»éŒ²"\n- Config: "è¨­å®šå€¤ (Config)"\n- Code: "åˆæœŸåŒ–ã‚³ãƒ¼ãƒ‰"\n\n**Visual Details**:\n1. Core Concept: Setup process.\n2. Metaphor: Steps 1, 2, 3.\n3. Action: obtaining config from console and using it in code.\n4. Layout: Top to bottom flow. | ## 2) Firebaseã‚³ãƒ³ã‚½ãƒ¼ãƒ«å´ï¼šWebã‚¢ãƒ—ãƒªç™»éŒ² |
| 176 | firebase_firestore_base_ts_study_004.md | firebase_firestore_base_ts_study_004_03_file_structure.png | ./picture/firebase_firestore_base_ts_study_004_03_file_structure.png | **Theme**: Recommended File Structure\n\n**Labels to Render**:\n- src/lib/firebase.ts: "åˆæœŸåŒ–ãƒ•ã‚¡ã‚¤ãƒ«"\n- Components: "å„ç”»é¢ (UI)"\n- Import: "import db"\n\n**Visual Details**:\n1. Core Concept: Centralized initialization.\n2. Metaphor: Hub and Spoke.\n3. Action: One central file (firebase.ts) being imported by multiple UI components.\n4. Layout: Center (firebase.ts) with arrows pointing out to UI components. | ## 4) è¨­è¨ˆã®ã‚³ãƒ„ï¼šåˆæœŸåŒ–ã¯ |
| 177 | firebase_firestore_base_ts_study_004.md | firebase_firestore_base_ts_study_004_04_fetch_flow.png | ./picture/firebase_firestore_base_ts_study_004_04_fetch_flow.png | **Theme**: Data Fetching Flow\n\n**Labels to Render**:\n- App: "ã‚¢ãƒ—ãƒª"\n- getDocs: "getDocs()"\n- Collection: "todosã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³"\n- Data: "ãƒ‡ãƒ¼ã‚¿ (0ä»¶)"\n\n**Visual Details**:\n1. Core Concept: Fetching data.\n2. Metaphor: Request/Response.\n3. Action: App sends request via getDocs, Firestore checks collection, returns empty list (0 items).\n4. Layout: Left (App) -> Arrow (getDocs) -> Right (Firestore Collection). | getDocs(collection(db, "todos")) |
| 178 | firebase_firestore_base_ts_study_004.md | firebase_firestore_base_ts_study_004_05_ui_states.png | ./picture/firebase_firestore_base_ts_study_004_05_ui_states.png | **Theme**: UI Loading States\n\n**Labels to Render**:\n- Loading: "èª­ã¿è¾¼ã¿ä¸­ (True)"\n- Fetching: "ãƒ‡ãƒ¼ã‚¿å–å¾—å®Œäº†"\n- Display: "è¡¨ç¤º (False)"\n\n**Visual Details**:\n1. Core Concept: State transition.\n2. Metaphor: Timeline or State Machine.\n3. Action: Initial state is Loading=True, then data arrives, Loading becomes False.\n4. Layout: Horizontal timeline showing the transition. | const [loading, setLoading] = useState(true); |
| 179 | firebase_firestore_base_ts_study_004.md | firebase_firestore_base_ts_study_004_06_env_vars.png | ./picture/firebase_firestore_base_ts_study_004_06_env_vars.png | **Theme**: Environment Variables\n\n**Labels to Render**:\n- .env.local: ".env.local"\n- Vite: "Vite"\n- App: "ã‚¢ãƒ—ãƒª"\n- Key: "APIã‚­ãƒ¼"\n\n**Visual Details**:\n1. Core Concept: Secure configuration injection.\n2. Metaphor: Key into Lock or Injection.\n3. Action: Values from .env.local are injected into the App by Vite.\n4. Layout: File (.env) -> Vite Process -> App. | ## 5) .env.local ã«è¨­å®šå€¤ã‚’ |
| 180 | firebase_firestore_base_ts_study_005.md | firebase_firestore_base_ts_study_005_01_add_vs_set.png | ./picture/firebase_firestore_base_ts_study_005_01_add_vs_set.png | **Theme**: addDoc vs setDoc\n\n**Labels to Render**:\n- addDoc: "addDoc (è‡ªå‹•ID)"\n- setDoc: "setDoc (å›ºå®šID)"\n- Firestore: "Firestore"\n- ID: "ID"\n\n**Visual Details**:\n1. Core Concept: ID generation responsibility.\n2. Metaphor: Ticket Machine vs Reserved Seat.\n3. Action: addDoc gets a random ticket from machine. setDoc puts item in a specific numbered slot.\n4. Layout: Split comparison. Left: addDoc flow. Right: setDoc flow. | ## 1) addDoc ã¨ setDoc ã®é•ã„ã‚’ |
| 181 | firebase_firestore_base_ts_study_005.md | firebase_firestore_base_ts_study_005_02_data_structure.png | ./picture/firebase_firestore_base_ts_study_005_02_data_structure.png | **Theme**: Todo Data Structure\n\n**Labels to Render**:\n- Todo: "Todoãƒ‡ãƒ¼ã‚¿"\n- title: "title (String)"\n- done: "done (Boolean)"\n- createdAt: "createdAt (Number)"\n- id: "id (String)"\n\n**Visual Details**:\n1. Core Concept: Schema definition.\n2. Metaphor: Blueprint or Card.\n3. Action: Visualizing the fields of a Todo object.\n4. Layout: A card showing the structure with types. | ## 2) ä»Šå›ä½œã‚‹ToDoãƒ‡ãƒ¼ã‚¿ã®å½¢ |
| 182 | firebase_firestore_base_ts_study_005.md | firebase_firestore_base_ts_study_005_03_form_validation.png | ./picture/firebase_firestore_base_ts_study_005_03_form_validation.png | **Theme**: Form Validation Logic\n\n**Labels to Render**:\n- Input: "å…¥åŠ› (Title)"\n- Check: "ãƒã‚§ãƒƒã‚¯ (Trim/Length)"\n- OK: "OK -> é€ä¿¡"\n- NG: "NG -> ã‚¨ãƒ©ãƒ¼è¡¨ç¤º"\n\n**Visual Details**:\n1. Core Concept: Filtering bad input.\n2. Metaphor: Gatekeeper or Filter.\n3. Action: Text enters, passes through filter. Valid text goes to DB, invalid bounces back.\n4. Layout: Flowchart: Input -> Diamond (Valid?) -> Yes/No paths. | ## 4-1) æœ€å°ã®è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ  |
| 183 | firebase_firestore_base_ts_study_005.md | firebase_firestore_base_ts_study_005_04_pre_gen_id.png | ./picture/firebase_firestore_base_ts_study_005_04_pre_gen_id.png | **Theme**: Pre-generating ID\n\n**Labels to Render**:\n- Client: "ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ"\n- Generate: "IDç”Ÿæˆ (doc())"\n- ID: "ID: xyz123"\n- Save: "ä¿å­˜ (setDoc)"\n\n**Visual Details**:\n1. Core Concept: Separating ID creation from saving.\n2. Metaphor: Printing label before packing box.\n3. Action: Client creates an ID locally, then sends data + ID to Firestore.\n4. Layout: Timeline: 1. Make ID -> 2. Use ID for file upload/etc -> 3. Save to DB. | ## 6) â€œè‡ªå‹•IDãŒæ¬²ã—ã„ã‘ã© |
| 184 | firebase_firestore_base_ts_study_005.md | firebase_firestore_base_ts_study_005_05_ai_suggest.png | ./picture/firebase_firestore_base_ts_study_005_05_ai_suggest.png | **Theme**: AI Suggestion Flow\n\n**Labels to Render**:\n- User: "ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›"\n- AI: "Gemini (AI Logic)"\n- Suggestion: "ææ¡ˆã‚¿ã‚¤ãƒˆãƒ«"\n- Form: "ãƒ•ã‚©ãƒ¼ãƒ åæ˜ "\n\n**Visual Details**:\n1. Core Concept: AI assistance.\n2. Metaphor: Brainstorming partner.\n3. Action: User types "milk", AI suggests "Buy Milk ğŸ¥›", Form updates.\n4. Layout: Cycle: Input -> AI -> Output -> Form. | ## 8) ğŸ¤–AIã§â€œå…¥åŠ›â€ã‚’æ¥½ã«ã™ã‚‹ |
| 185 | firebase_firestore_base_ts_study_006.md | firebase_firestore_base_ts_study_006_01_getdoc_flow.png | ./picture/firebase_firestore_base_ts_study_006_01_getdoc_flow.png | **Theme**: Single Document Fetch\n\n**Labels to Render**:\n- Ref: "doc(ref)"\n- Fetch: "getDoc()"\n- Result: "Snapshot"\n- Data: "Data (exists)"\n\n**Visual Details**:\n1. Core Concept: Fetching a specific item.\n2. Metaphor: Picking a specific book from a shelf.\n3. Action: Hand points to one book (doc ref), pulls it out (getDoc), checks cover (exists?).\n4. Layout: Linear flow: Ref -> Fetch -> Snapshot. | ## 1) ã¾ãšèª­ã‚€ï¼šgetDoc() ã®è€ƒãˆæ–¹ |
| 186 | firebase_firestore_base_ts_study_006.md | firebase_firestore_base_ts_study_006_02_exists_check.png | ./picture/firebase_firestore_base_ts_study_006_02_exists_check.png | **Theme**: Existence Check Logic\n\n**Labels to Render**:\n- Snapshot: "Snapshot"\n- Check: "exists()?"\n- Yes: "True -> data()"\n- No: "False -> null"\n\n**Visual Details**:\n1. Core Concept: Branching logic.\n2. Metaphor: Fork in the road or Opening a box.\n3. Action: Check if box has content. If yes, take data. If no, empty.\n4. Layout: Diamond decision tree. | // âœ… å­˜åœ¨ãƒã‚§ãƒƒã‚¯ |
| 187 | firebase_firestore_base_ts_study_006.md | firebase_firestore_base_ts_study_006_03_routing.png | ./picture/firebase_firestore_base_ts_study_006_03_routing.png | **Theme**: Routing to Detail\n\n**Labels to Render**:\n- URL: "/todos/:todoId"\n- Params: "todoId = 123"\n- Page: "TodoDetailPage"\n- Fetch: "getTodoById('123')"\n\n**Visual Details**:\n1. Core Concept: URL parameter extraction.\n2. Metaphor: Address reading.\n3. Action: Browser URL feeds into Page Component, which extracts ID and calls API.\n4. Layout: Top (URL) -> Arrow down (Page) -> Arrow right (API). | ## 2-4. ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«è¿½åŠ ã™ã‚‹ |
| 188 | firebase_firestore_base_ts_study_006.md | firebase_firestore_base_ts_study_006_04_detail_states.png | ./picture/firebase_firestore_base_ts_study_006_04_detail_states.png | **Theme**: Detail Page States\n\n**Labels to Render**:\n- Loading: "Loading â³"\n- Loaded: "Loaded (Data) ğŸ“„"\n- Not Found: "Not Found ğŸ™…â€â™‚ï¸"\n- Error: "Error ğŸ˜­"\n\n**Visual Details**:\n1. Core Concept: UI State Machine.\n2. Metaphor: 4 different screens or faces.\n3. Action: Component can be in one of these 4 states based on API result.\n4. Layout: A grid of 4 small screens showing each state. | type LoadState = |
| 189 | firebase_firestore_base_ts_study_007.md | firebase_firestore_base_ts_study_007_01_snapshot_concept.png | ./picture/firebase_firestore_base_ts_study_007_01_snapshot_concept.png | **Theme**: Snapshot Concept\n\n**Labels to Render**:\n- DB State: "DBã®çŠ¶æ…‹ (10:00)"\n- Camera: "getDocs (ãƒ‘ã‚·ãƒ£ãƒƒ!)"\n- Photo: "Snapshot (10:00ã®ã¾ã¾)"\n- Change: "DBãŒå¤‰ã‚ã£ã¦ã‚‚... (10:01)"\n\n**Visual Details**:\n1. Core Concept: Immutable data at a point in time.\n2. Metaphor: Photography.\n3. Action: Camera takes a picture of a scene. The scene changes later, but the photo remains the same.\n4. Layout: Left (Scene) -> Middle (Camera) -> Right (Photo). | ## âœ… getDocsã¯ã€Œä»Šã“ã®ç¬é–“ã®ä¸€è¦§ã‚’ |
| 190 | firebase_firestore_base_ts_study_007.md | firebase_firestore_base_ts_study_007_02_data_mapping.png | ./picture/firebase_firestore_base_ts_study_007_02_data_mapping.png | **Theme**: Data Mapping\n\n**Labels to Render**:\n- QuerySnapshot: "QuerySnapshot"\n- docs: "docs[]"\n- Map: ".map()"\n- Array: "Todo[] (Array)"\n- Object: "{ id, ...data }"\n\n**Visual Details**:\n1. Core Concept: Transforming raw data to app data.\n2. Metaphor: Factory line or Unpacking.\n3. Action: Raw docs enter a machine (map) which extracts ID and Data, and outputs clean Objects into an Array box.\n4. Layout: Top (Snapshot) -> Middle (Process) -> Bottom (Result Array). | snap.docs.map((d) => { |
| 191 | firebase_firestore_base_ts_study_007.md | firebase_firestore_base_ts_study_007_03_list_render.png | ./picture/firebase_firestore_base_ts_study_007_03_list_render.png | **Theme**: List Rendering\n\n**Labels to Render**:\n- Array: "Todo[] (3 items)"\n- React: "React (.map)"\n- DOM: "<ul><li>...</li></ul>"\n- UI: "ç”»é¢"\n\n**Visual Details**:\n1. Core Concept: Data to UI.\n2. Metaphor: Projector or Printing.\n3. Action: Array items are projected onto the screen as list items.\n4. Layout: Left (Code/Array) -> Arrow -> Right (UI List). | ## 2-3) Reactã§ä¸€è¦§ãƒšãƒ¼ã‚¸ã‚’ä½œã‚‹ |
| 192 | firebase_firestore_base_ts_study_007.md | firebase_firestore_base_ts_study_007_04_empty_state.png | ./picture/firebase_firestore_base_ts_study_007_04_empty_state.png | **Theme**: Empty State Debugging\n\n**Labels to Render**:\n- App: "App"\n- Firestore: "Firestore"\n- Collection: "Collection?"\n- Empty: "0 documents"\n- Result: "0ä»¶ (æ­£å¸¸)"\n\n**Visual Details**:\n1. Core Concept: Distinguishing "No Data" from "Error".\n2. Metaphor: Empty Box.\n3. Action: App asks for items. Firestore shows an empty box. App displays "0 items".\n4. Layout: Interaction flow showing the empty result is valid. | ## âŒ â‘  ä¸€è¦§ãŒ0ä»¶ã®ã¾ã¾ |
| 193 | firebase_firestore_base_ts_study_008.md | firebase_firestore_base_ts_study_008_01_update_methods.png | ./picture/firebase_firestore_base_ts_study_008_01_update_methods.png | **Theme**: Update Methods Comparison\n\n**Labels to Render**:\n- updateDoc: "updateDoc (Part)"\n- setDoc: "setDoc (Replace)"\n- setDoc Merge: "setDoc Merge (Upsert)"\n- Target: "Document"\n\n**Visual Details**:\n1. Core Concept: Three ways to write.\n2. Metaphor: Painting.\n3. Action: updateDoc touches up a spot. setDoc paints over the whole canvas. setDoc Merge adds a new color without erasing others.\n4. Layout: Three panels side-by-side. | ## 0) ã¾ãšçµè«–ï¼šæ›´æ–°ã¯ã“ã®3ã¤ã‚’ |
| 194 | firebase_firestore_base_ts_study_008.md | firebase_firestore_base_ts_study_008_02_overwrite_accident.png | ./picture/firebase_firestore_base_ts_study_008_02_overwrite_accident.png | **Theme**: Overwrite Accident\n\n**Labels to Render**:\n- Before: "{ title, done, tags }"\n- setDoc: "setDoc({ title })"\n- After: "{ title } ğŸ˜±"\n- Tags: "tags: Gone!"\n\n**Visual Details**:\n1. Core Concept: Accidental data loss.\n2. Metaphor: Overwriting a file or wiping a whiteboard.\n3. Action: A document with 3 fields gets replaced by a document with only 1 field. The other fields vanish.\n4. Layout: Before -> Action -> After (with shock reaction). | ## 1) äº‹æ•…ã‚‹ä¾‹ï¼šã€ŒtagsãŒæ¶ˆãˆãŸ |
| 195 | firebase_firestore_base_ts_study_008.md | firebase_firestore_base_ts_study_008_03_updatedoc_safety.png | ./picture/firebase_firestore_base_ts_study_008_03_updatedoc_safety.png | **Theme**: UpdateDoc Safety\n\n**Labels to Render**:\n- Before: "{ title, done, tags }"\n- updateDoc: "updateDoc({ title })"\n- After: "{ title (new), done, tags } âœ…"\n- Safe: "Safe!"\n\n**Visual Details**:\n1. Core Concept: Safe partial update.\n2. Metaphor: Surgical precision.\n3. Action: Only the title field changes. Other fields remain untouched.\n4. Layout: Before -> Action -> After (showing all fields preserved). | ## 2-1) æ›´æ–°ç”¨ã®é–¢æ•°ã‚’ä½œã‚‹ |
| 196 | firebase_firestore_base_ts_study_008.md | firebase_firestore_base_ts_study_008_04_merge_true.png | ./picture/firebase_firestore_base_ts_study_008_04_merge_true.png | **Theme**: setDoc Merge\n\n**Labels to Render**:\n- Document: "Doc (Empty or Exists)"\n- setDoc: "setDoc({ theme }, { merge: true })"\n- Result: "Doc + { theme }"\n- Upsert: "Upsert!"\n\n**Visual Details**:\n1. Core Concept: Create if not exists, update if exists.\n2. Metaphor: Pouring into a cup.\n3. Action: If cup is there, add liquid. If not, put cup then add liquid.\n4. Layout: Two scenarios: "No Doc" -> "Created". "Doc Exists" -> "Updated". | ## 3) setDoc(..., { merge: true }) |
| 197 | firebase_firestore_base_ts_study_008.md | firebase_firestore_base_ts_study_008_05_dot_notation.png | ./picture/firebase_firestore_base_ts_study_008_05_dot_notation.png | **Theme**: Dot Notation\n\n**Labels to Render**:\n- Object: "prefs: { theme, lang }"\n- Bad: "update({ prefs: { theme } }) -> lang Gone!"\n- Good: "update({ 'prefs.theme': ... }) -> lang Safe!"\n- Dot: "Dot Notation"\n\n**Visual Details**:\n1. Core Concept: Nested update safety.\n2. Metaphor: Drill bit vs Sledgehammer.\n3. Action: Bad update replaces the whole object. Good update targets specific property inside object.\n4. Layout: Bad Path (Red) vs Good Path (Green). | ## 4) ãƒã‚¹ãƒˆï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã®å®‰å…¨æ›´æ–° |
| 198 | firebase_firestore_base_ts_study_008.md | firebase_firestore_base_ts_study_008_06_ai_correction.png | ./picture/firebase_firestore_base_ts_study_008_06_ai_correction.png | **Theme**: AI Text Correction\n\n**Labels to Render**:\n- Input: "User: '  mIlK  '"\n- AI: "AI: 'Milk ğŸ¥›'"\n- Firestore: "DB: 'Milk ğŸ¥›'"\n- Correction: "Auto-Fix"\n\n**Visual Details**:\n1. Core Concept: AI as a pre-processor.\n2. Metaphor: Cleaning filter.\n3. Action: Messy text goes into AI, clean text comes out and goes to DB.\n4. Layout: Left (Input) -> Middle (AI) -> Right (DB). | ## 6-1) ä¾‹ï¼šã‚¿ã‚¤ãƒˆãƒ«ã‚’AIã«æ•´å½¢ã•ã›ã¦ã‹ã‚‰ |
| 199 | firebase_firestore_base_ts_study_009.md | firebase_firestore_base_ts_study_009_01_update_methods_overview.png | ./picture/firebase_firestore_base_ts_study_009_01_update_methods_overview.png | **Theme**: Update Methods Overview<br><br>**Labels to Render**:<br>- Boolean: "Switch (Toggle)"<br>- Array: "Basket (Union/Remove)"<br>- Number: "Counter (Increment)"<br><br>**Visual Details**:<br>1. Core Concept: Three powerful update tools.<br>2. Metaphor: A toolbox with 3 compartments.<br>3. Action: Displaying the tools.<br>4. Layout: Triptych (Three panels). | ## 9-1ï¼‰ã“ã®ç« ã§ä½¿ã†â€œä¾¿åˆ©æ›´æ–°â€ã®æ­¦å™¨ãŸã¡ğŸ§°âœ¨ |
| 200 | firebase_firestore_base_ts_study_009.md | firebase_firestore_base_ts_study_009_02_toggle_done.png | ./picture/firebase_firestore_base_ts_study_009_02_toggle_done.png | **Theme**: Toggle Logic<br><br>**Labels to Render**:<br>- State A: "done: false"<br>- Action: "Click"<br>- State B: "done: true"<br><br>**Visual Details**:<br>1. Core Concept: Flipping a boolean state.<br>2. Metaphor: A light switch flipping on/off or a checkbox getting checked.<br>3. Action: Flipping/Checking.<br>4. Layout: Before -> Action -> After. | ## 9-2ï¼‰å®Ÿè£…â‘ ï¼šdone ã‚’ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§åˆ‡ã‚Šæ›¿ãˆâœ…ğŸ–±ï¸ |
| 201 | firebase_firestore_base_ts_study_009.md | firebase_firestore_base_ts_study_009_03_array_union_remove.png | ./picture/firebase_firestore_base_ts_study_009_03_array_union_remove.png | **Theme**: Array Operations<br><br>**Labels to Render**:<br>- Union: "Add (Unique)"<br>- Remove: "Delete"<br>- Array: "Tags []"<br><br>**Visual Details**:<br>1. Core Concept: Adding unique items and removing items.<br>2. Metaphor: Putting a ball into a basket (rejecting if duplicate exists) vs taking a ball out.<br>3. Action: Adding/Removing.<br>4. Layout: Two contrasting actions. | ## 9-3ï¼‰å®Ÿè£…â‘¡ï¼šã‚¿ã‚°é…åˆ—ã‚’è¿½åŠ ãƒ»å‰Šé™¤ã™ã‚‹ğŸ·ï¸ğŸ§© |
| 202 | firebase_firestore_base_ts_study_009.md | firebase_firestore_base_ts_study_009_04_increment_counter.png | ./picture/firebase_firestore_base_ts_study_009_04_increment_counter.png | **Theme**: Atomic Increment<br><br>**Labels to Render**:<br>- User A: "Click (+1)"<br>- User B: "Click (+1)"<br>- Server: "Count: 10 -> 12"<br>- Safe: "Atomic"<br><br>**Visual Details**:<br>1. Core Concept: Safe counting even with concurrent updates.<br>2. Metaphor: Two hands pressing a big button simultaneously. The counter jumps correctly by 2.<br>3. Action: Concurrent clicking.<br>4. Layout: Convergence to server. | ## 9-4ï¼‰å®Ÿè£…â‘¢ï¼šæ•°å€¤ã‚«ã‚¦ãƒ³ã‚¿ã‚’ +1 / -1 ã™ã‚‹ğŸ“ˆğŸ‘ |
| 203 | firebase_firestore_base_ts_study_009.md | firebase_firestore_base_ts_study_009_05_ai_tag_flow.png | ./picture/firebase_firestore_base_ts_study_009_05_ai_tag_flow.png | **Theme**: AI Tag Suggestion Flow<br><br>**Labels to Render**:<br>- Input: "Title: Buy Milk"<br>- AI: "Analyze"<br>- Output: "Tags: [Shopping, Food]"<br><br>**Visual Details**:<br>1. Core Concept: AI analyzing text to create tags.<br>2. Metaphor: Text going into a robot brain, and structured tag cards coming out.<br>3. Action: Processing.<br>4. Layout: Left-to-right flow. | ## 9-5ï¼‰AIã§â€œã‚¿ã‚°ææ¡ˆâ€ã‚’ã‚„ã£ã¦ã¿ã‚ˆã†ğŸ¤–ğŸ·ï¸ï¼ˆFirebase AI Logicï¼‰ |
| 204 | firebase_firestore_base_ts_study_009.md | firebase_firestore_base_ts_study_009_06_agent_split.png | ./picture/firebase_firestore_base_ts_study_009_06_agent_split.png | **Theme**: Agent Role Split<br><br>**Labels to Render**:<br>- Agent A: "UI Task"<br>- Agent B: "Logic Task"<br>- Agent C: "AI Task"<br><br>**Visual Details**:<br>1. Core Concept: Dividing work among specialized agents.<br>2. Metaphor: A team of 3 robots, each holding a different tool (Paintbrush, Wrench, Brain).<br>3. Action: Collaboration.<br>4. Layout: Team lineup. | ## 9-6ï¼‰Antigravity / Gemini CLI ã§â€œå®Ÿè£…ã‚¹ãƒ”ãƒ¼ãƒ‰â€ã‚’ä¸Šã’ã‚‹ğŸš€ğŸ§  |
| 205 | firebase_firestore_base_ts_study_010.md | firebase_firestore_base_ts_study_010_01_delete_flow.png | ./picture/firebase_firestore_base_ts_study_010_01_delete_flow.png | **Theme**: Safe Delete Flow<br><br>**Labels to Render**:<br>- User: "Click Delete"<br>- System: "Confirm Dialog"<br>- Firestore: "deleteDoc()"<br>- UI: "Remove Item"<br><br>**Visual Details**:<br>1. Core Concept: The sequence of a safe delete operation.<br>2. Metaphor: A flow chart with a stop sign at the confirmation step.<br>3. Action: Flowing through the gate.<br>4. Layout: Left-to-right flow. | ## 2) å®Ÿè£…ã®å…¨ä½“åƒï¼ˆä»Šæ—¥ã‚„ã‚‹ã“ã¨ï¼‰ğŸ§©ğŸ§° |
| 206 | firebase_firestore_base_ts_study_010.md | firebase_firestore_base_ts_study_010_02_safety_mechanism.png | ./picture/firebase_firestore_base_ts_study_010_02_safety_mechanism.png | **Theme**: Safety Mechanisms<br><br>**Labels to Render**:<br>- Dialog: "Confirm?"<br>- Button: "Disabled (Loading)"<br>- Log: "Error Handling"<br><br>**Visual Details**:<br>1. Core Concept: Multiple layers of safety.<br>2. Metaphor: A shield protecting the delete button, and a safety latch (dialog).<br>3. Action: Blocking accidental clicks.<br>4. Layout: Layered defense. | ## 0) ã¾ãšå¤§äº‹ï¼šå‰Šé™¤ã¯ã€Œä¸€ç•ªå–ã‚Šè¿”ã—ãŒã¤ã‹ãªã„ã€âš ï¸ğŸ˜± |
| 207 | firebase_firestore_base_ts_study_010.md | firebase_firestore_base_ts_study_010_03_subcollection_trap.png | ./picture/firebase_firestore_base_ts_study_010_03_subcollection_trap.png | **Theme**: Subcollection Ghost<br><br>**Labels to Render**:<br>- Parent: "Deleted (X)"<br>- Subcollection: "Alive (Ghost)"<br>- Access: "Path Valid"<br><br>**Visual Details**:<br>1. Core Concept: Deleting a document does not delete its subcollections.<br>2. Metaphor: A house demolished, but the basement (subcollection) remains intact underground.<br>3. Action: House vanishing.<br>4. Layout: Above/Below ground. | ## B) ã€Œè¦ªã‚’æ¶ˆã—ãŸã®ã«ã‚µãƒ–ã‚³ãƒ¬ãŒæ®‹ã‚‹â€¦ã€ğŸ‘» |
| 208 | firebase_firestore_base_ts_study_010.md | firebase_firestore_base_ts_study_010_04_ui_feedback.png | ./picture/firebase_firestore_base_ts_study_010_04_ui_feedback.png | **Theme**: Delete Button States<br><br>**Labels to Render**:<br>- Normal: "Delete"<br>- Deleting: "Deleting... (Disabled)"<br>- Done: "Gone"<br><br>**Visual Details**:<br>1. Core Concept: Visual feedback during the delete process.<br>2. Metaphor: A button changing form: Solid -> Gray/Spinning -> Vanishing.<br>3. Action: Transition.<br>4. Layout: Sequence of 3 buttons. | ## 4-1) çŠ¶æ…‹ï¼ˆå‰Šé™¤ä¸­IDï¼‰ã‚’æŒã¤ğŸ”’ |
| 209 | firebase_firestore_base_ts_study_010.md | firebase_firestore_base_ts_study_010_05_ai_confirm.png | ./picture/firebase_firestore_base_ts_study_010_05_ai_confirm.png | **Theme**: AI Warning Message<br><br>**Labels to Render**:<br>- ToDo: "Title: Secret Plans"<br>- AI: "Review"<br>- Warning: "Are you sure you want to delete 'Secret Plans'?"<br><br>**Visual Details**:<br>1. Core Concept: AI generating a custom warning message.<br>2. Metaphor: An AI robot holding up a personalized warning sign.<br>3. Action: Warning.<br>4. Layout: Contextual flow. | ## 8) ğŸ”¥AIã§â€œå‰Šé™¤äº‹æ•…â€ã‚’æ¸›ã‚‰ã™ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ğŸ¤–ğŸ§  |
| 210 | firebase_firestore_base_ts_study_011.md | firebase_firestore_base_ts_study_011_01_server_vs_client.png | ./picture/firebase_firestore_base_ts_study_011_01_server_vs_client.png | **Theme**: Server vs Client Time<br><br>**Labels to Render**:<br>- Client A: "10:05 (Fast)"<br>- Client B: "09:55 (Slow)"<br>- Server: "10:00 (Truth)"<br><br>**Visual Details**:<br>1. Core Concept: Relying on server time for consistency.<br>2. Metaphor: Three clocks. Clients are out of sync, Server is the master clock.<br>3. Action: Clients syncing to server.<br>4. Layout: Triangle with Server at top. | ## 1) ã¾ãšçµè«–ï¼šæ™‚åˆ»ã¯ã€Œã‚µãƒ¼ãƒãƒ¼æ™‚åˆ»ã€ã‚’ä½¿ã†ã®ãŒå®‰å®šâ±ï¸ğŸŒ |
| 211 | firebase_firestore_base_ts_study_011.md | firebase_firestore_base_ts_study_011_02_timestamp_obj.png | ./picture/firebase_firestore_base_ts_study_011_02_timestamp_obj.png | **Theme**: Timestamp Object<br><br>**Labels to Render**:<br>- Field 1: "Seconds (Epoch)"<br>- Field 2: "Nanoseconds"<br>- Func: "toDate()"<br>- Object: "Timestamp"<br><br>**Visual Details**:<br>1. Core Concept: The structure of a Firestore Timestamp.<br>2. Metaphor: A data capsule with two compartments (seconds, nanoseconds) and a converter button (toDate).<br>3. Action: Displaying structure.<br>4. Layout: Exploded view. | ## 2) ã€ŒTimestampã€ã£ã¦ä½•ï¼ŸğŸ¤”ğŸ§¾ |
| 212 | firebase_firestore_base_ts_study_011.md | firebase_firestore_base_ts_study_011_03_timeline.png | ./picture/firebase_firestore_base_ts_study_011_03_timeline.png | **Theme**: CreatedAt vs UpdatedAt<br><br>**Labels to Render**:<br>- Start: "Create (createdAt = 10:00)"<br>- Step 2: "Update 1 (updatedAt = 10:05)"<br>- Step 3: "Update 2 (updatedAt = 10:30)"<br>- Fixed: "createdAt (No Change)"<br><br>**Visual Details**:<br>1. Core Concept: createdAt stays fixed, updatedAt moves forward.<br>2. Metaphor: A timeline. A flag planted at the start (createdAt) and a runner moving forward (updatedAt).<br>3. Action: Moving forward.<br>4. Layout: Horizontal timeline. | ## 4) å®Ÿè£…â‘¡ï¼šè¿½åŠ æ™‚ã« createdAt / updatedAt ã‚’å…¥ã‚Œã‚‹â•â±ï¸ |
| 213 | firebase_firestore_base_ts_study_011.md | firebase_firestore_base_ts_study_011_04_null_safety.png | ./picture/firebase_firestore_base_ts_study_011_04_null_safety.png | **Theme**: Null Safety<br><br>**Labels to Render**:<br>- State: "Waiting (null)"<br>- UI: "Display '-'"<br>- Sync: "Timestamp Arrives"<br>- UI: "Display '2026/02...'"<br><br>**Visual Details**:<br>1. Core Concept: Handling the brief moment before the timestamp is synced.<br>2. Metaphor: A loading spinner or placeholder text turning into a real date.<br>3. Action: Transformation.<br>4. Layout: State transition (A -> B). | ## 6-1) ã¾ãšï¼š`null` ã‚’å®‰å…¨ã«ã•ã°ãğŸ§¯ |
| 214 | firebase_firestore_base_ts_study_011.md | firebase_firestore_base_ts_study_011_05_estimate.png | ./picture/firebase_firestore_base_ts_study_011_05_estimate.png | **Theme**: Latency Compensation (Estimate)<br><br>**Labels to Render**:<br>- Local: "Write (Estimate)"<br>- Cloud: "Syncing..."<br>- Result: "Confirmed (Real Time)"<br><br>**Visual Details**:<br>1. Core Concept: Using a local estimate while waiting for server confirmation.<br>2. Metaphor: A ghost or hologram timestamp (Estimate) becoming a solid stone timestamp (Real Time).<br>3. Action: Solidifying.<br>4. Layout: Time progression. | ## 6-2) ã•ã‚‰ã«å¿«é©ã«ï¼šã‚µãƒ¼ãƒãƒ¼ç¢ºå®šå‰ã§ã‚‚ã€Œæ¨å®šå€¤ã€ã§è¡¨ç¤ºã™ã‚‹ğŸª„ |
| 215 | firebase_firestore_base_ts_study_011.md | firebase_firestore_base_ts_study_011_06_ai_date_parser.png | ./picture/firebase_firestore_base_ts_study_011_06_ai_date_parser.png | **Theme**: AI Natural Language Date<br><br>**Labels to Render**:<br>- User: "Tomorrow 3pm"<br>- AI: "Parse (Gemini)"<br>- Output: "ISO 8601"<br>- DB: "Timestamp"<br><br>**Visual Details**:<br>1. Core Concept: AI converting natural language to a machine date format.<br>2. Metaphor: A translator robot taking a spoken phrase and typing it as code.<br>3. Action: Translating.<br>4. Layout: Left-to-right flow. | ## 9-3) Firebase AI Logicã§ã€Œè‡ªç„¶è¨€èªã®æ—¥æ™‚â†’Timestampã€ã‚’ä½œã‚‹ğŸ“†â¡ï¸â±ï¸ï¼ˆè¶…ãã‚Œã£ã½ããªã‚‹ï¼‰ |
| 216 | firebase_firestore_base_ts_study_012.md | firebase_firestore_base_ts_study_012_01_polling_vs_listen.png | ./picture/firebase_firestore_base_ts_study_012_01_polling_vs_listen.png | **Theme**: Polling vs Realtime<br><br>**Labels to Render**:<br>- Polling: "Check... Check... Check..."<br>- Realtime: "Ping! (New Data)"<br>- Comparison: "Pull vs Push"<br><br>**Visual Details**:<br>1. Core Concept: The efficiency of pushing data vs repeatedly checking.<br>2. Metaphor: A person knocking on a door repeatedly (Polling) vs A person waiting and a letter being slid under the door (Realtime).<br>3. Action: Waiting vs Checking.<br>4. Layout: Side-by-side comparison. | ## 1) ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è³¼èª­ã£ã¦ä½•ï¼ŸğŸ¤”âš¡ |
| 217 | firebase_firestore_base_ts_study_012.md | firebase_firestore_base_ts_study_012_02_latency_compensation.png | ./picture/firebase_firestore_base_ts_study_012_02_latency_compensation.png | **Theme**: Latency Compensation<br><br>**Labels to Render**:<br>- User: "Feels Fast (0ms)"<br>- Local: "Optimistic UI"<br>- Server: "Syncing (Background)"<br><br>**Visual Details**:<br>1. Core Concept: Showing changes instantly while syncing in the background.<br>2. Metaphor: A user seeing a result immediately on their screen, while a runner takes the message to the server in the background.<br>3. Action: Instant feedback.<br>4. Layout: Layered action. | ## 6) â€œå³åæ˜ â€ã®æ­£ä½“ï¼šãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ›´ã‚¤ãƒ™ãƒ³ãƒˆ ğŸï¸ğŸ’¨ |
| 218 | firebase_firestore_base_ts_study_012.md | firebase_firestore_base_ts_study_012_03_lifecycle.png | ./picture/firebase_firestore_base_ts_study_012_03_lifecycle.png | **Theme**: React Lifecycle & Subscription<br><br>**Labels to Render**:<br>- Mount: "Connect (Subscribe)"<br>- Unmount: "Disconnect (Unsubscribe)"<br>- Component: "Active"<br><br>**Visual Details**:<br>1. Core Concept: Tying subscription to component lifecycle.<br>2. Metaphor: Plugging in a device when entering a room (Mount) and unplugging it when leaving (Unmount).<br>3. Action: Connecting/Disconnecting.<br>4. Layout: Cycle view. | ## 3-2. `onSnapshot()` ã§è³¼èª­ã—ã¦ state ã«å…¥ã‚Œã‚‹ ğŸ”ğŸ“¥ |
| 219 | firebase_firestore_base_ts_study_012.md | firebase_firestore_base_ts_study_012_04_sync_demo.png | ./picture/firebase_firestore_base_ts_study_012_04_sync_demo.png | **Theme**: Multi-Tab Sync<br><br>**Labels to Render**:<br>- Tab A: "Add 'Milk'"<br>- Cloud: "Sync"<br>- Tab B: "Show 'Milk' (Instant)"<br><br>**Visual Details**:<br>1. Core Concept: Multiple clients staying in sync.<br>2. Metaphor: Two windows or screens connected by a lightning bolt or cloud, showing the same content instantly.<br>3. Action: Syncing.<br>4. Layout: Connected devices. | ## 4) ãƒŸãƒ‹èª²é¡Œï¼šåˆ¥ã‚¿ãƒ–ã§ã€Œå¢—ãˆã‚‹ã€ä½“é¨“ã—ã‚ˆã† ğŸª„ğŸ§ª |
| 220 | firebase_firestore_base_ts_study_012.md | firebase_firestore_base_ts_study_012_05_memory_leak.png | ./picture/firebase_firestore_base_ts_study_012_05_memory_leak.png | **Theme**: Subscription Leak<br><br>**Labels to Render**:<br>- Visit 1: "Listener A (Active)"<br>- Visit 2: "Listener A + B (Double)"<br>- Visit 3: "Listener A + B + C (Memory Leak)"<br><br>**Visual Details**:<br>1. Core Concept: Accumulating useless listeners if not cleaned up.<br>2. Metaphor: A pile of 'ears' (listeners) growing larger and heavier with each visit, burdening the app.<br>3. Action: Piling up.<br>4. Layout: Progression (1 -> 2 -> 3). | ## 5) ã“ã“ãŒè½ã¨ã—ç©´ï¼šè§£é™¤ã—ãªã„ã¨ä½•ãŒèµ·ãã‚‹ï¼ŸğŸ’¥ğŸ§  |
| 221 | firebase_firestore_base_ts_study_012.md | firebase_firestore_base_ts_study_012_06_ai_changelog.png | ./picture/firebase_firestore_base_ts_study_012_06_ai_changelog.png | **Theme**: AI Change Explanation<br><br>**Labels to Render**:<br>- Snapshot: "Change Diff"<br>- AI: "Explain"<br>- Output: "User added 'Milk'"<br><br>**Visual Details**:<br>1. Core Concept: AI interpreting code changes into natural language.<br>2. Metaphor: A robot reading a technical log (diff) and speaking a simple sentence.<br>3. Action: Explaining.<br>4. Layout: Left (Code) -> AI -> Right (Speech). | ## 9-1) Firebase AI Logicã§ã€Œå¤‰æ›´å†…å®¹ãƒ­ã‚°ã€ã‚’æ—¥æœ¬èªã§è¦ç´„ã•ã›ã‚‹ ğŸ“ğŸ¤– |
| 222 | firebase_firestore_base_ts_study_013.md | firebase_firestore_base_ts_study_013_01_hook_anatomy.png | ./picture/firebase_firestore_base_ts_study_013_01_hook_anatomy.png | **Theme**: useTodos Hook Anatomy<br><br>**Labels to Render**:<br>- Input: "options"<br>- Black Box: "useTodos()"<br>- Output: "{ status, todos, error }"<br><br>**Visual Details**:<br>1. Core Concept: Encapsulating logic inside a hook.<br>2. Metaphor: A machine (Hook) taking raw ingredients (options) and producing a finished product (state).<br>3. Action: Processing.<br>4. Layout: Input -> Machine -> Output. | ## 2-2. `useTodos()`ï¼ˆè³¼èª­ï¼‹è§£é™¤ï¼‹çŠ¶æ…‹ç®¡ç†ï¼‰ã‚’ä½œã‚‹âš¡ğŸ§¯ |
| 223 | firebase_firestore_base_ts_study_013.md | firebase_firestore_base_ts_study_013_02_cleanup.png | ./picture/firebase_firestore_base_ts_study_013_02_cleanup.png | **Theme**: Cleanup Action<br><br>**Labels to Render**:<br>- UI: "Unmount"<br>- Effect: "return unsubscribe()"<br>- Firestore: "Stop Listener"<br><br>**Visual Details**:<br>1. Core Concept: Stopping the subscription when the component leaves.<br>2. Metaphor: A hand pulling a plug from a socket to cut the power (data stream).<br>3. Action: Unplugging.<br>4. Layout: Action shot. | ## âœ… ã“ã‚ŒãŒå‘½ï¼ï¼ï¼ï¼ ç”»é¢ãŒæ¶ˆãˆã‚‹/æ¡ä»¶ãŒå¤‰ã‚ã‚‹â†’è³¼èª­è§£é™¤ğŸ§¯ |
| 224 | firebase_firestore_base_ts_study_013.md | firebase_firestore_base_ts_study_013_03_strict_mode.png | ./picture/firebase_firestore_base_ts_study_013_03_strict_mode.png | **Theme**: Strict Mode Cycle<br><br>**Labels to Render**:<br>- 1. Setup: "Subscribe"<br>- 2. Cleanup: "Unsubscribe"<br>- 3. Setup: "Subscribe"<br>- Result: "1 Active Listener"<br><br>**Visual Details**:<br>1. Core Concept: React Strict Mode's double invocation to test cleanup.<br>2. Metaphor: A loop or stress test. On -> Off -> On. The final state should be On (one active).<br>3. Action: Cycling.<br>4. Layout: Cycle flow. | ## ğŸ’¥ äº‹æ•…2ï¼šStrict Modeã§ã€ŒäºŒé‡è³¼èª­ã—ã¦ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹ã€ |
| 225 | firebase_firestore_base_ts_study_013.md | firebase_firestore_base_ts_study_013_04_query_memo.png | ./picture/firebase_firestore_base_ts_study_013_04_query_memo.png | **Theme**: Query Stability (useMemo)<br><br>**Labels to Render**:<br>- Render 1: "Query Ref A"<br>- Render 2: "Query Ref A (Stable)"<br>- Effect: "No Re-Subscribe"<br>- Anchor: "useMemo"<br><br>**Visual Details**:<br>1. Core Concept: Preventing unnecessary query recreation using useMemo.<br>2. Metaphor: An anchor holding a boat (Query) steady in rough waves (Renders).<br>3. Action: Anchoring.<br>4. Layout: Stability comparison. | ## ğŸ’¥ äº‹æ•…3ï¼šä¾å­˜é…åˆ—ãŒæ¯å›å¤‰ã‚ã£ã¦å†è³¼èª­ãƒ«ãƒ¼ãƒ— |
| 226 | firebase_firestore_base_ts_study_013.md | firebase_firestore_base_ts_study_013_05_state_machine.png | ./picture/firebase_firestore_base_ts_study_013_05_state_machine.png | **Theme**: Hook State Machine<br><br>**Labels to Render**:<br>- Start: "Loading"<br>- Success: "Ready"<br>- Fail: "Error"<br>- UI: "Show Skeleton / List / Alert"<br><br>**Visual Details**:<br>1. Core Concept: The three states of the hook and their UI representation.<br>2. Metaphor: A flowchart or traffic light system directing the UI to different screens.<br>3. Action: Branching.<br>4. Layout: State diagram. | ## 3) æ‰‹ã‚’å‹•ã‹ã™ï¼šç”»é¢ã§ â€œloading / error / emptyâ€ ã‚’ç¶ºéº—ã«å‡ºã™âœ¨ğŸ›ï¸ |
| 227 | firebase_firestore_base_ts_study_013.md | firebase_firestore_base_ts_study_013_06_ai_loop.png | ./picture/firebase_firestore_base_ts_study_013_06_ai_loop.png | **Theme**: AI Realtime Loop<br><br>**Labels to Render**:<br>- AI: "Generate 'Buy Milk'"<br>- Firestore: "addDoc()"<br>- Listener: "onSnapshot()"<br>- UI: "New ToDo Appears"<br><br>**Visual Details**:<br>1. Core Concept: AI action triggering a standard database flow that updates the UI automatically.<br>2. Metaphor: A cycle where the AI pushes a button (Add), and a gear turns (Firestore), lighting up a screen (UI).<br>3. Action: Automated update.<br>4. Layout: Cycle. | ## 7-2) Firebase AI Logicã§ã€ŒAIãŒToDoæ¡ˆã‚’å‡ºã™ã€â†’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ ã‚’ä½“é¨“ğŸª„ğŸ—ƒï¸ |
| 228 | docs/firebase_firestore_base_ts_study_014.md | firebase_firestore_base_ts_study_014_01_filter_concept.png | ./picture/firebase_firestore_base_ts_study_014_01_filter_concept.png | **Theme**: Server vs Client Filtering<br><br>**Labels to Render**:<br>- Cloud: "Firestore (Server)"<br>- Funnel: "where()"<br>- App: "App (Small Data)"<br>- Bad: "Filter All (Heavy)"<br><br>**Visual Details**:<br>1. Core Concept: Filtering data on the server is efficient.<br>2. Metaphor: A large cloud pouring data through a funnel (where) into a small cup (App). Compare with a huge bucket dumping everything (Filter All) and overflowing the cup.<br>3. Action: Filtering.<br>4. Layout: Comparison. | ## 1) where ã£ã¦ä½•ï¼Ÿï¼ˆã¾ãšæ„Ÿè¦šï¼‰ğŸ§ ğŸ’¡ |
| 229 | docs/firebase_firestore_base_ts_study_014.md | firebase_firestore_base_ts_study_014_02_operators.png | ./picture/firebase_firestore_base_ts_study_014_02_operators.png | **Theme**: Where Operators Cheat Sheet<br><br>**Labels to Render**:<br>- Equal: "== (Exact)"<br>- Range: ">= (Date)"<br>- Array: "array-contains (Tags)"<br>- Set: "in (Category)"<br><br>**Visual Details**:<br>1. Core Concept: Common filtering operators.<br>2. Metaphor: A set of tools or keys. A precise key (==), a ruler (>=), a fishing net (array-contains), and a multi-key (in).<br>3. Action: Displaying tools.<br>4. Layout: Grid view. | ## 2) whereæ—©è¦‹ï¼ˆã‚ˆãä½¿ã†ã‚„ã¤ã ã‘ï¼‰ğŸ§¾âœ¨ |
| 230 | docs/firebase_firestore_base_ts_study_014.md | firebase_firestore_base_ts_study_014_03_switch_ui.png | ./picture/firebase_firestore_base_ts_study_014_03_switch_ui.png | **Theme**: Filter Switch UI<br><br>**Labels to Render**:<br>- Button 1: "All"<br>- Button 2: "Open (Active)"<br>- Button 3: "Done"<br>- Query: "where('done', '==', false)"<br><br>**Visual Details**:<br>1. Core Concept: UI state controlling the query.<br>2. Metaphor: A control panel with 3 buttons. Pressing 'Open' lights up a specific query circuit.<br>3. Action: Pressing button.<br>4. Layout: Connection from UI to Query. | ## 3-1) ãƒ•ã‚£ãƒ«ã‚¿çŠ¶æ…‹ã‚’ä½œã‚‹ï¼ˆReactï¼‰ğŸ§©âš›ï¸ |
| 231 | docs/firebase_firestore_base_ts_study_014.md | firebase_firestore_base_ts_study_014_04_realtime_switch.png | ./picture/firebase_firestore_base_ts_study_014_04_realtime_switch.png | **Theme**: Realtime Query Switch<br><br>**Labels to Render**:<br>- State: "Filter Change"<br>- Action: "Unsubscribe Old"<br>- Action: "Subscribe New"<br>- Result: "New Data"<br><br>**Visual Details**:<br>1. Core Concept: Changing the subscription when filter changes.<br>2. Metaphor: Changing TV channels. The old channel fades out (unsubscribe) and the new one appears (subscribe).<br>3. Action: Switching.<br>4. Layout: Flow transition. | ## 3-3) ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è³¼èª­ã«çµ„ã¿è¾¼ã‚€ï¼ˆonSnapshotï¼‰âš¡ğŸ‘€ |
| 232 | docs/firebase_firestore_base_ts_study_014.md | firebase_firestore_base_ts_study_014_05_array_contains.png | ./picture/firebase_firestore_base_ts_study_014_05_array_contains.png | **Theme**: Array Contains Logic<br><br>**Labels to Render**:<br>- Doc 1: "Tags: [A, B]"<br>- Doc 2: "Tags: [B, C]"<br>- Query: "contains 'A'"<br>- Result: "Doc 1 Only"<br><br>**Visual Details**:<br>1. Core Concept: Finding a document that has a specific item in an array.<br>2. Metaphor: Fishing with a specific bait. Only the fish (document) with the matching taste (tag) is caught.<br>3. Action: Catching.<br>4. Layout: Selection process. | ## 4) ãƒŸãƒ‹å¿œç”¨ï¼šã‚¿ã‚°ã§çµã‚Šè¾¼ã‚€ï¼ˆAIã¨ç›¸æ€§æœ€é«˜ï¼‰ğŸ·ï¸ğŸ¤– |
| 233 | docs/firebase_firestore_base_ts_study_014.md | firebase_firestore_base_ts_study_014_06_warning_signs.png | ./picture/firebase_firestore_base_ts_study_014_06_warning_signs.png | **Theme**: Where Pitfalls<br><br>**Labels to Render**:<br>- Limit: "not-in (Max 10)"<br>- Trap: "Field Missing = Hidden"<br>- Complex: "OR (Max 30)"<br><br>**Visual Details**:<br>1. Core Concept: Limitations and traps of complex queries.<br>2. Metaphor: Road signs. Speed limit (Max 10), Hidden Hole (Missing Field), and a confusing junction (OR).<br>3. Action: Warning.<br>4. Layout: Hazard map. | ## 5) whereãŒå¢—ãˆã‚‹ã¨ä½•ãŒèµ·ããŒã¡ï¼Ÿï¼ˆäº‹æ•…ãƒã‚¤ãƒ³ãƒˆé›†ï¼‰ğŸ’¥ğŸ§¯ |
| 234 | docs/firebase_firestore_base_ts_study_014.md | firebase_firestore_base_ts_study_014_07_ai_tagging.png | ./picture/firebase_firestore_base_ts_study_014_07_ai_tagging.png | **Theme**: AI Auto Tagging<br><br>**Labels to Render**:<br>- Input: "Title: Buy Milk"<br>- AI: "Analyze"<br>- Output: "Tags: [Shopping, Food]"<br>- Search: "Easy Find"<br><br>**Visual Details**:<br>1. Core Concept: AI generating tags to make future search easier.<br>2. Metaphor: A robot reading a label and stamping standardized tags on a box.<br>3. Action: Stamping.<br>4. Layout: Process flow. | ## 6-1) AIã§ã‚¿ã‚°ã‚’ä½œã‚‹ â†’ `where(tags...)` ã§æ¤œç´¢ã™ã‚‹ğŸ·ï¸ğŸ” |
| 235 | docs/firebase_firestore_base_ts_study_015.md | firebase_firestore_base_ts_study_015_01_concept.png | ./picture/firebase_firestore_base_ts_study_015_01_concept.png | **Theme**: OrderBy and Limit Concept<br><br>**Labels to Render**:<br>- Stack: "Documents (100)"<br>- Sort: "orderBy (Sort)"<br>- Cut: "limit (10)"<br>- Result: "Top 10"<br><br>**Visual Details**:<br>1. Core Concept: Sorting a large collection and taking only the top few.<br>2. Metaphor: Sorting a stack of cards by number, then cutting the deck to take the top 10.<br>3. Action: Sorting and cutting.<br>4. Layout: Process flow. | ## 1) ã¾ãšæ¦‚å¿µï¼š`orderBy` ã¨ `limit` ã¯ã€Œä¸¦ã¹ã¦ã€ä¸Šã ã‘å–ã‚‹ã€ğŸ§ ğŸ“Œ |
| 236 | docs/firebase_firestore_base_ts_study_015.md | firebase_firestore_base_ts_study_015_02_missing_field.png | ./picture/firebase_firestore_base_ts_study_015_02_missing_field.png | **Theme**: Missing Field Trap<br><br>**Labels to Render**:<br>- Doc A: "{ createdAt: 10:00 }"<br>- Doc B: "{ createdAt: 10:05 }"<br>- Doc C: "{ no field }"<br>- Query: "orderBy(createdAt)"<br>- Result: "Doc A, Doc B (C is Gone!)"<br><br>**Visual Details**:<br>1. Core Concept: Documents missing the sort field are excluded.<br>2. Metaphor: A lineup where only people with tickets (createdAt) can enter. The person without a ticket (Doc C) is turned away.<br>3. Action: Exclusion.<br>4. Layout: Filter result. | ## 2) é‡è¦æ³¨æ„ï¼š`orderBy` ã™ã‚‹ã¨ã€Œãã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç„¡ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ã¯æ¶ˆãˆã‚‹ğŸ˜±ğŸ’¥ |
| 237 | docs/firebase_firestore_base_ts_study_015.md | firebase_firestore_base_ts_study_015_03_query_build.png | ./picture/firebase_firestore_base_ts_study_015_03_query_build.png | **Theme**: Building the Query<br><br>**Labels to Render**:<br>- Base: "collection(todos)"<br>- Part 1: "orderBy(desc)"<br>- Part 2: "limit(10)"<br>- Build: "query()"<br><br>**Visual Details**:<br>1. Core Concept: Composing a query from parts.<br>2. Metaphor: Assembling Lego blocks. Base block + Sort block + Limit block = Final Query structure.<br>3. Action: Assembling.<br>4. Layout: Stacked blocks. | ## 3-1) ã‚¯ã‚¨ãƒªã ã‘å…ˆã«ä½œã£ã¦ã¿ã‚‹ï¼ˆè¶…åŸºæœ¬å½¢ï¼‰ğŸ§© |
| 238 | docs/firebase_firestore_base_ts_study_015.md | firebase_firestore_base_ts_study_015_04_realtime_list.png | ./picture/firebase_firestore_base_ts_study_015_04_realtime_list.png | **Theme**: Realtime List Update<br><br>**Labels to Render**:<br>- New Item: "Add New"<br>- List: "Top 10"<br>- Old Item: "11th (Pushed out)"<br>- Action: "Auto Refresh"<br><br>**Visual Details**:<br>1. Core Concept: Realtime updates pushing items out of the limit.<br>2. Metaphor: A scoreboard showing top 10. A new high score enters the top, pushing the 10th place off the board.<br>3. Action: Sliding list.<br>4. Layout: List view. | ## 3-2) `onSnapshot`ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼‰ã«åˆä½“ã•ã›ã‚‹ âš¡ğŸ‘€ |
| 239 | docs/firebase_firestore_base_ts_study_015.md | firebase_firestore_base_ts_study_015_05_limit_flow.png | ./picture/firebase_firestore_base_ts_study_015_05_limit_flow.png | **Theme**: Limit Logic<br><br>**Labels to Render**:<br>- DB: "100 items"<br>- Query: "limit(10)"<br>- App: "Receive 10"<br>- User: "Happy (Fast)"<br><br>**Visual Details**:<br>1. Core Concept: Fetching only what is needed.<br>2. Metaphor: A tap filling a small glass from a huge tank. The flow stops exactly at the brim (10).<br>3. Action: Flow control.<br>4. Layout: Flow diagram. | ## 4) ãƒŸãƒ‹èª²é¡Œï¼šæœ€æ–°10ä»¶ã ã‘è¡¨ç¤ºï¼ˆlimitï¼‰ğŸ§©ğŸ |
| 240 | docs/firebase_firestore_base_ts_study_015.md | firebase_firestore_base_ts_study_015_06_sort_stable.png | ./picture/firebase_firestore_base_ts_study_015_06_sort_stable.png | **Theme**: Stable Sort<br><br>**Labels to Render**:<br>- Problem: "Same Time (Unstable)"<br>- Solution: "2nd Sort (title)"<br>- Result: "Stable Order"<br><br>**Visual Details**:<br>1. Core Concept: Using a second field to break ties.<br>2. Metaphor: Two runners finishing at the exact same time. A photo finish camera (2nd Sort) determines the winner based on bib number.<br>3. Action: Tie-breaking.<br>4. Layout: Comparison. | ## 5) ã‚ˆãã‚ã‚‹ã¤ã¾ãšãé›†ï¼ˆå…ˆã«è¸ã‚“ã§ãŠãï¼‰ğŸ’¥ğŸ˜‡ |
| 241 | docs/firebase_firestore_base_ts_study_015.md | firebase_firestore_base_ts_study_015_07_ai_query.png | ./picture/firebase_firestore_base_ts_study_015_07_ai_query.png | **Theme**: Natural Language to Query<br><br>**Labels to Render**:<br>- Input: "Newest 10"<br>- AI: "Translate"<br>- Output: "{ orderBy: desc, limit: 10 }"<br>- Safe: "Allow List"<br><br>**Visual Details**:<br>1. Core Concept: AI converting user text to safe query parameters.<br>2. Metaphor: A translator robot taking a speech bubble and outputting a structured card, checking it against a safe list.<br>3. Action: Translating and checking.<br>4. Layout: Left-to-right flow. | ## 6-2) ã‚¢ãƒ—ãƒªæ©Ÿèƒ½ã«AIã‚’æ··ãœã‚‹ï¼ˆè‡ªç„¶è¨€èªâ†’ä¸¦ã³æ›¿ãˆ/ä»¶æ•°ï¼‰ğŸª„ğŸ—£ï¸ |
| 242 | docs/firebase_firestore_base_ts_study_016.md | firebase_firestore_base_ts_study_016_01_index_concept.png | ./picture/firebase_firestore_base_ts_study_016_01_index_concept.png | **Theme**: Database Index Concept<br><br>**Labels to Render**:<br>- No Index: "Check Every Book (Slow)"<br>- With Index: "Card Catalog (Fast)"<br>- User: "Find 'Harry Potter'"<br><br>**Visual Details**:<br>1. Core Concept: Indexes speed up search by avoiding full scans.<br>2. Metaphor: A librarian running through every aisle (No Index) vs checking a card catalog and going straight to the shelf (With Index).<br>3. Action: Searching.<br>4. Layout: Comparison. | ## ğŸ“– èª­ã‚€ï¼šã¾ãšâ€œã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹â€ã£ã¦ä½•ï¼Ÿï¼ˆè¶…ã‚„ã•ã—ãï¼‰ğŸ§ ğŸ“š |
| 243 | docs/firebase_firestore_base_ts_study_016.md | firebase_firestore_base_ts_study_016_02_composite_index.png | ./picture/firebase_firestore_base_ts_study_016_02_composite_index.png | **Theme**: Composite Index Structure<br><br>**Labels to Render**:<br>- Dictionary: "Phonebook"<br>- Order: "1. City -> 2. Name"<br>- Search: "Find 'Tokyo, Tanaka'"<br>- Wrong: "Find 'Tanaka' (Cannot use)"<br><br>**Visual Details**:<br>1. Core Concept: Order matters in composite indexes.<br>2. Metaphor: A phonebook sorted by City then Name. You can find "Tokyo, Tanaka", but you can't easily find "Tanaka" without knowing the City.<br>3. Action: Looking up.<br>4. Layout: Book structure. | ## ğŸ“– èª­ã‚€ï¼šã¾ãšâ€œã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹â€ã£ã¦ä½•ï¼Ÿï¼ˆè¶…ã‚„ã•ã—ãï¼‰ğŸ§ ğŸ“š |
| 244 | docs/firebase_firestore_base_ts_study_016.md | firebase_firestore_base_ts_study_016_03_complex_query.png | ./picture/firebase_firestore_base_ts_study_016_03_complex_query.png | **Theme**: Complex Query Pipe<br><br>**Labels to Render**:<br>- Filter 1: "done == false"<br>- Filter 2: "tags contains 'ai'"<br>- Sort: "orderBy createdAt"<br>- Result: "Filtered List"<br><br>**Visual Details**:<br>1. Core Concept: Multiple filters and sorts combined.<br>2. Metaphor: A pipeline with multiple stations. Water (data) flows through a 'done' filter, then a 'tags' filter, then an 'order' alignment machine.<br>3. Action: Processing.<br>4. Layout: Pipe flow. | ## 1) ã‚ã–ã¨â€œè¤‡åˆã‚¯ã‚¨ãƒªâ€ã‚’ä½œã‚‹ğŸ§¨ |
| 245 | docs/firebase_firestore_base_ts_study_016.md | firebase_firestore_base_ts_study_016_04_error_types.png | ./picture/firebase_firestore_base_ts_study_016_04_error_types.png | **Theme**: Error Type Decision<br><br>**Labels to Render**:<br>- Error: "Red Text"<br>- Type A: "Missing Index -> Fix Link"<br>- Type B: "Invalid Query -> Redesign"<br><br>**Visual Details**:<br>1. Core Concept: Distinguishing between missing index and invalid query.<br>2. Metaphor: A fork in the road. One sign says "Construction Needed (Index)", the other says "Dead End (Invalid)".<br>3. Action: Diagnosing.<br>4. Layout: Branching path. | ## ğŸ‘€ èª­ã‚€ï¼šã‚¨ãƒ©ãƒ¼æ–‡ã®â€œè¦‹åˆ†ã‘æ–¹â€ã¯ã“ã‚Œã ã‘ğŸ•µï¸â€â™‚ï¸ |
| 246 | docs/firebase_firestore_base_ts_study_016.md | firebase_firestore_base_ts_study_016_05_fix_routes.png | ./picture/firebase_firestore_base_ts_study_016_05_fix_routes.png | **Theme**: Three Fix Routes<br><br>**Labels to Render**:<br>- Route 1: "Click Link (Fast)"<br>- Route 2: "Console (Manual)"<br>- Route 3: "CLI (Code)"<br>- Goal: "Index Created"<br><br>**Visual Details**:<br>1. Core Concept: Three ways to create an index.<br>2. Metaphor: Three vehicles racing to the finish line. A rocket (Link), a car (Console), and a bike (CLI).<br>3. Action: Racing.<br>4. Layout: Three lanes. | ## ğŸ› ï¸ æ‰‹ã‚’å‹•ã‹ã™ï¼šç›´ã—æ–¹ã¯3ãƒ«ãƒ¼ãƒˆã‚ã‚‹ã‚ˆğŸ›£ï¸âœ¨ |
| 247 | docs/firebase_firestore_base_ts_study_016.md | firebase_firestore_base_ts_study_016_06_building_wait.png | ./picture/firebase_firestore_base_ts_study_016_06_building_wait.png | **Theme**: Index Building State<br><br>**Labels to Render**:<br>- State: "Building..."<br>- Icon: "Construction"<br>- Time: "Few Minutes"<br>- Action: "Wait"<br><br>**Visual Details**:<br>1. Core Concept: Index creation takes time.<br>2. Metaphor: A construction site with a "Work in Progress" sign. A clock ticks in the background.<br>3. Action: Waiting.<br>4. Layout: Construction scene. | ## â³ ã€Œä½œã£ãŸã®ã«ç›´ã‚‰ãªã„ï¼ã€ã‚ã‚‹ã‚ã‚‹é›†ğŸ˜¤â¡ï¸ğŸ˜Œ |
| 248 | docs/firebase_firestore_base_ts_study_016.md | firebase_firestore_base_ts_study_016_07_ai_debug.png | ./picture/firebase_firestore_base_ts_study_016_07_ai_debug.png | **Theme**: AI Debugging Helper<br><br>**Labels to Render**:<br>- Input: "Error Log"<br>- AI: "Analyze"<br>- Output: "You need Index: done + tags"<br>- Tool: "Gemini CLI"<br><br>**Visual Details**:<br>1. Core Concept: AI analyzing error logs to suggest fixes.<br>2. Metaphor: A robot doctor reading a patient's chart (Log) and writing a prescription (Index definition).<br>3. Action: Diagnosing.<br>4. Layout: Interaction. | ## ğŸ¤– AIæ´»ç”¨ï¼šã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆã‚’â€œçˆ†é€Ÿã§çµ‚ã‚ã‚‰ã›ã‚‹â€ã‚„ã‚Šæ–¹ |
| 249 | docs/firebase_firestore_base_ts_study_017.md | firebase_firestore_base_ts_study_017_01_cursor_concept.png | ./picture/firebase_firestore_base_ts_study_017_01_cursor_concept.png | **Theme**: Cursor Concept<br><br>**Labels to Render**:<br>- List: "Book Text"<br>- Cursor: "Bookmark"<br>- Action: "Read Next"<br><br>**Visual Details**:<br>1. Core Concept: Paging using a cursor (bookmark) rather than page numbers.<br>2. Metaphor: A bookmark placed in a book. You don't ask for "Page 5", you ask to "Start reading after bookmark".<br>3. Action: Reading.<br>4. Layout: Book view. | ## ğŸ”– ã‚«ãƒ¼ã‚½ãƒ«ã£ã¦ãªã«ï¼Ÿ |
| 250 | docs/firebase_firestore_base_ts_study_017.md | firebase_firestore_base_ts_study_017_02_startat_after.png | ./picture/firebase_firestore_base_ts_study_017_02_startat_after.png | **Theme**: startAt vs startAfter<br><br>**Labels to Render**:<br>- Line: "Start Line"<br>- startAt: "On the Line (Inclusive)"<br>- startAfter: "After the Line (Exclusive)"<br><br>**Visual Details**:<br>1. Core Concept: The difference between inclusive and exclusive start points.<br>2. Metaphor: Runners on a track. One starts ON the line (startAt), the other starts one step AFTER the line (startAfter).<br>3. Action: Starting.<br>4. Layout: Comparison. | ## âœ… startAt ã¨ startAfter ã®é•ã„ï¼ˆã‚ã£ã¡ã‚ƒå¤§äº‹ï¼‰ |
| 251 | docs/firebase_firestore_base_ts_study_017.md | firebase_firestore_base_ts_study_017_03_paging_goal.png | ./picture/firebase_firestore_base_ts_study_017_03_paging_goal.png | **Theme**: Paging Workflow Goal<br><br>**Labels to Render**:<br>- Page 1: "1-10"<br>- Action: "Next Button"<br>- Page 2: "11-20"<br>- Loop: "Repeat"<br><br>**Visual Details**:<br>1. Core Concept: The user experience of clicking next to see more items.<br>2. Metaphor: A film strip or slide projector. Viewing frames 1-10, then clicking 'Next' to slide to frames 11-20.<br>3. Action: Sliding.<br>4. Layout: Sequence. | ## 1) ä»Šæ—¥ã®ã‚´ãƒ¼ãƒ«ã®å®Œæˆå½¢ ğŸâœ¨ |
| 252 | docs/firebase_firestore_base_ts_study_017.md | firebase_firestore_base_ts_study_017_04_thinking_process.png | ./picture/firebase_firestore_base_ts_study_017_04_thinking_process.png | **Theme**: Paging Relay Logic<br><br>**Labels to Render**:<br>- Group 1: "10 Runners"<br>- Baton: "Last Doc"<br>- Group 2: "Next 10 Runners"<br><br>**Visual Details**:<br>1. Core Concept: Using the last document of the previous page as the start for the next.<br>2. Metaphor: A relay race. The 10th runner passes the baton (Last Doc) to the 1st runner of the next group.<br>3. Action: Passing baton.<br>4. Layout: Relay race. | ## 3) ãƒãƒ³ã‚ºã‚ªãƒ³ï¼š10ä»¶ãšã¤å–å¾—ã—ã¦ã€Œæ¬¡ã¸ã€ã™ã‚‹ ğŸ› ï¸ğŸ“œ |
| 253 | docs/firebase_firestore_base_ts_study_017.md | firebase_firestore_base_ts_study_017_05_hook_structure.png | ./picture/firebase_firestore_base_ts_study_017_05_hook_structure.png | **Theme**: Hook Structure<br><br>**Labels to Render**:<br>- State: "lastDoc"<br>- Func: "loadNextPage()"<br>- Query: "startAfter(lastDoc)"<br>- Update: "setTodos([...prev, ...new])"<br><br>**Visual Details**:<br>1. Core Concept: The internal logic of the custom hook.<br>2. Metaphor: A machine with a memory slot (lastDoc). When the button (loadNextPage) is pressed, it uses the memory to fetch new items and adds them to the conveyor belt (todos).<br>3. Action: Processing.<br>4. Layout: Machine diagram. | ## 4) å®Ÿè£…ï¼šãƒšãƒ¼ã‚¸ãƒ³ã‚°ç”¨hookã‚’ä½œã‚‹ï¼ˆãŠã™ã™ã‚ï¼‰âš›ï¸ğŸ§° |
| 254 | docs/firebase_firestore_base_ts_study_017.md | firebase_firestore_base_ts_study_017_06_ui_states.png | ./picture/firebase_firestore_base_ts_study_017_06_ui_states.png | **Theme**: Button UI States<br><br>**Labels to Render**:<br>- Green: "Next (Has More)"<br>- Yellow: "Loading..."<br>- Red: "Stop (No More)"<br><br>**Visual Details**:<br>1. Core Concept: Visual feedback for the paging button.<br>2. Metaphor: A traffic light system for the button. Green for go, Yellow for wait, Red for stop.<br>3. Action: Changing state.<br>4. Layout: Button variations. | ## 5) UIï¼šä¸€è¦§ã«ã€Œæ¬¡ã¸ã€ãƒœã‚¿ãƒ³ã‚’ä»˜ã‘ã‚‹ ğŸ›ï¸â¡ï¸ |
| 255 | docs/firebase_firestore_base_ts_study_017.md | firebase_firestore_base_ts_study_017_07_ai_data.png | ./picture/firebase_firestore_base_ts_study_017_07_ai_data.png | **Theme**: AI Data Factory<br><br>**Labels to Render**:<br>- Input: "Make 30 ToDos"<br>- AI: "Generate"<br>- Output: "30 JSON Items"<br>- DB: "Filled"<br><br>**Visual Details**:<br>1. Core Concept: Using AI to generate test data.<br>2. Metaphor: A factory robot instantly producing 30 boxes (ToDos) to fill the empty shelves.<br>3. Action: Production.<br>4. Layout: Factory line. | ## 9) ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰Firebase AI Logicã§ã‚µãƒ³ãƒ—ãƒ«ToDoã‚’ç”Ÿæˆâ†’ä¸€æ‹¬è¿½åŠ ğŸ¤–ğŸ§¾â• |
| 256 | docs/firebase_firestore_base_ts_study_018.md | firebase_firestore_base_ts_study_018_01_infinite_scroll.png | ./picture/firebase_firestore_base_ts_study_018_01_infinite_scroll.png | **Theme**: Infinite Scroll Concept<br><br>**Labels to Render**:<br>- Screen: "List"<br>- Action: "Scroll Down"<br>- Backend: "Load Next 10"<br>- Result: "List Grows"<br><br>**Visual Details**:<br>1. Core Concept: Loading more data automatically as the user scrolls.<br>2. Metaphor: A never-ending roll of paper being unrolled. As the user pulls (scrolls), more paper (data) appears from the box (backend).<br>3. Action: Unrolling.<br>4. Layout: Vertical flow. | ## 1) ã¾ãšâ€œç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®æ­£ä½“â€ã‚’ç†è§£ã—ã‚ˆã† ğŸ‘€â™¾ï¸ |
| 257 | docs/firebase_firestore_base_ts_study_018.md | firebase_firestore_base_ts_study_018_02_crash_points.png | ./picture/firebase_firestore_base_ts_study_018_02_crash_points.png | **Theme**: Infinite Scroll Pitfalls<br><br>**Labels to Render**:<br>- Trap 1: "Double Load (Fast Scroll)"<br>- Trap 2: "Duplicate ID"<br>- Trap 3: "Missing Order"<br><br>**Visual Details**:<br>1. Core Concept: Common bugs in infinite scroll implementation.<br>2. Metaphor: A runner stumbling over hurdles. Hurdle 1 is a double image (Double Load), Hurdle 2 is a clone (Duplicate), Hurdle 3 is a gap in the track (Missing Order).<br>3. Action: Stumbling.<br>4. Layout: Obstacle course. | ## 2) è¨­è¨ˆï¼šç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§æ­»ã¬ãƒã‚¤ãƒ³ãƒˆ3ã¤ ğŸ’¥ï¼ˆå…ˆã«æ½°ã™ï¼‰ |
| 258 | docs/firebase_firestore_base_ts_study_018.md | firebase_firestore_base_ts_study_018_03_query_structure.png | ./picture/firebase_firestore_base_ts_study_018_03_query_structure.png | **Theme**: Query with Cursor<br><br>**Labels to Render**:<br>- Base: "orderBy(date) + limit(10)"<br>- Cursor: "startAfter(lastDoc)"<br>- Combine: "Next Page Query"<br><br>**Visual Details**:<br>1. Core Concept: Using a cursor to fetch the next page.<br>2. Metaphor: A puzzle piece (Cursor) fitting into the main query block to create the "Next Page" request.<br>3. Action: Connecting.<br>4. Layout: Block assembly. | ## 3) å®Ÿè£…â‘ ï¼šFirestoreã€Œ1ãƒšãƒ¼ã‚¸å–å¾—ã€é–¢æ•°ã‚’ä½œã‚‹ ğŸ“¦ğŸ” |
| 259 | docs/firebase_firestore_base_ts_study_018.md | firebase_firestore_base_ts_study_018_04_intersection_observer.png | ./picture/firebase_firestore_base_ts_study_018_04_intersection_observer.png | **Theme**: Intersection Observer Logic<br><br>**Labels to Render**:<br>- Viewport: "Screen"<br>- Element: "Sentinel (Div)"<br>- Event: "Intersect!"<br>- Action: "Load More"<br><br>**Visual Details**:<br>1. Core Concept: Triggering an action when an element enters the view.<br>2. Metaphor: A laser tripwire at the bottom of the screen. When the scroll hits the wire (Sentinel), an alarm (Event) triggers the loader.<br>3. Action: Tripping the wire.<br>4. Layout: Side view of screen. | ## 4) å®Ÿè£…â‘¡ï¼šIntersectionObserverã§ã€Œä¸‹ã«æ¥ãŸã‚‰ loadMoreã€ğŸ‘€â¬‡ï¸ |
| 260 | docs/firebase_firestore_base_ts_study_018.md | firebase_firestore_base_ts_study_018_05_ui_sentinel.png | ./picture/firebase_firestore_base_ts_study_018_05_ui_sentinel.png | **Theme**: Sentinel Placement<br><br>**Labels to Render**:<br>- List: "ToDo Items"<br>- Sentinel: "Invisible Div (1px)"<br>- Loader: "Loading Spinner"<br><br>**Visual Details**:<br>1. Core Concept: Placing the sentinel at the end of the list.<br>2. Metaphor: A hidden sensor buried at the end of a road. Just past the sensor is the construction crew (Loader) building more road.<br>3. Action: Scrolling past.<br>4. Layout: UI Mockup. | ## 5) å®Ÿè£…â‘¢ï¼šç”»é¢ã«çµ„ã¿è¾¼ã‚€ï¼ˆsentinelã‚’ä¸€ç•ªä¸‹ã«ç½®ãï¼‰ğŸ§©ğŸ§± |
| 261 | docs/firebase_firestore_base_ts_study_018.md | firebase_firestore_base_ts_study_018_06_guards.png | ./picture/firebase_firestore_base_ts_study_018_06_guards.png | **Theme**: Safety Guards<br><br>**Labels to Render**:<br>- Guard 1: "inFlight (Lock)"<br>- Guard 2: "seenIds (Filter)"<br>- Data: "Stream"<br>- Result: "Clean List"<br><br>**Visual Details**:<br>1. Core Concept: preventing double loads and duplicates.<br>2. Metaphor: A security gate (inFlight) that closes while processing, and a filter mesh (seenIds) that catches duplicates.<br>3. Action: Filtering/Blocking.<br>4. Layout: Pipeline. | ## 6) äº‹æ•…å›é¿ãƒ¡ãƒ¢ï¼ˆã“ã“å¤§äº‹ï¼‰ğŸ§ ğŸ§¯ |
| 262 | docs/firebase_firestore_base_ts_study_018.md | firebase_firestore_base_ts_study_018_07_ai_seed.png | ./picture/firebase_firestore_base_ts_study_018_07_ai_seed.png | **Theme**: AI Data Seeding<br><br>**Labels to Render**:<br>- AI: "Create 30 Titles"<br>- Batch: "Write Batch"<br>- Firestore: "30 Docs Added"<br>- UI: "Scroll Ready"<br><br>**Visual Details**:<br>1. Core Concept: Rapidly populating the database to test scrolling.<br>2. Metaphor: A cargo plane (AI) dropping multiple crates (Batch) into the database warehouse instantly.<br>3. Action: Airdrop.<br>4. Layout: Cloud to DB flow. | ## 7) ğŸ¤– AIã§â€œãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ä½œã‚Šâ€ã‚’çˆ†é€Ÿã«ã™ã‚‹ï¼ˆç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®ãŸã‚ã«ï¼‰ |
| 263 | firebase_firestore_base_ts_study_019.md | firebase_firestore_base_ts_study_019_01_emulator_shield.png | ./picture/firebase_firestore_base_ts_study_019_01_emulator_shield.png | **Theme**: Emulator Shield<br><br>**Labels to Render**:<br>- Shield: "Emulator (Local)"<br>- Cloud: "Production (Safe)"<br>- Action: "Block"<br><br>**Visual Details**:<br>1. Core Concept: Emulator protects the production database.<br>2. Metaphor: A shield (Emulator) stopping arrows (bugs/tests) from hitting a cloud icon (Production).<br>3. Action: Protection.<br>4. Layout: Side-by-side or shield in front. | ## ğŸ“– èª­ã‚€ï¼šEmulatorã£ã¦ä½•ãŒå¬‰ã—ã„ã®ï¼ŸğŸ˜† |
| 264 | firebase_firestore_base_ts_study_019.md | firebase_firestore_base_ts_study_019_02_emulator_ports.png | ./picture/firebase_firestore_base_ts_study_019_02_emulator_ports.png | **Theme**: Emulator Ports<br><br>**Labels to Render**:<br>- UI: "Port 4000 (Browser)"<br>- DB: "Port 8080 (API)"<br>- PC: "Localhost"<br><br>**Visual Details**:<br>1. Core Concept: The two main ports used by the Emulator.<br>2. Metaphor: A computer with two cables plugged in, labeled 4000 and 8080.<br>3. Action: Connecting.<br>4. Layout: Device with connections. | * Firestore Emulatorã¯ **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ 8080ç•ª** |
| 265 | firebase_firestore_base_ts_study_019.md | firebase_firestore_base_ts_study_019_03_connect_switch.png | ./picture/firebase_firestore_base_ts_study_019_03_connect_switch.png | **Theme**: Connection Switch<br><br>**Labels to Render**:<br>- Code: "connectFirestoreEmulator"<br>- Condition: "if (DEV)"<br>- Switch: "Local / Cloud"<br><br>**Visual Details**:<br>1. Core Concept: Switching to emulator only in dev mode.<br>2. Metaphor: A railway switch track. "DEV" train goes to "Local", "PROD" train goes to "Cloud".<br>3. Action: Switching.<br>4. Layout: Branching path. | ## ğŸ› ï¸ æ‰‹ã‚’å‹•ã‹ã™ï¼šReactã‚¢ãƒ—ãƒªã‚’Emulatorã«ã¤ãªãâš›ï¸ğŸ”Œ |
| 266 | firebase_firestore_base_ts_study_019.md | firebase_firestore_base_ts_study_019_04_requests_ui.png | ./picture/firebase_firestore_base_ts_study_019_04_requests_ui.png | **Theme**: Requests UI<br><br>**Labels to Render**:<br>- Tab: "Requests"<br>- Row: "GET /todos"<br>- Rule: "Allow (Green)"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing the requests log.<br>2. Metaphor: A logbook or flight recorder screen showing a list of green checkmarks.<br>3. Action: Logging.<br>4. Layout: UI mockup. | ## ğŸ‘€ ã¤ã„ã§ã«ï¼šEmulator UIã® â€œRequestsâ€ ãŒç¥âœ¨ |
| 267 | firebase_firestore_base_ts_study_019.md | firebase_firestore_base_ts_study_019_05_reset_db.png | ./picture/firebase_firestore_base_ts_study_019_05_reset_db.png | **Theme**: Database Reset<br><br>**Labels to Render**:<br>- Button: "DELETE"<br>- DB: "Trash"<br>- Result: "Empty"<br><br>**Visual Details**:<br>1. Core Concept: Clearing the database instantly.<br>2. Metaphor: A "Clear" button on a calculator or a trash can icon clearing a list.<br>3. Action: Deleting.<br>4. Layout: Action flow. | ## ğŸ§¯ DBã‚’ãƒªã‚»ãƒƒãƒˆã—ãŸã„ï¼ˆè¶…ä¾¿åˆ©ï¼‰ğŸ’¥ |
| 268 | firebase_firestore_base_ts_study_019.md | firebase_firestore_base_ts_study_019_06_seed_script.png | ./picture/firebase_firestore_base_ts_study_019_06_seed_script.png | **Theme**: Seed Script Flow<br><br>**Labels to Render**:<br>- Script: "seed.mjs"<br>- Data: "10 Items"<br>- Emulator: "Firestore (8080)"<br><br>**Visual Details**:<br>1. Core Concept: Injecting test data.<br>2. Metaphor: A watering can (Script) pouring seeds (Data) into a garden bed (Emulator).<br>3. Action: Seeding.<br>4. Layout: Flow diagram. | ## ğŸ› ï¸ ã¤ã„ã§ã«ï¼šã‚µãƒ¼ãƒãƒ¼å´ï¼ˆAdmin SDKï¼‰ã§ seed 10ä»¶æµã—è¾¼ã‚€ğŸŒ±ğŸ”¥ |
| 269 | firebase_firestore_base_ts_study_019.md | firebase_firestore_base_ts_study_019_07_ai_data.png | ./picture/firebase_firestore_base_ts_study_019_07_ai_data.png | **Theme**: AI Data Generation<br><br>**Labels to Render**:<br>- User: "Make 10 ToDos"<br>- AI: "Gemini"<br>- Output: "JSON Data"<br><br>**Visual Details**:<br>1. Core Concept: AI generating the seed data.<br>2. Metaphor: A robot chef chopping ingredients (Data) for the developer.<br>3. Action: Generation.<br>4. Layout: Interaction. | ## ğŸ¤– AIã§â€œseedä½œã‚Šâ€ã¨â€œãƒ‡ãƒãƒƒã‚°â€ã‚’çˆ†é€Ÿã«ã™ã‚‹ğŸ’¨ |
| 270 | firebase_firestore_base_ts_study_020.md | firebase_firestore_base_ts_study_020_01_final_app.png | ./picture/firebase_firestore_base_ts_study_020_01_final_app.png | **Theme**: Final App Overview<br><br>**Labels to Render**:<br>- List: "ToDo List"<br>- Filter: "Not Done"<br>- AI: "Polish"<br>- Footer: "Load More"<br><br>**Visual Details**:<br>1. Core Concept: The finished application with all features.<br>2. Metaphor: A polished smartphone screen showing the full UI.<br>3. Action: User interacting.<br>4. Layout: UI Mockup. | ## 1) ã“ã®ç« ã§â€œå®Œæˆâ€ã«ã™ã‚‹æ©Ÿèƒ½ä¸€è¦§ âœ… |
| 271 | firebase_firestore_base_ts_study_020.md | firebase_firestore_base_ts_study_020_02_data_schema.png | ./picture/firebase_firestore_base_ts_study_020_02_data_schema.png | **Theme**: Data Schema<br><br>**Labels to Render**:<br>- Doc: "Todo"<br>- Field 1: "body (String)"<br>- Field 2: "tags (Array)"<br>- Field 3: "createdAt (Timestamp)"<br><br>**Visual Details**:<br>1. Core Concept: The data structure.<br>2. Metaphor: A blueprint or specification card.<br>3. Action: Defining.<br>4. Layout: Card view. | ## 2) ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆï¼ˆè¿·å­é˜²æ­¢ï¼‰ğŸ§­ğŸ—ƒï¸ |
| 272 | firebase_firestore_base_ts_study_020.md | firebase_firestore_base_ts_study_020_03_paging_strategy.png | ./picture/firebase_firestore_base_ts_study_020_03_paging_strategy.png | **Theme**: Hybrid Paging Strategy<br><br>**Labels to Render**:<br>- Head: "Realtime (Limit 10)"<br>- Tail: "Fetch (GetDocs)"<br>- User: "Scroll"<br><br>**Visual Details**:<br>1. Core Concept: Combining realtime for top items and manual fetch for older items.<br>2. Metaphor: A train. The engine (Head) is live/electric (Realtime), the carriages (Tail) are cargo (Static Fetch).<br>3. Action: Pulling.<br>4. Layout: Train metaphor. | ## Step Bï¼šãƒšãƒ¼ã‚¸ãƒ³ã‚°ï¼ˆâ€œãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼‹è¿½åŠ èª­ã¿â€ã®ç¾å®Ÿè§£ï¼‰ğŸ“œâœ¨ |
| 273 | firebase_firestore_base_ts_study_020.md | firebase_firestore_base_ts_study_020_04_ai_polish.png | ./picture/firebase_firestore_base_ts_study_020_04_ai_polish.png | **Theme**: AI Text Polish<br><br>**Labels to Render**:<br>- Input: "messy text..."<br>- AI: "Polish"<br>- Output: "Clean Text âœ¨"<br><br>**Visual Details**:<br>1. Core Concept: AI improving text quality.<br>2. Metaphor: A dirty rough diamond going into a machine and coming out as a sparkling gem.<br>3. Action: Polishing.<br>4. Layout: Transformation. | ## 2) AIæ•´å½¢ï¼šæœ¬æ–‡ã‚’èª­ã¿ã‚„ã™ãã™ã‚‹ âœ¨ğŸ“ |
| 274 | firebase_firestore_base_ts_study_020.md | firebase_firestore_base_ts_study_020_05_ai_tags.png | ./picture/firebase_firestore_base_ts_study_020_05_ai_tags.png | **Theme**: AI Tag Extraction<br><br>**Labels to Render**:<br>- Text: "Buy milk at store"<br>- AI: "Extract"<br>- JSON: "tags: ['Shopping', 'Food']"<br><br>**Visual Details**:<br>1. Core Concept: Converting text to structured tags.<br>2. Metaphor: A machine reading a book and printing out index cards.<br>3. Action: Extracting.<br>4. Layout: Process flow. | ## 3) AIã‚¿ã‚°æŠ½å‡ºï¼šJSONã§è¿”ã•ã›ã¦ `tags: string[]` ã«ã™ã‚‹ ğŸ·ï¸ğŸ§¾ |
| 275 | firebase_firestore_base_ts_study_020.md | firebase_firestore_base_ts_study_020_06_safety_guard.png | ./picture/firebase_firestore_base_ts_study_020_06_safety_guard.png | **Theme**: AI Safety Guard<br><br>**Labels to Render**:<br>- User: "Click"<br>- Guard: "Rate Limit"<br>- AI: "Gemini"<br>- Attack: "Spam Blocked"<br><br>**Visual Details**:<br>1. Core Concept: Protecting the AI API.<br>2. Metaphor: A bouncer (Guard) checking IDs (Rate Limit) before letting people see the VIP (AI).<br>3. Action: Blocking spam.<br>4. Layout: Security gate. | ## âœ… AIå‘¼ã³å‡ºã—ã®æ¿«ç”¨å¯¾ç­–ï¼ˆé‡è¦ï¼‰ |
| 276 | firebase_firestore_base_ts_study_020.md | firebase_firestore_base_ts_study_020_07_antigravity.png | ./picture/firebase_firestore_base_ts_study_020_07_antigravity.png | **Theme**: Antigravity Assistance<br><br>**Labels to Render**:<br>- Task: "Breakdown"<br>- Agent: "Antigravity"<br>- Output: "Plan"<br><br>**Visual Details**:<br>1. Core Concept: AI helping with project planning.<br>2. Metaphor: A mission control screen decomposing a big rocket into modules.<br>3. Action: Planning.<br>4. Layout: Screen view. | ## Antigravityï¼ˆè¨­è¨ˆâ†’å®Ÿè£…ã®æ®µå–ã‚Šã‚’ä½œã‚‹ï¼‰ğŸ›°ï¸ |
| 277 | firebase_firestore_struncture_ts_index.md | firebase_firestore_struncture_ts_index_01_course_map.png | ./picture/firebase_firestore_struncture_ts_index_01_course_map.png | **Theme**: Course Map<br><br>**Labels to Render**:<br>- Phase 1: "Design (Struct)"<br>- Phase 2: "Performance (Index)"<br>- Phase 3: "Safety (Server)"<br><br>**Visual Details**:<br>1. Core Concept: The three phases of the course.<br>2. Metaphor: A winding road map with 3 major stops.<br>3. Action: Progressing.<br>4. Layout: Map view. | ## 20ç« ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ï¼ˆèª­ã‚€â†’æ‰‹ã‚’å‹•ã‹ã™â†’ãƒŸãƒ‹èª²é¡Œâ†’ãƒã‚§ãƒƒã‚¯ï¼‰ğŸ“šâœ¨ |
| 278 | firebase_firestore_struncture_ts_index.md | firebase_firestore_struncture_ts_index_02_entity_relation.png | ./picture/firebase_firestore_struncture_ts_index_02_entity_relation.png | **Theme**: Entity Relations<br><br>**Labels to Render**:<br>- User: "User"<br>- Report: "Report"<br>- Post: "Post"<br>- Comment: "Comment"<br><br>**Visual Details**:<br>1. Core Concept: The 4 main entities and their connections.<br>2. Metaphor: A constellation or network diagram.<br>3. Action: Connecting.<br>4. Layout: Network graph. | ### ç¬¬2ç« ï¼šã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£åˆ†è§£ï¼ˆUser / Report / Post / Commentï¼‰ğŸ§© |
| 279 | firebase_firestore_struncture_ts_index.md | firebase_firestore_struncture_ts_index_03_subcollection.png | ./picture/firebase_firestore_struncture_ts_index_03_subcollection.png | **Theme**: Subcollection vs Top-Level<br><br>**Labels to Render**:<br>- Top: "posts/{id}"<br>- Sub: "comments/{id}"<br>- Connection: "Parent-Child"<br><br>**Visual Details**:<br>1. Core Concept: Hierarchical data structure.<br>2. Metaphor: A file folder (Post) containing smaller files (Comments).<br>3. Action: Containing.<br>4. Layout: Hierarchy. | ### ç¬¬4ç« ï¼šã‚µãƒ–ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ä½¿ã„ã©ã“ã‚ï¼ˆè¦ªå­é–¢ä¿‚ã«å¼·ã„ï¼‰ğŸ§© |
| 280 | firebase_firestore_struncture_ts_index.md | firebase_firestore_struncture_ts_index_04_normalization.png | ./picture/firebase_firestore_struncture_ts_index_04_normalization.png | **Theme**: Normalization Scale<br><br>**Labels to Render**:<br>- Left: "Read Speed (Denormalized)"<br>- Right: "Write Simplicity (Normalized)"<br>- Balance: "Trade-off"<br><br>**Visual Details**:<br>1. Core Concept: Balancing read performance vs write complexity.<br>2. Metaphor: A balance scale. One side has a cheetah (Speed), the other has a simple block (Simplicity).<br>3. Action: Balancing.<br>4. Layout: Scale. | ### ç¬¬6ç« ï¼šæ­£è¦åŒ– vs éæ­£è¦åŒ–ï¼ˆFirestoreæµã®å‰²ã‚Šåˆ‡ã‚Šï¼‰âš–ï¸ |
| 281 | firebase_firestore_struncture_ts_index.md | firebase_firestore_struncture_ts_index_05_index_mech.png | ./picture/firebase_firestore_struncture_ts_index_05_index_mech.png | **Theme**: Index Mechanism<br><br>**Labels to Render**:<br>- No Index: "Slow Scan"<br>- Index: "Fast Lookup"<br>- Query: "where(a).orderBy(b)"<br><br>**Visual Details**:<br>1. Core Concept: How indexes speed up queries.<br>2. Metaphor: Searching a messy pile of papers vs using a neat card catalog.<br>3. Action: Searching.<br>4. Layout: Comparison. | ### ç¬¬14ç« ï¼šã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®è¶…åŸºæœ¬ï¼ˆä½•ãŒé€Ÿããªã‚‹ï¼Ÿä½•ãŒå¢—ãˆã‚‹ï¼Ÿï¼‰ğŸ§­ |
| 282 | firebase_firestore_struncture_ts_index.md | firebase_firestore_struncture_ts_index_06_aggregation.png | ./picture/firebase_firestore_struncture_ts_index_06_aggregation.png | **Theme**: Aggregation Methods<br><br>**Labels to Render**:<br>- Method 1: "Count Query (Read)"<br>- Method 2: "Counter Field (Write)"<br>- Method 3: "Distributed (Scale)"<br><br>**Visual Details**:<br>1. Core Concept: Different ways to count data.<br>2. Metaphor: A magnifying glass (Query), a tally counter (Field), and a team of counters (Distributed).<br>3. Action: Counting.<br>4. Layout: Three options. | ### ç¬¬10ç« ï¼šé›†è¨ˆã®å…¨ä½“åƒï¼ˆã„ã¤è¨ˆç®—ã™ã‚‹ï¼Ÿã„ã¤ä¿å­˜ã™ã‚‹ï¼Ÿï¼‰ğŸ§® |
| 283 | firebase_firestore_struncture_ts_index.md | firebase_firestore_struncture_ts_index_07_ai_assistant.png | ./picture/firebase_firestore_struncture_ts_index_07_ai_assistant.png | **Theme**: AI Design Assistant<br><br>**Labels to Render**:<br>- Human: "Review Schema"<br>- AI: "Antigravity"<br>- Output: "Feedback"<br><br>**Visual Details**:<br>1. Core Concept: AI reviewing the database design.<br>2. Metaphor: An architect showing a blueprint to a robot consultant.<br>3. Action: Reviewing.<br>4. Layout: Collaboration. | ## AIã§è¨­è¨ˆãŒçˆ†é€Ÿã«ãªã‚‹ã€Œä½¿ã„æ–¹ãƒ†ãƒ³ãƒ—ãƒ¬ã€ğŸ¤–âš¡ï¼ˆAntigravity / Gemini CLIï¼‰ |
| 284 | firebase_firestore_struncture_ts_study_001.md | firebase_firestore_struncture_ts_study_001_01_reverse_design.png | ./picture/firebase_firestore_struncture_ts_study_001_01_reverse_design.png | **Theme**: Reverse Design Concept<br><br>**Labels to Render**:<br>- Screen: "UI View"<br>- Query: "Query Spec"<br>- Schema: "Firestore DB"<br><br>**Visual Details**:<br>1. Core Concept: Designing the database backwards from the UI.<br>2. Metaphor: An arrow flowing from a phone screen (UI) to a document (Query) to a database icon (Schema).<br>3. Action: Flowing backwards.<br>4. Layout: Left-to-right flow. | ## 1) èª­ã‚€ï¼šè¨­è¨ˆã®æ­£ä½“ã¯ã€Œå–ã‚Šå‡ºã—æ–¹ã€ã‹ã‚‰é€†ç®—ğŸ˜„ğŸ” |
| 285 | firebase_firestore_struncture_ts_study_001.md | firebase_firestore_struncture_ts_study_001_02_screen_sketches.png | ./picture/firebase_firestore_struncture_ts_study_001_02_screen_sketches.png | **Theme**: Screen Sketches<br><br>**Labels to Render**:<br>- List: "Timeline"<br>- Detail: "Article"<br>- Comment: "Comments"<br><br>**Visual Details**:<br>1. Core Concept: Rough sketches of the main screens.<br>2. Metaphor: Hand-drawn wireframes on a napkin or notepad.<br>3. Action: Sketching.<br>4. Layout: Three screens. | ## 2) æ‰‹ã‚’å‹•ã‹ã™ï¼šã¾ãšã€Œç”»é¢ã€ã‚’3æšã€é›‘ã§ã„ã„ã‹ã‚‰æãğŸ“ğŸ¨ |
| 286 | firebase_firestore_struncture_ts_study_001.md | firebase_firestore_struncture_ts_study_001_03_query_spec.png | ./picture/firebase_firestore_struncture_ts_study_001_03_query_spec.png | **Theme**: Query Specification<br><br>**Labels to Render**:<br>- Spec: "Query List"<br>- Q1: "Newest 20"<br>- Q2: "My Posts"<br>- Field: "Needs: createdAt"<br><br>**Visual Details**:<br>1. Core Concept: A list of natural language queries translating to fields.<br>2. Metaphor: A checklist where each item points to a database field.<br>3. Action: Translating.<br>4. Layout: List view. | ## 3) æ‰‹ã‚’å‹•ã‹ã™ï¼šã‚¯ã‚¨ãƒªã‚’æœ€ä½10æœ¬ â€œæ–‡ç« ã§â€ æ›¸ãå‡ºã™ğŸ”ğŸ§  |
| 287 | firebase_firestore_struncture_ts_study_001.md | firebase_firestore_struncture_ts_study_001_04_query_list.png | ./picture/firebase_firestore_struncture_ts_study_001_04_query_list.png | **Theme**: The 10 Queries<br><br>**Labels to Render**:<br>- List: "1. Timeline"<br>- Search: "6. Tag Search"<br>- Sort: "7. Popularity"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing the variety of queries.<br>2. Metaphor: A stack of query cards or a dashboard of requests.<br>3. Action: Displaying.<br>4. Layout: Grid or List. | ## ä¾‹ï¼šã‚¯ã‚¨ãƒª10æœ¬ï¼ˆã‚³ãƒ”ã£ã¦è‡ªåˆ†ç”¨ã«ç›´ã—ã¦OKï¼‰ğŸ§© |
| 288 | firebase_firestore_struncture_ts_study_001.md | firebase_firestore_struncture_ts_study_001_05_field_extraction.png | ./picture/firebase_firestore_struncture_ts_study_001_05_field_extraction.png | **Theme**: Field Extraction<br><br>**Labels to Render**:<br>- Requirement: "Newest Order"<br>- Extraction: "Need 'createdAt'"<br>- Requirement: "My Posts"<br>- Extraction: "Need 'authorId'"<br><br>**Visual Details**:<br>1. Core Concept: Deriving fields from requirements.<br>2. Metaphor: Distilling a liquid. Raw requirement goes in, pure field name comes out.<br>3. Action: Distilling.<br>4. Layout: Process flow. | ã“ã®æ™‚ç‚¹ã§ã€**å¿…è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒæµ®ã‹ã‚“ã§ãã¾ã™**ğŸ‘‡ï¼ˆã“ã‚ŒãŒâ€œé€†ç®—â€ã®æ„Ÿè¦šï¼ï¼‰ |
| 289 | firebase_firestore_struncture_ts_study_001.md | firebase_firestore_struncture_ts_study_001_06_ai_review.png | ./picture/firebase_firestore_struncture_ts_study_001_06_ai_review.png | **Theme**: AI Design Review<br><br>**Labels to Render**:<br>- Input: "Query Spec"<br>- AI: "Reviewer"<br>- Output: "Missing Index!"<br><br>**Visual Details**:<br>1. Core Concept: AI checking the design for errors.<br>2. Metaphor: A robot inspector looking at the spec sheet with a magnifying glass.<br>3. Action: Inspecting.<br>4. Layout: Interaction. | ## 5) AIã§è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’çˆ†é€Ÿã«ã™ã‚‹ğŸ¤–âš¡ï¼ˆAntigravity / Gemini CLI / Firebaseã®AIï¼‰ |
| 290 | firebase_firestore_struncture_ts_study_001.md | firebase_firestore_struncture_ts_study_001_07_cost_trap.png | ./picture/firebase_firestore_struncture_ts_study_001_07_cost_trap.png | **Theme**: Cost Trap<br><br>**Labels to Render**:<br>- Bad: "Read All (1000)"<br>- Cost: "$$$"<br>- Good: "Limit 20"<br>- Cost: "Â¢"<br><br>**Visual Details**:<br>1. Core Concept: The cost implication of bad queries.<br>2. Metaphor: A money burning fire (Bad Query) vs a coin saver (Good Query).<br>3. Action: Burning vs Saving.<br>4. Layout: Comparison. | ## ã‚ˆãã‚ã‚‹å¤±æ•—ï¼ˆå…ˆã«è¸ã‚“ã§ãŠãï¼‰ğŸ˜µâ€ğŸ’«ğŸ’¥ |
| 291 | firebase_firestore_struncture_ts_study_002.md | firebase_firestore_struncture_ts_study_002_01_granularity.png | ./picture/firebase_firestore_struncture_ts_study_002_01_granularity.png | **Theme**: Document Granularity<br><br>**Labels to Render**:<br>- Good: "Small Docs (Fast)"<br>- Bad: "Huge Doc (Slow)"<br>- Limit: "1 MiB"<br><br>**Visual Details**:<br>1. Core Concept: Keeping documents small and focused.<br>2. Metaphor: A fleet of small, fast speedboats (Small Docs) vs a slow, overloaded cargo ship (Huge Doc).<br>3. Action: Moving.<br>4. Layout: Comparison. | ## 1 ã¾ãšå¤§å‰æ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å°ã•ãè‚²ã¦ã‚‹æ„Ÿè¦š ğŸŒ±ğŸ“„ |
| 292 | firebase_firestore_struncture_ts_study_002.md | firebase_firestore_struncture_ts_study_002_02_3_questions.png | ./picture/firebase_firestore_struncture_ts_study_002_02_3_questions.png | **Theme**: 3 Questions for Grouping<br><br>**Labels to Render**:<br>- Q1: "Display Together?"<br>- Q2: "Update Together?"<br>- Q3: "Same Life?"<br>- Result: "Same Doc"<br><br>**Visual Details**:<br>1. Core Concept: The criteria for grouping fields into a document.<br>2. Metaphor: A funnel or filter. Fields go in, pass through the 3 filters, and land in the same document box if they pass.<br>3. Action: Filtering.<br>4. Layout: Process flow. | ## 3 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå˜ä½ã‚’æ±ºã‚ã‚‹ 3ã¤ã®è³ªå• ğŸ§ ğŸ” |
| 293 | firebase_firestore_struncture_ts_study_002.md | firebase_firestore_struncture_ts_study_002_03_frequency_tags.png | ./picture/firebase_firestore_struncture_ts_study_002_03_frequency_tags.png | **Theme**: Frequency Tags<br><br>**Labels to Render**:<br>- Ice: "Rare (Frozen)"<br>- Fire: "Frequent (Hot)"<br>- Storm: "Dangerous (Storm)"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing update frequency.<br>2. Metaphor: Weather icons. Ice cube for immutable data. Fire for frequent updates. Storm cloud for hotspots.<br>3. Action: Labeling.<br>4. Layout: Icon set. | ## ç·¨é›†é »åº¦ã®ã‚¿ã‚°ã‚’æ±ºã‚ã‚ˆã† ğŸ·ï¸ |
| 294 | firebase_firestore_struncture_ts_study_002.md | firebase_firestore_struncture_ts_study_002_04_user_fields.png | ./picture/firebase_firestore_struncture_ts_study_002_04_user_fields.png | **Theme**: User Entity Fields<br><br>**Labels to Render**:<br>- User: "Profile"<br>- Ice: "uid"<br>- Sun: "displayName"<br>- Fire: "lastLogin"<br><br>**Visual Details**:<br>1. Core Concept: Breakdown of the User entity with frequency tags.<br>2. Metaphor: A profile card with temperature gauges next to each field.<br>3. Action: Measuring.<br>4. Layout: Card view. | ## 5 ä¾‹ User ã®å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¡ˆ ğŸ‘¤ğŸ§¾ |
| 295 | firebase_firestore_struncture_ts_study_002.md | firebase_firestore_struncture_ts_study_002_05_comment_risk.png | ./picture/firebase_firestore_struncture_ts_study_002_05_comment_risk.png | **Theme**: Comment Array Risk<br><br>**Labels to Render**:<br>- Post: "Article Doc"<br>- Array: "Comments [...]"<br>- Risk: "Explosion (Size/Update)"<br><br>**Visual Details**:<br>1. Core Concept: The danger of embedding unlimited comments in a post.<br>2. Metaphor: A document balloon popping because too many comments are stuffed inside.<br>3. Action: Popping.<br>4. Layout: Warning illustration. | ## 8 ä¾‹ Comment ã‚³ãƒ¡ãƒ³ãƒˆã®å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¡ˆ ğŸ’¬ğŸš€ |
| 296 | firebase_firestore_struncture_ts_study_002.md | firebase_firestore_struncture_ts_study_002_06_grouping_task.png | ./picture/firebase_firestore_struncture_ts_study_002_06_grouping_task.png | **Theme**: Field Grouping Task<br><br>**Labels to Render**:<br>- Group A: "Static Info (Ice)"<br>- Group B: "Counters (Fire)"<br>- Action: "Split?"<br><br>**Visual Details**:<br>1. Core Concept: Grouping fields by frequency to decide on splitting.<br>2. Metaphor: Sorting laundry. Whites (Static) in one basket, Colors (Dynamic) in another.<br>3. Action: Sorting.<br>4. Layout: Sorting process. | ## ãƒŸãƒ‹èª²é¡ŒB |
| 297 | firebase_firestore_struncture_ts_study_002.md | firebase_firestore_struncture_ts_study_002_07_hotspot_check.png | ./picture/firebase_firestore_struncture_ts_study_002_07_hotspot_check.png | **Theme**: Hotspot Check<br><br>**Labels to Render**:<br>- Doc: "Single Doc"<br>- Updates: "1000 users/sec"<br>- Result: "Lock/Fail"<br><br>**Visual Details**:<br>1. Core Concept: High contention on a single document.<br>2. Metaphor: A single door with hundreds of people trying to enter at once.<br>3. Action: Jamming.<br>4. Layout: Crowd scene. | ## 10 ãƒã‚§ãƒƒã‚¯ 1ã¤ã§ã‚‚YESãªã‚‰åˆ†å‰²ã‚’ç–‘ãŠã† ğŸ‘€âœ… |
| 298 | firebase_firestore_struncture_ts_study_003.md | firebase_firestore_struncture_ts_study_003_01_id_search_vs_ref.png | ./picture/firebase_firestore_struncture_ts_study_003_01_id_search_vs_ref.png | **Theme**: Comparison of ID usage in Firestore<br><br>**Labels to Render**:<br>- ID: "å‚ç…§ç”¨ (Reference)"<br>- Field: "æ¤œç´¢ç”¨ (Search)"<br>- Bad: "IDã§æ¤œç´¢ã—ãªã„"<br><br>**Visual Details**:<br>1. Split the image into two sides.<br>2. Left side (Good): A key labeled 'ID' pointing directly to a specific document. Label it 'Reference'.<br>3. Right side (Bad): A magnifying glass scanning through many keys. Cross it out with a red X. Label it 'Search Key'.<br>4. Use clean lines and flat colors (Blue for good, Red for bad). | ## ã¾ãšè¶…é‡è¦ï¼šIDã¯â€œæ¤œç´¢ã‚­ãƒ¼â€ã˜ã‚ƒãªã„ã‚ˆğŸ”ğŸ™…â€â™‚ï¸ |
| 299 | firebase_firestore_struncture_ts_study_003.md | firebase_firestore_struncture_ts_study_003_02_auto_id_load_balance.png | ./picture/firebase_firestore_struncture_ts_study_003_02_auto_id_load_balance.png | **Theme**: Auto ID Load Balancing<br><br>**Labels to Render**:<br>- Auto ID: "åˆ†æ•£æ›¸ãè¾¼ã¿"<br>- Sequential ID: "é›†ä¸­æ›¸ãè¾¼ã¿"<br>- Server: "Firestore"<br><br>**Visual Details**:<br>1. Top half: 'Auto ID'. Show random alphanumeric strings ('xF3...', 'a9Z...') distributing evenly across multiple servers/nodes.<br>2. Bottom half: 'Sequential ID'. Show '001', '002', '003' hitting a single server/node, causing a bottleneck (red glow).<br>3. Use arrows to show data flow. | ## è‡ªå‹•IDï¼ˆAuto IDï¼‰ã£ã¦ä½•ãŒã†ã‚Œã—ã„ã®ï¼ŸğŸ²âœ¨ |
| 300 | firebase_firestore_struncture_ts_study_003.md | firebase_firestore_struncture_ts_study_003_03_custom_id_cases.png | ./picture/firebase_firestore_struncture_ts_study_003_03_custom_id_cases.png | **Theme**: Custom ID Use Cases<br><br>**Labels to Render**:<br>- User: "users/{uid}"<br>- Report: "reports/{date}"<br>- Config: "settings/public"<br><br>**Visual Details**:<br>1. Show three distinct document icons.<br>2. First icon: A user silhouette with a lock, labeled 'uid'.<br>3. Second icon: A calendar page with 'YYYY-MM-DD', labeled 'Date'.<br>4. Third icon: A gear icon, labeled 'Fixed Config'.<br>5. Connect each to a document path. | ## æ„å‘³ã®ã‚ã‚‹IDï¼ˆCustom IDï¼‰ã¯ã„ã¤ä½¿ã†ï¼ŸğŸ§© |
| 301 | firebase_firestore_struncture_ts_study_003.md | firebase_firestore_struncture_ts_study_003_04_recommended_ids.png | ./picture/firebase_firestore_struncture_ts_study_003_04_recommended_ids.png | **Theme**: Recommended ID Patterns<br><br>**Labels to Render**:<br>- User: "æ„å‘³ã‚ã‚Š (uid)"<br>- Report: "æ„å‘³ã‚ã‚Š (Date)"<br>- Post: "è‡ªå‹•ID (Auto)"<br>- Comment: "è‡ªå‹•ID (Auto)"<br><br>**Visual Details**:<br>1. Create a 2x2 grid.<br>2. Top-Left: User icon -> 'uid' (Key icon).<br>3. Top-Right: Report icon -> 'Date' (Calendar icon).<br>4. Bottom-Left: Post icon -> 'Auto' (Dice icon).<br>5. Bottom-Right: Comment icon -> 'Auto' (Dice icon).<br>6. Use color coding: Blue for Custom/Meaningful, Orange for Auto. | ## ã“ã®æ•™æã®é¡Œæï¼ˆUser / Report / Post / Commentï¼‰ã§ã®ãŠã™ã™ã‚IDæ¡ˆğŸ§ âœ¨ |
| 302 | firebase_firestore_struncture_ts_study_003.md | firebase_firestore_struncture_ts_study_003_05_security_rules_match.png | ./picture/firebase_firestore_struncture_ts_study_003_05_security_rules_match.png | **Theme**: Security Rules Matching<br><br>**Labels to Render**:<br>- Request: "request.auth.uid"<br>- Resource: "resource.id"<br>- Match: "ä¸€è‡´ (Allow)"<br><br>**Visual Details**:<br>1. Show a lock (Security Rule) checking a key (Request UID) against a door (Resource ID).<br>2. A green checkmark indicates they match.<br>3. Simple, abstract representation of authentication matching document ID. | ## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ï¼ˆIDè¨­è¨ˆã¨ç›¸æ€§ãŒã„ã„æœ€å°å½¢ï¼‰ğŸ›¡ï¸âœ¨ |
| 303 | firebase_firestore_struncture_ts_study_004.md | firebase_firestore_struncture_ts_study_004_01_subcollection_tree.png | ./picture/firebase_firestore_struncture_ts_study_004_01_subcollection_tree.png | **Theme**: Subcollection Tree Structure<br><br>**Labels to Render**:<br>- Parent: "Post"<br>- Child: "Comment"<br>- Path: "posts/{id}/comments/{id}"<br><br>**Visual Details**:<br>1. Show a document labeled 'Post' at the top.<br>2. Branching down from it, show a folder labeled 'comments'.<br>3. Inside the folder, show multiple documents labeled 'Comment 1', 'Comment 2'.<br>4. Emphasize the hierarchy/nesting. | ## 1) ã¾ãšçµè«–ï¼šã‚µãƒ–ã‚³ãƒ¬ãŒãƒãƒã‚‹â€œ3ã¤ã®å‹â€ğŸ§ âœ¨ |
| 304 | firebase_firestore_struncture_ts_study_004.md | firebase_firestore_struncture_ts_study_004_02_top_level_flat.png | ./picture/firebase_firestore_struncture_ts_study_004_02_top_level_flat.png | **Theme**: Top-Level Collection Structure<br><br>**Labels to Render**:<br>- Collection: "Comments"<br>- Field: "postId: 'abc'"<br>- Search: "Query"<br><br>**Visual Details**:<br>1. Show a single large container labeled 'Comments Collection'.<br>2. Inside, show many documents floating freely.<br>3. Highlight a field 'postId' inside each document.<br>4. Show a magnifying glass (Query) selecting documents based on 'postId'. | ## 2) é€†ã«ã€ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ãŒå‘ãâ€œ2ã¤ã®å‹â€âš–ï¸ |
| 305 | firebase_firestore_struncture_ts_study_004.md | firebase_firestore_struncture_ts_study_004_03_compare_sub_vs_top.png | ./picture/firebase_firestore_struncture_ts_study_004_03_compare_sub_vs_top.png | **Theme**: Subcollection vs Top-Level Comparison<br><br>**Labels to Render**:<br>- Subcollection: "è¦ªå­é–¢ä¿‚ (Parent-Child)"<br>- Top-Level: "ãƒ•ãƒ©ãƒƒãƒˆ (Flat)"<br>- Use Case: "Context vs Search"<br><br>**Visual Details**:<br>1. Split image vertically.<br>2. Left: A tree structure (Subcollection) with a 'Parent' root.<br>3. Right: A flat list (Top-Level) with tags/labels connecting items.<br>4. Use icons to represent 'Context' (Tree) vs 'Search flexibility' (Flat list). | ## 3) ä»Šå›ã®é¡Œæï¼šã‚³ãƒ¡ãƒ³ãƒˆã¯ â€œã‚µãƒ–ã‚³ãƒ¬æ¡ˆ vs ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«æ¡ˆâ€ ã©ã£ã¡ï¼ŸğŸ¤”ğŸ§© |
| 306 | firebase_firestore_struncture_ts_study_004.md | firebase_firestore_struncture_ts_study_004_04_collection_group_query.png | ./picture/firebase_firestore_struncture_ts_study_004_04_collection_group_query.png | **Theme**: Collection Group Query<br><br>**Labels to Render**:<br>- Post A: "Post A"<br>- Post B: "Post B"<br>- Query: "Collection Group"<br>- Target: "Comments"<br><br>**Visual Details**:<br>1. Show two separate trees (Post A and Post B), each with a 'comments' subcollection.<br>2. Draw a horizontal dashed line cutting across both 'comments' subcollections.<br>3. Label the line 'Collection Group Query'.<br>4. Show that it gathers comments from both parents regardless of hierarchy. | ## 4) ã‚µãƒ–ã‚³ãƒ¬ã§ã‚‚â€œæ¨ªæ–­æ¤œç´¢â€ã¯ã§ãã‚‹ï¼šã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ğŸ§©ğŸ” |
| 307 | firebase_firestore_struncture_ts_study_005.md | firebase_firestore_struncture_ts_study_005_01_orphan_documents.png | ./picture/firebase_firestore_struncture_ts_study_005_01_orphan_documents.png | **Theme**: Orphan Documents<br><br>**Labels to Render**:<br>- Parent: "Post (Deleted)"<br>- Child: "Comments (Remaining)"<br>- Status: "å­¤å… (Orphan)"<br><br>**Visual Details**:<br>1. Show a silhouette of a 'Post' document fading away or crossed out.<br>2. Below it, show 'Comment' documents remaining solid and intact.<br>3. Use a 'ghost' metaphor or a disconnected link icon to show they are now orphans.<br>4. Warning color (Orange/Red) for the orphans. | ## è½ã¨ã—ç©´â‘ ï¼šè¦ªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ¶ˆã—ã¦ã‚‚ã€ã‚µãƒ–ã‚³ãƒ¬ã¯æ¶ˆãˆãªã„ğŸ˜‡ |
| 308 | firebase_firestore_struncture_ts_study_005.md | firebase_firestore_struncture_ts_study_005_02_recursive_delete_fail.png | ./picture/firebase_firestore_struncture_ts_study_005_02_recursive_delete_fail.png | **Theme**: Recursive Delete Failure<br><br>**Labels to Render**:<br>- Process: "Delete All"<br>- Error: "Timeout / Error"<br>- Result: "Partial Data"<br><br>**Visual Details**:<br>1. Show a progress bar stuck at 50%.<br>2. Show a tree being deleted from top to bottom.<br>3. The top half is gone, but the bottom half remains.<br>4. An error icon (Triangle !) interrupts the process. | ## è½ã¨ã—ç©´â‘¡ï¼šå‰Šé™¤ã¯ã€Œä¸€æ’ƒã§å…¨éƒ¨ã€ã«ãªã‚‰ãªã„ï¼ˆé€”ä¸­ã§æ­¢ã¾ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ï¼‰ğŸ«  |
| 309 | firebase_firestore_struncture_ts_study_005.md | firebase_firestore_struncture_ts_study_005_03_migration_strategy.png | ./picture/firebase_firestore_struncture_ts_study_005_03_migration_strategy.png | **Theme**: Data Migration Strategy<br><br>**Labels to Render**:<br>- Old: "æ—§ãƒ‘ã‚¹"<br>- New: "æ–°ãƒ‘ã‚¹"<br>- Action: "Copy & Switch"<br><br>**Visual Details**:<br>1. Show two boxes, 'Old' and 'New'.<br>2. Arrow 1: 'Copy' data from Old to New.<br>3. Arrow 2: 'Read' requests switching from Old to New (like a railway switch).<br>4. Arrow 3: 'Delete' Old box after switch.<br>5. Sequential steps 1->2->3. | ## è½ã¨ã—ç©´â‘¢ï¼šç§»å‹•ï¼ˆï¼æ§‹é€ å¤‰æ›´ï¼‰ã¯â€œã‚³ãƒ”ãƒ¼ï¼†åˆ‡æ›¿â€ãŒåŸºæœ¬ğŸššğŸ“¦ |
| 310 | firebase_firestore_struncture_ts_study_005.md | firebase_firestore_struncture_ts_study_005_04_logical_delete.png | ./picture/firebase_firestore_struncture_ts_study_005_04_logical_delete.png | **Theme**: Logical Deletion<br><br>**Labels to Render**:<br>- Document: "Post"<br>- Field: "isDeleted: true"<br>- View: "ã‚´ãƒŸç®± (Trash)"<br><br>**Visual Details**:<br>1. Show a document with a visible stamp or tag reading 'isDeleted: true'.<br>2. Show a filter (funnel) allowing only 'isDeleted: false' to pass to the user view.<br>3. The deleted document is diverted to a 'Trash' bin icon. | ## æ–¹é‡1ï¼šè«–ç†å‰Šé™¤ï¼ˆã‚´ãƒŸç®±ï¼‰ğŸ—‘ï¸ï¼ˆã„ã¡ã°ã‚“äº‹æ•…ã‚Šã«ãã„ï¼‰ |
| 311 | firebase_firestore_struncture_ts_study_006.md | firebase_firestore_struncture_ts_study_006_01_normalization_vs_denorm.png | ./picture/firebase_firestore_struncture_ts_study_006_01_normalization_vs_denorm.png | **Theme**: Normalization vs Denormalization<br><br>**Labels to Render**:<br>- Normalization: "å‚ç…§ (Reference)"<br>- Denormalization: "è¤‡è£½ (Copy)"<br>- Data: "User Info"<br><br>**Visual Details**:<br>1. Split image.<br>2. Left (Normalization): A 'Post' doc pointing an arrow to a single 'User' doc.<br>3. Right (Denormalization): A 'User' doc copying its data (Avatar/Name) directly *into* the 'Post' doc.<br>4. Use an icon for 'Copy/Paste'. | ## âœ… æ­£è¦åŒ– / éæ­£è¦åŒ–ã£ã¦è¶…ã–ã£ãã‚Šä½•ï¼Ÿ |
| 312 | firebase_firestore_struncture_ts_study_006.md | firebase_firestore_struncture_ts_study_006_02_read_optimization.png | ./picture/firebase_firestore_struncture_ts_study_006_02_read_optimization.png | **Theme**: Read Optimization<br><br>**Labels to Render**:<br>- Optimized: "1 Read"<br>- Slow: "N+1 Reads"<br>- List: "Post List"<br><br>**Visual Details**:<br>1. Top (Slow): A list of 5 posts. Each post triggers a separate arrow to fetch 'User' data (many arrows).<br>2. Bottom (Optimized): A list of 5 posts. No extra arrows needed because data is inside. Label '1 Read'.<br>3. Show a speed dial or clock indicating 'Fast' vs 'Slow'. | ## (A) â€œå°ã•ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å¤§é‡ã«â€ãŒå¾—æ„ ğŸ“„ğŸ“„ğŸ“„ |
| 313 | firebase_firestore_struncture_ts_study_006.md | firebase_firestore_struncture_ts_study_006_03_snapshot_strategy.png | ./picture/firebase_firestore_struncture_ts_study_006_03_snapshot_strategy.png | **Theme**: Snapshot Strategy<br><br>**Labels to Render**:<br>- Action: "Create Post"<br>- Data: "Current User Info"<br>- Result: "Snapshot"<br><br>**Visual Details**:<br>1. Show a camera icon taking a picture of 'User Info'.<br>2. The 'Photo' (Snapshot) is placed inside the 'Post' document.<br>3. Show the original 'User Info' changing later, but the 'Photo' in the post remains unchanged (Historical record). | ## æ–¹é‡â‘ ï¼šã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã§å‰²ã‚Šåˆ‡ã‚‹ï¼ˆãŠã™ã™ã‚å¤šã‚ï¼‰ğŸ“¸âœ¨ |
| 314 | firebase_firestore_struncture_ts_study_006.md | firebase_firestore_struncture_ts_study_006_04_sync_update_cost.png | ./picture/firebase_firestore_struncture_ts_study_006_04_sync_update_cost.png | **Theme**: Synchronization Cost<br><br>**Labels to Render**:<br>- Change: "Update Name"<br>- Target: "All Posts"<br>- Cost: "High Write Cost"<br><br>**Visual Details**:<br>1. Show a user changing their name.<br>2. Show this change propagating to hundreds of 'Post' documents.<br>3. Use 'explosion' or 'heavy weight' icons to represent the high cost and load.<br>4. Warning color (Red/Orange). | ## åœ°é›·â‘ ï¼šè¤‡è£½ãŒå¢—ãˆã‚‹ã»ã©ã€æ›´æ–°æ™‚ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ›´æ–°ã‚‚å¢—ãˆã‚‹ğŸ“ˆ |
| 315 | firebase_firestore_struncture_ts_study_007.md | firebase_firestore_struncture_ts_study_007_01_string_id_vs_ref_obj.png | ./picture/firebase_firestore_struncture_ts_study_007_01_string_id_vs_ref_obj.png | **Theme**: String ID vs DocumentReference<br><br>**Labels to Render**:<br>- String: "IDæ–‡å­—åˆ— (String)"<br>- Ref: "å‚ç…§å‹ (Reference)"<br>- Value: "uid_123" vs "path/to/doc"<br><br>**Visual Details**:<br>1. Left: A tag labeled 'String' containing text "user_123". Simple text representation.<br>2. Right: A tag labeled 'Reference' containing a pointer/link icon to a folder path "users/user_123".<br>3. Visually distinguish 'Text' vs 'Object/Pointer'. | ## 0) ã¾ãšã¯è¶…ã–ã£ãã‚Šçµè«–ğŸ§ ğŸ’¡ |
| 316 | firebase_firestore_struncture_ts_study_007.md | firebase_firestore_struncture_ts_study_007_02_broken_reference.png | ./picture/firebase_firestore_struncture_ts_study_007_02_broken_reference.png | **Theme**: Broken Reference Handling<br><br>**Labels to Render**:<br>- Link: "Reference"<br>- Target: "Deleted User"<br>- UI: "Fallback Display"<br><br>**Visual Details**:<br>1. Show a link pointing to an empty space (where a User doc used to be).<br>2. Show the UI handling this gracefully: displaying a generic 'Unknown User' icon instead of crashing.<br>3. Use a broken chain link icon for the reference. | ## 2) æŠ•ç¨¿è©³ç´°ã§ã€Œä½œè€…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ã‚’èª­ã‚€ï¼ˆå¿…è¦ãªã¨ãã ã‘ï¼‰ğŸ‘¤ |
| 317 | firebase_firestore_struncture_ts_study_007.md | firebase_firestore_struncture_ts_study_007_03_rules_comparison.png | ./picture/firebase_firestore_struncture_ts_study_007_03_rules_comparison.png | **Theme**: Security Rules Comparison<br><br>**Labels to Render**:<br>- String Match: "== string"<br>- Path Match: "== path"<br>- Ease: "Easy" vs "Complex"<br><br>**Visual Details**:<br>1. Top: 'String Match'. Show `request.auth.uid == resource.data.authorId`. Simple equation.<br>2. Bottom: 'Path Match'. Show `request.auth.uid` converting to a path to match `resource.data.authorRef`. More steps/complexity.<br>3. Green check for String Match, slightly more complex diagram for Path Match. | ## Rulesç›®ç·šğŸ›¡ï¸ï¼šauthorId ãŒãƒ©ã‚¯ãªç†ç”±ï¼ˆè¶…é‡è¦ï¼‰ğŸ”¥ |
| 318 | firebase_firestore_struncture_ts_study_008.md | firebase_firestore_struncture_ts_study_008_01_query_components.png | ./picture/firebase_firestore_struncture_ts_study_008_01_query_components.png | **Theme**: Firestore Query Components Diagram<br><br>**Labels to Render**:<br>- Where: "çµã‚Šè¾¼ã¿"<br>- OrderBy: "ä¸¦ã³æ›¿ãˆ"<br>- Limit: "ä»¶æ•°åˆ¶é™"<br>- Cursor: "é–‹å§‹ä½ç½®"<br><br>**Visual Details**:<br>[CRITICAL: Draw a data pipeline metaphor. 1. A raw list of items enters a funnel labeled 'Where'. 2. Inside the funnel, items are sorted by gears labeled 'OrderBy'. 3. At the exit, a gate labeled 'Limit' only lets a few items pass. 4. A bookmark labeled 'Cursor' marks the position for the next batch.] | Firestoreå…¬å¼ã§ã‚‚ã€ä¸€è¦§ã¯ **orderBy + limit** ã‚’åŸºæœ¬ã«ã—ã¦çµ„ã¿ç«‹ã¦ã‚‹æµã‚ŒãŒç¤ºã•ã‚Œã¦ã‚‹ã‚ˆã€‚([Firebase][1]) |
| 319 | firebase_firestore_struncture_ts_study_008.md | firebase_firestore_struncture_ts_study_008_02_list_types.png | ./picture/firebase_firestore_struncture_ts_study_008_02_list_types.png | **Theme**: Three Types of List Views<br><br>**Labels to Render**:<br>- Newest: "æ–°ç€é †"<br>- My Posts: "è‡ªåˆ†ã®æŠ•ç¨¿"<br>- Popular: "äººæ°—é †"<br><br>**Visual Details**:<br>[CRITICAL: Show three smartphone screens side-by-side. 1. 'Newest' screen shows items with timestamps. 2. 'My Posts' screen shows items with a user avatar icon. 3. 'Popular' screen shows items with heart icons and high numbers. Connect them to a central database icon with different query arrows.] | ã“ã®3ã¤ã‚’æº€ãŸã™ã‚ˆã†ã«ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’é€†ç®—ã—ã‚ˆã†ğŸ’¡ |
| 320 | firebase_firestore_struncture_ts_study_008.md | firebase_firestore_struncture_ts_study_008_03_missing_field_exclusion.png | ./picture/firebase_firestore_struncture_ts_study_008_03_missing_field_exclusion.png | **Theme**: Missing Field Exclusion<br><br>**Labels to Render**:<br>- With Field: "ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚ã‚Š"<br>- Without Field: "ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãªã—"<br>- Result: "æ¤œç´¢çµæœ"<br><br>**Visual Details**:<br>[CRITICAL: Draw a filter or sieve. 1. Documents with the 'createdAt' field pass through the sieve and land in the 'Result' bucket. 2. Documents WITHOUT the 'createdAt' field bounce off the sieve and disappear (ghost effect). 3. Use simple geometric shapes for documents.] | ï¼ˆã¤ã¾ã‚Šã€createdAt ãŒç„¡ã„è¨˜äº‹ã¯ä¸€è¦§ã«å‡ºã¦ã“ãªã„ï¼‰([Firebase][1]) |
| 321 | firebase_firestore_struncture_ts_study_008.md | firebase_firestore_struncture_ts_study_008_04_sort_instability.png | ./picture/firebase_firestore_struncture_ts_study_008_04_sort_instability.png | **Theme**: Sort Instability with Same Values<br><br>**Labels to Render**:<br>- Time 10:00: "10:00"<br>- Time 10:00: "10:00"<br>- Sorting: "ä¸¦ã³é †"<br>- Unstable: "ä¸å®‰å®š"<br><br>**Visual Details**:<br>[CRITICAL: Illustrate two items with the exact same timestamp '10:00'. 1. Show them fighting for the same position in a list. 2. Use a '?' icon or a wobbling effect to show that their order is undefined. 3. Show a pagination arrow skipping one of them due to this confusion.] | Firestoreå…¬å¼ã®ã‚«ãƒ¼ã‚½ãƒ«èª¬æ˜ã§ã‚‚ã€**ã‚«ãƒ¼ã‚½ãƒ«ã«ä½¿ã†ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å€¤ãŒåŒã˜ã ã¨æœŸå¾…ã—ãŸæŒ™å‹•ã«ãªã‚‰ãªã„ã“ã¨ãŒã‚ã‚‹**ã£ã¦æ˜è¨€ã•ã‚Œã¦ã‚‹ã‚ˆã€‚([Firebase][2]) |
| 322 | firebase_firestore_struncture_ts_study_008.md | firebase_firestore_struncture_ts_study_008_05_snapshot_cursor.png | ./picture/firebase_firestore_struncture_ts_study_008_05_snapshot_cursor.png | **Theme**: Snapshot Cursor Concept<br><br>**Labels to Render**:<br>- Last Doc: "æœ€å¾Œã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"<br>- Cursor: "ã‚«ãƒ¼ã‚½ãƒ«"<br>- Next Page: "æ¬¡ã®ãƒšãƒ¼ã‚¸"<br><br>**Visual Details**:<br>[CRITICAL: visual metaphor of a relay race. 1. The last document of Page 1 passes itself (as a baton labeled 'Snapshot') to the query of Page 2. 2. The query uses this baton to know exactly where to start. 3. Contrast with a simple number 'Page 2' which is crossed out.] | ã‚«ãƒ¼ã‚½ãƒ«ã¯ **DocumentSnapshot** ã‚’æ¸¡ã›ã‚‹ï¼ˆå€¤ã‚’æ‰‹ã§ä¸¦ã¹ãªãã¦ã„ã„ï¼‰([Firebase][2]) |
| 323 | firebase_firestore_struncture_ts_study_008.md | firebase_firestore_struncture_ts_study_008_06_pagination_errors.png | ./picture/firebase_firestore_struncture_ts_study_008_06_pagination_errors.png | **Theme**: Pagination Gap and Duplication<br><br>**Labels to Render**:<br>- Page 1: "ãƒšãƒ¼ã‚¸1"<br>- Page 2: "ãƒšãƒ¼ã‚¸2"<br>- Duplicate: "é‡è¤‡"<br>- Missed: "æŠœã‘æ¼ã‚Œ"<br><br>**Visual Details**:<br>[CRITICAL: Show two lists representing Page 1 and Page 2. 1. An item 'Item A' appears at the bottom of Page 1 AND the top of Page 2 (Duplicate). 2. Another item 'Item B' is hidden in the gap between pages (Missed). 3. Use red warning icons to highlight the errors.] | åŒã˜ createdAt ãŒç¶šãã¨ã€ã‚«ãƒ¼ã‚½ãƒ«ãŒæ›–æ˜§ã«ãªã‚Šã‚„ã™ã„âš ï¸([Firebase][2]) |
| 324 | firebase_firestore_struncture_ts_study_008.md | firebase_firestore_struncture_ts_study_008_07_ai_log_schema.png | ./picture/firebase_firestore_struncture_ts_study_008_07_ai_log_schema.png | **Theme**: AI Log Document Schema<br><br>**Labels to Render**:<br>- Collection: "aiLogs"<br>- Fields: "ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰"<br>- Model: "ãƒ¢ãƒ‡ãƒ«å"<br>- Action: "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³"<br><br>**Visual Details**:<br>[CRITICAL: Draw a document schema diagram for 'aiLogs'. 1. Show a box representing a document. 2. List fields inside: 'createdAt', 'userId', 'model', 'action'. 3. Highlight 'model' with a specific value like 'gemini-1.5-pro' to emphasize tracking model versions.] | ãã®ã¨ãã‚‚ç¬¬8ç« ã®è€ƒãˆæ–¹ãŒãã®ã¾ã¾åŠ¹ãï¼ |
| 325 | firebase_firestore_struncture_ts_study_009.md | firebase_firestore_struncture_ts_study_009_01_hotspot_types.png | ./picture/firebase_firestore_struncture_ts_study_009_01_hotspot_types.png | **Theme**: Two Types of Hotspots<br><br>**Labels to Render**:<br>- Document Hotspot: "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé›†ä¸­"<br>- Collection Hotspot: "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³é›†ä¸­"<br>- Write Limit: "æ›¸ãè¾¼ã¿åˆ¶é™"<br><br>**Visual Details**:<br>[CRITICAL: Split composition. Left: Many arrows hitting a SINGLE document icon, turning it red hot. Right: Many arrows hitting the END of a list (sequential ID), turning the last item red hot. Use fire icons to represent the hotspot.] | 1ç‚¹é›†ä¸­ãŒèµ·ãã‚‹ã¨å¾…ã¡ãŒç™ºç”Ÿã—ã‚„ã™ã„ã‚“ã§ã™ã­ğŸ˜‡ ([Firebase][1]) |
| 326 | firebase_firestore_struncture_ts_study_009.md | firebase_firestore_struncture_ts_study_009_02_direct_write_bottleneck.png | ./picture/firebase_firestore_struncture_ts_study_009_02_direct_write_bottleneck.png | **Theme**: Direct Write Bottleneck<br><br>**Labels to Render**:<br>- Post: "è¨˜äº‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"<br>- Likes: "ã„ã„ã­æ•°"<br>- Users: "ãƒ¦ãƒ¼ã‚¶ãƒ¼"<br>- Traffic Jam: "æ¸‹æ»"<br><br>**Visual Details**:<br>[CRITICAL: Draw a central document labeled 'Post' with a 'likesCount' field. Show hundreds of user icons trying to send '+1' updates to it simultaneously. Visualize the inputs clogging up a narrow funnel neck, causing a delay/jam.] | ã€Œè¦‹ãŸç›®ãƒ©ã‚¯ã€ãªã‚“ã ã‘ã©ã€äººæ°—è¨˜äº‹ã»ã©**1ç‚¹é›†ä¸­**ã§è©°ã¾ã‚ŠãŒã¡ğŸ˜‡ |
| 327 | firebase_firestore_struncture_ts_study_009.md | firebase_firestore_struncture_ts_study_009_03_subcollection_likes.png | ./picture/firebase_firestore_struncture_ts_study_009_03_subcollection_likes.png | **Theme**: Subcollection Strategy for Likes<br><br>**Labels to Render**:<br>- Parent: "è¦ªæŠ•ç¨¿"<br>- Subcollection: "ã„ã„ã­ã‚µãƒ–ã‚³ãƒ¬"<br>- User Docs: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"<br><br>**Visual Details**:<br>[CRITICAL: Show a parent document 'Post'. Connected below it is a collection labeled 'likes'. Inside, show many separate small documents, each labeled with a User ID. Show arrows updating these small documents smoothly in parallel, avoiding the bottleneck.] | * âœ… `posts/{postId}/likes/{uid}` ã«ä¿å­˜ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«åˆ¥ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰ |
| 328 | firebase_firestore_struncture_ts_study_009.md | firebase_firestore_struncture_ts_study_009_04_sharded_counter.png | ./picture/firebase_firestore_struncture_ts_study_009_04_sharded_counter.png | **Theme**: Sharded Counter Concept<br><br>**Labels to Render**:<br>- Counter: "ã‚«ã‚¦ãƒ³ã‚¿"<br>- Shards: "ã‚·ãƒ£ãƒ¼ãƒ‰ (åˆ†å‰²)"<br>- Random: "ãƒ©ãƒ³ãƒ€ãƒ æŒ¯ã‚Šåˆ†ã‘"<br><br>**Visual Details**:<br>[CRITICAL: Draw a 'Counter' entity split into 10 smaller blocks (Shards). Show incoming update arrows being randomly distributed to different blocks (Shard 1, Shard 5, etc.). Show that no single block is getting all the heat.] | åˆ†æ•£ã‚«ã‚¦ãƒ³ã‚¿ã¯ã€ã‚·ãƒ£ãƒ¼ãƒ‰æ•°ã«å¿œã˜ã¦ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆãŒä¼¸ã³ã¾ã™ã€‚ ([Firebase][4]) |
| 329 | firebase_firestore_struncture_ts_study_009.md | firebase_firestore_struncture_ts_study_009_05_ai_log_strategy.png | ./picture/firebase_firestore_struncture_ts_study_009_05_ai_log_strategy.png | **Theme**: AI Log Hotspot vs Append-only<br><br>**Labels to Render**:<br>- Bad: "é›†è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"<br>- Good: "è¿½è¨˜å‹ãƒ­ã‚°"<br>- Sequential: "é€£ç•ª"<br>- Random ID: "ãƒ©ãƒ³ãƒ€ãƒ ID"<br><br>**Visual Details**:<br>[CRITICAL: Compare two approaches. Left (Bad): Updates hitting a single 'Stats' document (Hotspot). Right (Good): New documents being added to a 'Logs' collection with Random IDs, spreading the load evenly. Use green checkmark for Right and red X for Left.] | âŒ `aiStats/today` ã«æ¯å› `increment`ï¼ˆé›†ä¸­ã—ãŒã¡ï¼‰ |
| 330 | firebase_firestore_struncture_ts_study_010.md | firebase_firestore_struncture_ts_study_010_01_aggregation_balance.png | ./picture/firebase_firestore_struncture_ts_study_010_01_aggregation_balance.png | **Theme**: Aggregation Strategy Balance<br><br>**Labels to Render**:<br>- Read-time: "èª­ã¿å–ã‚Šæ™‚é›†è¨ˆ"<br>- Write-time: "æ›¸ãè¾¼ã¿æ™‚é›†è¨ˆ"<br>- Cost: "ã‚³ã‚¹ãƒˆ"<br>- Speed: "é€Ÿåº¦"<br><br>**Visual Details**:<br>[CRITICAL: Draw a balance scale. Left pan: 'Aggregation Query' (Lightweight storage, Compute on read). Right pan: 'Stored Counter' (Heavy storage, Instant read). Show them balancing each other out.] | ã“ã®åˆ¤æ–­ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã€Firestoreè¨­è¨ˆãŒä¸€æ°—ã«ãƒ—ãƒ­ã£ã½ããªã‚Šã¾ã™ğŸ˜ğŸ”¥ |
| 331 | firebase_firestore_struncture_ts_study_010.md | firebase_firestore_struncture_ts_study_010_02_aggregation_limits.png | ./picture/firebase_firestore_struncture_ts_study_010_02_aggregation_limits.png | **Theme**: Aggregation Query Limitations<br><br>**Labels to Render**:<br>- Realtime: "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ "<br>- Offline: "ã‚ªãƒ•ãƒ©ã‚¤ãƒ³"<br>- Timeout: "ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ"<br><br>**Visual Details**:<br>[CRITICAL: Use standard warning/prohibition signs. 1. A 'Realtime' symbol (lightning/wave) with a red slash (Prohibited). 2. An 'Offline' symbol (disconnected plug) with a red slash. 3. A stopwatch stopped at 60s with a warning triangle.] | ãŸã ã— **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è³¼èª­ï¼ˆonSnapshotï¼‰ã§ã¯ä½¿ãˆãªã„** / **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ã‚‚ä½¿ãˆãªã„** / **å¤§ãã™ãã‚‹ã¨60ç§’ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ** ãªã©åˆ¶ç´„ã‚ã‚Šâš ï¸ ([Firebase][1]) |
| 332 | firebase_firestore_struncture_ts_study_010.md | firebase_firestore_struncture_ts_study_010_03_n_plus_one_count.png | ./picture/firebase_firestore_struncture_ts_study_010_03_n_plus_one_count.png | **Theme**: N+1 Query Problem<br><br>**Labels to Render**:<br>- List: "ä¸€è¦§ç”»é¢"<br>- Queries: "å•ã„åˆã‚ã›"<br>- Slow: "é…ã„"<br><br>**Visual Details**:<br>[CRITICAL: Show a list of 20 items. From EACH item, draw a magnifying glass (query) arrow going to the database. Show the database looking overwhelmed by 20 separate requests. Label the arrow cluster '20 Reads'.] | æŠ•ç¨¿ãŒ20ä»¶å‡ºã‚‹ç”»é¢ã§ã€å„æŠ•ç¨¿ã« `count()` ã‚’æ‰“ã¤ã¨ **20å›å•ã„åˆã‚ã›**ã«ãªã‚ŠãŒã¡ğŸ’¥ |
| 333 | firebase_firestore_struncture_ts_study_010.md | firebase_firestore_struncture_ts_study_010_04_sharded_counter_detail.png | ./picture/firebase_firestore_struncture_ts_study_010_04_sharded_counter_detail.png | **Theme**: Sharded Counter Structure Detail<br><br>**Labels to Render**:<br>- Post: "è¨˜äº‹"<br>- Shards: "ã‚·ãƒ£ãƒ¼ãƒ‰(10å€‹)"<br>- Sum: "åˆè¨ˆ"<br>- Total: "ç·æ•°"<br><br>**Visual Details**:<br>[CRITICAL: Show the hierarchical structure. Parent 'Post' -> Subcollection 'Shards' -> 10 Documents (0-9). Show a 'Summation' process reading all 10 documents and combining them into a 'Total' value displayed to the user.] | åˆ†æ•£ã‚«ã‚¦ãƒ³ã‚¿ã¯ã€Œshards ã‚’ã‚µãƒ–ã‚³ãƒ¬ã«æŒã£ã¦åˆè¨ˆã§æ•°ã‚’ä½œã‚‹ã€å…¬å¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã€‚ã‚·ãƒ£ãƒ¼ãƒ‰æ•°ã«æ¯”ä¾‹ã—ã¦æ›¸ãè¾¼ã¿æ€§èƒ½ãŒä¼¸ã³ã¾ã™ã€‚([Firebase][2]) |
| 334 | firebase_firestore_struncture_ts_study_010.md | firebase_firestore_struncture_ts_study_010_05_aggregation_flowchart.png | ./picture/firebase_firestore_struncture_ts_study_010_05_aggregation_flowchart.png | **Theme**: Aggregation Strategy Flowchart<br><br>**Labels to Render**:<br>- Start: "é–‹å§‹"<br>- List View?: "ä¸€è¦§ã§å¿…è¦ï¼Ÿ"<br>- Realtime?: "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼Ÿ"<br>- Save: "ä¿å­˜æ–¹å¼(B)"<br>- Query: "ãã®å ´é›†è¨ˆ(A)"<br><br>**Visual Details**:<br>[CRITICAL: Draw a simple decision tree. Start -> Question 'List View?'. Yes -> 'Save'. No -> Question 'Realtime?'. Yes -> 'Save'. No -> 'Query'. Use clear arrows and diamond shapes for questions.] | æ¬¡ã‚’ **A/B/C** ã§åˆ†é¡ã—ã¦ã¿ã¦ãã ã•ã„ğŸ‘‡ |
| 335 | firebase_firestore_struncture_ts_study_011.md | firebase_firestore_struncture_ts_study_011_01_aggregation_functions.png | ./picture/firebase_firestore_struncture_ts_study_011_01_aggregation_functions.png | **Theme**: Three Aggregation Functions<br><br>**Labels to Render**:<br>- Count: "ä»¶æ•° (Count)"<br>- Sum: "åˆè¨ˆ (Sum)"<br>- Average: "å¹³å‡ (Average)"<br><br>**Visual Details**:<br>[CRITICAL: Three distinct icons. 1. Count: A hand counting items or a tally mark. 2. Sum: A stack of coins or blocks growing tall. 3. Average: A balance scale leveling out unequal stacks. Use simple, flat geometric style.] | **ã€Œé›†è¨ˆã‚’ã‚µãƒ¼ãƒãƒ¼å´ã§è¨ˆç®—ã—ã¦ã€çµæœã ã‘è¿”ã™ã€** ã®ã§ã€è»¢é€é‡ã‚‚èª­ã¿å–ã‚Šã‚³ã‚¹ãƒˆã‚‚ç¯€ç´„ã—ã‚„ã™ã„ã€ã¨ã„ã†ã“ã¨ã§ã™ğŸ“‰âœ¨ ([Firebase][1]) |
| 336 | firebase_firestore_struncture_ts_study_011.md | firebase_firestore_struncture_ts_study_011_02_no_realtime_stream.png | ./picture/firebase_firestore_struncture_ts_study_011_02_no_realtime_stream.png | **Theme**: No Realtime for Aggregation<br><br>**Labels to Render**:<br>- Stream: "ã‚¹ãƒˆãƒªãƒ¼ãƒ "<br>- Aggregation: "é›†è¨ˆ"<br>- Blocked: "ä¸å¯"<br><br>**Visual Details**:<br>[CRITICAL: Show a pipe labeled 'Realtime Stream' trying to connect to a box labeled 'Aggregation'. Show a barrier or a 'Stop' sign preventing the connection. Contrast with a 'One-time Request' arrow which connects successfully.] | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«æ•°å­—ãŒå‹•ã„ã¦ã»ã—ã„ãªã‚‰ã€æ¬¡ç« ã®ã€Œæ›¸ãè¾¼ã¿æ™‚é›†è¨ˆï¼ˆWrite-timeï¼‰ã€ç³»ï¼ˆåˆ†æ•£ã‚«ã‚¦ãƒ³ã‚¿ç­‰ï¼‰ã«å¯„ã›ã¾ã™ğŸ’¡ ([Firebase][2]) |
| 337 | firebase_firestore_struncture_ts_study_011.md | firebase_firestore_struncture_ts_study_011_03_data_type_filtering.png | ./picture/firebase_firestore_struncture_ts_study_011_03_data_type_filtering.png | **Theme**: Data Type Filtering<br><br>**Labels to Render**:<br>- Input: "å…¥åŠ›ãƒ‡ãƒ¼ã‚¿"<br>- Sum: "åˆè¨ˆè¨ˆç®—"<br>- Ignored: "ç„¡è¦–"<br><br>**Visual Details**:<br>[CRITICAL: Draw a conveyor belt feeding items into a machine labeled 'Sum'. Numeric items (5, 10) enter the machine. Non-numeric items (Text 'ABC', Null) fall off the belt into a bin labeled 'Ignored'.] | å¯¾ç­–ã¯ç°¡å˜ã§ã€**é›†è¨ˆã—ãŸã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å¿…ãšæ•°å€¤ã§å…¥ã‚Œã‚‹ï¼ˆåˆæœŸå€¤0ï¼‰** ã«å¯„ã›ã‚‹ã®ãŒå®‰å…¨ã§ã™âœ… ([Firebase][3]) |
| 338 | firebase_firestore_struncture_ts_study_011.md | firebase_firestore_struncture_ts_study_011_04_billing_meter.png | ./picture/firebase_firestore_struncture_ts_study_011_04_billing_meter.png | **Theme**: Aggregation Billing Concept<br><br>**Labels to Render**:<br>- Scanned: "èª­ã¿å–ã‚Šæ•°"<br>- Cost: "èª²é‡‘"<br>- 1 Read: "1 Readåˆ†"<br><br>**Visual Details**:<br>[CRITICAL: Draw a meter or gauge. Mark the scale. Show that '1000 items scanned' equals '1 Read Unit'. Show '12000 items scanned' equals '12 Read Units'. Emphasize that it's based on index entries, not document size.] | ã€Œå…¨éƒ¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚€ã‚ˆã‚Šã€ã‹ãªã‚Šè»½ããªã‚Šã‚„ã™ã„ã€æ–¹å‘æ€§ã§ã™ã­âœ¨ ([Firebase][4]) |
| 339 | firebase_firestore_struncture_ts_study_011.md | firebase_firestore_struncture_ts_study_011_05_multi_aggregation_request.png | ./picture/firebase_firestore_struncture_ts_study_011_05_multi_aggregation_request.png | **Theme**: Single Request Multiple Aggregations<br><br>**Labels to Render**:<br>- Request: "ãƒªã‚¯ã‚¨ã‚¹ãƒˆ"<br>- Response: "ãƒ¬ã‚¹ãƒãƒ³ã‚¹"<br>- Count/Sum/Avg: "Count/Sum/Avg"<br><br>**Visual Details**:<br>[CRITICAL: Draw a single rocket or packet traveling from Client to Server. Inside the packet, show three slots filled with 'Count', 'Sum', and 'Avg'. Show the return packet containing all three results in one go.] | `getAggregateFromServer()` ã« `{ åå‰: sum("field") }` ã¿ãŸã„ã«æ¸¡ã™ã®ãŒåŸºæœ¬å½¢ã§ã™âœ¨ ([Firebase][1]) |
| 340 | firebase_firestore_struncture_ts_study_012.md | firebase_firestore_struncture_ts_study_012_01_bottleneck_funnel.png | ./picture/firebase_firestore_struncture_ts_study_012_01_bottleneck_funnel.png | **Theme**: Write Bottleneck Funnel<br><br>**Labels to Render**:<br>- Traffic: "ã‚¢ã‚¯ã‚»ã‚¹é›†ä¸­"<br>- Document: "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"<br>- Error: "ã‚¨ãƒ©ãƒ¼"<br><br>**Visual Details**:<br>[CRITICAL: Draw a funnel. The wide top is labeled 'Traffic'. The narrow neck is labeled 'Single Document'. Show items jamming at the neck, unable to pass through. Show 'Error' sparks flying out from the jam.] | ã•ã‚‰ã«ã€é™ç•Œã‚’è¶…ãˆã‚‹ã¨ `RESOURCE_EXHAUSTED` ã¿ãŸã„ãªã‚¨ãƒ©ãƒ¼ï¼ˆã‚¯ã‚©ãƒ¼ã‚¿/æ›¸ãè¾¼ã¿ãƒ©ãƒ³ãƒ—ã‚¢ãƒƒãƒ—åˆ¶é™ãªã©ï¼‰ãŒå‡ºã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ğŸ˜µâ€ğŸ’«([Google Cloud Documentation][2]) |
| 341 | firebase_firestore_struncture_ts_study_012.md | firebase_firestore_struncture_ts_study_012_02_shard_shattering.png | ./picture/firebase_firestore_struncture_ts_study_012_02_shard_shattering.png | **Theme**: Sharding Concept<br><br>**Labels to Render**:<br>- Single: "å˜ä¸€"<br>- Sharded: "åˆ†æ•£"<br>- Durability: "è€æ€§ã‚¢ãƒƒãƒ—"<br><br>**Visual Details**:<br>[CRITICAL: Before/After comparison. Before: A single large block labeled 'Single' cracking under weight. After: The same block shattered into 10 smaller, strong blocks labeled 'Shards', easily supporting the weight.] | å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚‚ã€Œshardæ•°ã«æ¯”ä¾‹ã—ã¦æ›¸ãè¾¼ã¿è€æ€§ãŒå¢—ãˆã‚‹ã€ã“ã¨ãŒèª¬æ˜ã•ã‚Œã¦ã„ã¾ã™([Firebase][3]) |
| 342 | firebase_firestore_struncture_ts_study_012.md | firebase_firestore_struncture_ts_study_012_03_roulette_selection.png | ./picture/firebase_firestore_struncture_ts_study_012_03_roulette_selection.png | **Theme**: Random Shard Selection<br><br>**Labels to Render**:<br>- Random: "ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ"<br>- Shards: "ã‚·ãƒ£ãƒ¼ãƒ‰ 0-9"<br>- Write: "æ›¸ãè¾¼ã¿"<br><br>**Visual Details**:<br>[CRITICAL: Draw a roulette wheel or a lottery wheel with 10 slots numbered 0-9. A ball labeled 'Write' falls into one of the slots (e.g., 7). Show that the selection is random and unbiased.] |   // increment() ã¯è¡çªã«å¼·ã„åŸå­çš„æ›´æ–°ï¼ˆåŒæ™‚æŠ¼ã—ã§ã‚‚ã‚ºãƒ¬ã«ãã„ï¼‰ |
| 343 | firebase_firestore_struncture_ts_study_012.md | firebase_firestore_struncture_ts_study_012_04_read_cost_effort.png | ./picture/firebase_firestore_struncture_ts_study_012_04_read_cost_effort.png | **Theme**: Read Cost Trade-off<br><br>**Labels to Render**:<br>- Reading: "èª­ã¿å–ã‚Š"<br>- Cost: "ã‚³ã‚¹ãƒˆå¢—"<br>- Collection: "åé›†"<br><br>**Visual Details**:<br>[CRITICAL: Draw a character acting as the 'Reader'. They are running around collecting data from 10 different locations (Shards). Show sweat drops to indicate the effort (Cost). Contrast with reading a single document which is effortless.] | return total; |
| 344 | firebase_firestore_struncture_ts_study_012.md | firebase_firestore_struncture_ts_study_012_05_tamper_prevention.png | ./picture/firebase_firestore_struncture_ts_study_012_05_tamper_prevention.png | **Theme**: Client-side Tamper Prevention<br><br>**Labels to Render**:<br>- Client: "ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ"<br>- Server: "ã‚µãƒ¼ãƒãƒ¼"<br>- Direct: "ç›´æ¥æ›´æ–° (å±é™º)"<br>- Trigger: "ãƒˆãƒªã‚¬ãƒ¼ (å®‰å…¨)"<br><br>**Visual Details**:<br>[CRITICAL: Split view. Top (Bad): Client directly updating the counter (Red X). Bottom (Good): Client creating a 'Like' document, and the Server (Cloud Function) seeing it and updating the counter (Green Check).] | â†’ ã“ã‚Œã§ã€Œã‚ºãƒ«ã€ã¨ã€Œè¡çªã€ã‚’ä¸¡æ–¹ã‚±ã‚¢ã§ãã¾ã™ğŸ›¡ï¸âœ¨ |
