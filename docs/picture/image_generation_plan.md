| ID | File Name | Proposed Image Filename | Relative Link Path | Prompt | Insertion Point |
|---|---|---|---|---|---|
| 1 | test_ts_study_001.md | test_ts_study_001_input_output.png | ./picture/test_ts_study_001_input_output.png | **Theme**: Preparation Toolbox<br><br>**Labels to Render**:<br>- Preparation: "æº–å‚™"<br>- Tools: "é“å…·"<br><br>**Visual Details**:<br>1. Core Concept: Getting ready for the journey.<br>2. Metaphor: A neatly organized toolbox with essential tools (VS icon, Git logo, Test tube).<br>3. Action: A hand picking up a tool.<br>4. Layout: Top-down view or isometric, clean and organized. | ### 2) å–ã‚Šå‡ºã—ã™ãæ³¨æ„âš ï¸ |
| 2 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_01_concept.png | ./picture/firebase_abuse_prevention_ts_index_01_concept.png | **Theme**: App Protection Shield<br><br>**Labels to Render**:<br>- Shield: "App Check"<br>- Attackers: "Bots/Abuse"<br>- App: "Firebase App"<br><br>**Visual Details**:<br>1. Core Concept: Protecting the application from unauthorized access.<br>2. Metaphor: A glowing shield (App Check) deflecting jagged arrows (Bots) from a clean, central app icon.<br>3. Action: Arrows bouncing off the shield.<br>4. Layout: Central composition, strong contrast between safe inside and dangerous outside. | Before: ## ã“ã®æ•™æã§ä½œã‚‹ãƒŸãƒ‹ã‚¢ãƒ—ãƒªï¼ˆé¡Œæï¼‰ğŸ§©âœ¨ |
| 3 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_02_architecture.png | ./picture/firebase_abuse_prevention_ts_index_02_architecture.png | **Theme**: Mini App Components<br><br>**Labels to Render**:<br>- Database: "Firestore (Memo)"<br>- Storage: "Storage (Image)"<br>- AI: "AI Logic (Gemini)"<br>- Security: "App Check"<br><br>**Visual Details**:<br>1. Core Concept: The components of the example application.<br>2. Metaphor: Three interconnected blocks (Firestore, Storage, AI) wrapped in a transparent security layer (App Check).<br>3. Action: Data flowing securely between components.<br>4. Layout: Isometric view or flat diagram showing integration. | Before: ## å…¨ä½“ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ï¼ˆç« ã®æµã‚Œï¼‰ğŸ—ºï¸ |
| 4 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_03_roadmap.png | ./picture/firebase_abuse_prevention_ts_index_03_roadmap.png | **Theme**: Course Roadmap<br><br>**Labels to Render**:<br>- Phase A: "Basic (Web)"<br>- Phase B: "Services (DB/AI)"<br>- Phase C: "Ops (Dev/CI)"<br>- Phase D: "Advanced (Bot)"<br><br>**Visual Details**:<br>1. Core Concept: The 4 phases of the course.<br>2. Metaphor: A winding path with 4 milestones, each representing a phase.<br>3. Action: Progression from basic setup to advanced techniques.<br>4. Layout: Left-to-right journey. | Before: ## 20ç« ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ï¼ˆèª­ã‚€â†’æ‰‹ã‚’å‹•ã‹ã™â†’ãƒŸãƒ‹èª²é¡Œâ†’ãƒã‚§ãƒƒã‚¯ï¼‰ğŸ“šğŸ”¥ |
| 5 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_04_recaptcha_comparison.png | ./picture/firebase_abuse_prevention_ts_index_04_recaptcha_comparison.png | **Theme**: reCAPTCHA Editions<br><br>**Labels to Render**:<br>- v3: "Score (0.0-1.0)"<br>- Enterprise: "Risk Analysis"<br>- Usage: "Simple vs Robust"<br><br>**Visual Details**:<br>1. Core Concept: Comparison between reCAPTCHA v3 and Enterprise.<br>2. Metaphor: A simple thermometer (v3) vs a complex control dashboard (Enterprise).<br>3. Action: Displaying the difference in depth and control.<br>4. Layout: Side-by-side comparison. | In Chapter 4 |
| 6 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_05_defense_layers.png | ./picture/firebase_abuse_prevention_ts_index_05_defense_layers.png | **Theme**: Two Layers of Defense<br><br>**Labels to Render**:<br>- Outer: "App Check (Device)"<br>- Inner: "Rules (User)"<br>- Core: "Firestore"<br><br>**Visual Details**:<br>1. Core Concept: Dual layer security.<br>2. Metaphor: Two concentric walls protecting a treasure (Firestore).<br>3. Action: Outer wall blocks bad devices, inner wall blocks unauthorized users.<br>4. Layout: Concentric circles or funnel. | In Chapter 8 |
| 7 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_06_ai_protection.png | ./picture/firebase_abuse_prevention_ts_index_06_ai_protection.png | **Theme**: Protecting AI Resources<br><br>**Labels to Render**:<br>- Shield: "App Check"<br>- Valve: "Rate Limit"<br>- AI: "AI Logic"<br><br>**Visual Details**:<br>1. Core Concept: Protecting expensive AI resources.<br>2. Metaphor: A robot (AI) protected by a shield (App Check) and a flow valve (Rate Limit).<br>3. Action: Ensuring only valid and limited requests reach the AI.<br>4. Layout: Flow diagram. | In Chapter 12 |
| 8 | docs/firebase_abuse_prevention_ts_index.md | firebase_abuse_prevention_ts_index_07_dev_lifecycle.png | ./picture/firebase_abuse_prevention_ts_index_07_dev_lifecycle.png | **Theme**: App Check in Dev Ops<br><br>**Labels to Render**:<br>- Local: "Debug Token"<br>- CI: "CI Token"<br>- Prod: "Attestation"<br><br>**Visual Details**:<br>1. Core Concept: App Check integration across environments.<br>2. Metaphor: A continuous loop (Dev -> CI -> Prod) with specific keys for each stage.<br>3. Action: Smooth flow without blockages.<br>4. Layout: Cycle or pipeline. | In Chapter 14 |
| 9 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_01_id_card.png | ./picture/firebase_abuse_prevention_ts_study_001_01_id_card.png | **Theme**: App Identity Card<br><br>**Labels to Render**:<br>- Card: "App Check Token"<br>- Issuer: "Firebase"<br>- Holder: "Official App"<br><br>**Visual Details**:<br>1. Core Concept: App Check acts as an ID card for the app.<br>2. Metaphor: A digital ID card with a holographic chip being scanned by a gate.<br>3. Action: Scanning the card to grant access.<br>4. Layout: Close-up of the card and scanner. | After: ## 1) ã¾ãšçµè«–ï¼šApp Check ã¯ã€Œæ­£è¦ã‚¢ãƒ—ãƒªã®èº«åˆ†è¨¼ã€ğŸ«âœ¨ |
| 10 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_02_access_flow.png | ./picture/firebase_abuse_prevention_ts_study_001_02_access_flow.png | **Theme**: Verified vs Unverified Access<br><br>**Labels to Render**:<br>- Top Path: "Valid Token" -> "Access Granted"<br>- Bottom Path: "No Token" -> "Access Denied"<br>- Gate: "App Check"<br><br>**Visual Details**:<br>1. Core Concept: Filtering traffic based on tokens.<br>2. Metaphor: A fork in the road. Valid travellers pass the checkpoint, invalid ones are stopped.<br>3. Action: Green light for top path, red barrier for bottom.<br>4. Layout: Split composition showing both outcomes. | After: ã–ã£ãã‚Šå›³è§£ã™ã‚‹ã¨ğŸ‘‡ |
| 11 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_03_abuse_scenarios.png | ./picture/firebase_abuse_prevention_ts_study_001_03_abuse_scenarios.png | **Theme**: Three Abuse Vectors<br><br>**Labels to Render**:<br>- AI: "Bill Shock"<br>- Storage: "Junk Data"<br>- DB: "Data Leak"<br><br>**Visual Details**:<br>1. Core Concept: The three main risks (AI cost, Storage junk, DB leak).<br>2. Metaphor: Three warning signs or danger zones.<br>3. Action: Highlighting the impact (burning money, overflowing trash, leaking pipe).<br>4. Layout: Triptych (three panels). | After: ## 2) â€œä½•ãŒèµ·ãã‚‹ã®ï¼Ÿâ€ï¼šæ­£è¦ã‚¢ãƒ—ãƒªä»¥å¤–ã‹ã‚‰å©ã‹ã‚Œã‚‹ã¨ãƒ„ãƒ©ã„ã“ã¨3ã¤ğŸ˜±ğŸ’¸ |
| 12 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_04_role_separation.png | ./picture/firebase_abuse_prevention_ts_study_001_04_role_separation.png | **Theme**: Auth vs Rules vs App Check<br><br>**Labels to Render**:<br>- Auth: "Who are you?"<br>- Rules: "What can you do?"<br>- App Check: "Which app is this?"<br><br>**Visual Details**:<br>1. Core Concept: Distinguishing the three security pillars.<br>2. Metaphor: Three different checkpoints. ID check (Auth), Badge check (App Check), Permission slip check (Rules).<br>3. Action: Sequential checks.<br>4. Layout: Three distinct icons or stations. | After: ## 3) App Checkã¯ã€ŒAuthã€ã‚„ã€ŒRulesã€ã¨å½¹å‰²ãŒé•ã†ğŸ§© |
| 13 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_05_phased_rollout.png | ./picture/firebase_abuse_prevention_ts_study_001_05_phased_rollout.png | **Theme**: Gradual Enforcement<br><br>**Labels to Render**:<br>- Step 1: "Monitor (Metrics)"<br>- Step 2: "Analyze"<br>- Step 3: "Enforce (Block)"<br><br>**Visual Details**:<br>1. Core Concept: Safe rollout strategy.<br>2. Metaphor: A dashboard with a slider moving from "Monitor" to "Enforce".<br>3. Action: The slider moving carefully.<br>4. Layout: Left-to-right progression. | After: ## 4) æ®µéšå°å…¥ãŒåŸºæœ¬ï¼šã€Œã¾ãšã¯â€œæ¸¬ã‚‹â€ â†’ ãã‚Œã‹ã‚‰â€œæ‹’å¦ã‚‹â€ã€‘ã€è¶…é‡è¦ã€‘ğŸ“ˆğŸ›ï¸ |
| 14 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_06_code_snippet.png | ./picture/firebase_abuse_prevention_ts_study_001_06_code_snippet.png | **Theme**: Initialization Timing<br><br>**Labels to Render**:<br>- First: "Initialize App Check"<br>- Second: "Use Services"<br>- Wrong: "Too Late!"<br><br>**Visual Details**:<br>1. Core Concept: Order of operations is critical.<br>2. Metaphor: A puzzle piece fitting in the very first slot.<br>3. Action: Locking the security piece before opening the data box.<br>4. Layout: Timeline or sequence diagram. | After: ## 5) ï¼ˆé›°å›²æ°—ã ã‘å…ˆè¦‹ã›ï¼‰App Checkã¯ â€œFirebaseè§¦ã‚‹å‰ã«åˆæœŸåŒ–â€ ãŒé‰„å‰‡ğŸ§¿âš›ï¸ |
| 15 | docs/firebase_abuse_prevention_ts_study_001.md | firebase_abuse_prevention_ts_study_001_07_checklist.png | ./picture/firebase_abuse_prevention_ts_study_001_07_checklist.png | **Theme**: Chapter 1 Takeaways<br><br>**Labels to Render**:<br>- Concept: "App Identity"<br>- Strategy: "Monitor First"<br>- AI: "Rate Limits"<br><br>**Visual Details**:<br>1. Core Concept: Summary of key points.<br>2. Metaphor: A clipboard with 3 checked items.<br>3. Action: Ticking the boxes.<br>4. Layout: List format with icons. | After: ## âœ… ãƒã‚§ãƒƒã‚¯ï¼ˆã“ã®ç« ã®ã‚´ãƒ¼ãƒ«é”æˆåˆ¤å®šï¼‰âœ…ğŸ™‚ |
| 16 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_01_three_steps.png | ./picture/firebase_abuse_prevention_ts_study_002_01_three_steps.png | **Theme**: App Check Workflow<br><br>**Labels to Render**:<br>- 1. Prove: "App (Attest)"<br>- 2. Issue: "Firebase (Token)"<br>- 3. Access: "Resource (Check)"<br><br>**Visual Details**:<br>1. Core Concept: The handshake between App, Firebase, and Resource.<br>2. Metaphor: 1. Showing ID. 2. Getting a stamped ticket. 3. Showing ticket at the ride entrance.<br>3. Action: A sequential flow left to right.<br>4. Layout: Numbered steps with icons. | After: ## 1) App Check ã¯ä½•ã‚’ã—ã¦ã‚‹ï¼Ÿï¼ˆ3ã‚¹ãƒ†ãƒƒãƒ—ã ã‘ï¼‰ğŸ§¿ |
| 17 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_02_token_concept.png | ./picture/firebase_abuse_prevention_ts_study_002_02_token_concept.png | **Theme**: Entry Stamp<br><br>**Labels to Render**:<br>- Token: "App Check Token"<br>- Meaning: "Valid App"<br>- Not: "User Identity"<br><br>**Visual Details**:<br>1. Core Concept: Token proves app authenticity, not user identity.<br>2. Metaphor: A hand stamp at a club/event entrance. It shows you paid/entered correctly, but doesn't say your name.<br>3. Action: Stamping a hand.<br>4. Layout: Close up of the stamp. | After: ## 2) ã€Œãƒˆãƒ¼ã‚¯ãƒ³ã€ã£ã¦çµå±€ãªã«ï¼ŸğŸªª |
| 18 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_03_token_location.png | ./picture/firebase_abuse_prevention_ts_study_002_03_token_location.png | **Theme**: Token Transport<br><br>**Labels to Render**:<br>- Firebase SDK: "Automatic"<br>- Custom Backend: "Header: X-Firebase-AppCheck"<br>- Don't: "No Query Params"<br><br>**Visual Details**:<br>1. Core Concept: How the token travels.<br>2. Metaphor: A secure armored truck (Firebase SDK) vs a labeled envelope (Custom Header). Query params shown as a transparent bag (unsafe).<br>3. Action: Delivering the token.<br>4. Layout: Comparison of transport methods. | After: ## 3) ãƒˆãƒ¼ã‚¯ãƒ³ã¯ã©ã“ã«ä»˜ãã®ï¼Ÿï¼ˆFirebaseå†… / è‡ªå‰ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰ğŸ“¦ |
| 19 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_04_ttl_balance.png | ./picture/firebase_abuse_prevention_ts_study_002_04_ttl_balance.png | **Theme**: TTL Balance Scale<br><br>**Labels to Render**:<br>- Left: "Short TTL (Secure but Heavy)"<br>- Right: "Long TTL (Fast but Risky)"<br>- Fulcrum: "App Needs"<br><br>**Visual Details**:<br>1. Core Concept: Balancing security vs performance.<br>2. Metaphor: A weighing scale. One side has a heavy lock (Security), the other has a feather (Performance).<br>3. Action: Balancing the two.<br>4. Layout: Centered balance scale. | After: ## 4) TTLï¼ˆæœ‰åŠ¹æœŸé™ï¼‰ã£ã¦ãªã«ï¼ŸâŒ› |
| 20 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_05_phased_adoption.png | ./picture/firebase_abuse_prevention_ts_study_002_05_phased_adoption.png | **Theme**: Adoption Steps<br><br>**Labels to Render**:<br>- 1: "Install SDK"<br>- 2: "Monitor"<br>- 3: "Enforce"<br><br>**Visual Details**:<br>1. Core Concept: The safe path to enforcement.<br>2. Metaphor: Traffic lights. Green (Install), Yellow (Monitor), Red (Enforce/Stop Bad Traffic).<br>3. Action: Progressing through lights.<br>4. Layout: Vertical or horizontal traffic light sequence. | After: ## 5) ã€Œæ®µéšå°å…¥ã€ãŒè¶…é‡è¦ï¼ˆã„ããªã‚Šå¼·åˆ¶ã—ãªã„ï¼‰ğŸ‘€â¡ï¸ğŸ”’ |
| 21 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_06_limited_use_token.png | ./picture/firebase_abuse_prevention_ts_study_002_06_limited_use_token.png | **Theme**: One-Time Token<br><br>**Labels to Render**:<br>- Token: "Limited-Use"<br>- TTL: "5 Mins"<br>- Action: "Consume"<br><br>**Visual Details**:<br>1. Core Concept: A token that burns up after use.<br>2. Metaphor: A "Mission Impossible" message tape that self-destructs. Or a ticket that gets torn in half.<br>3. Action: The token disintegrating after use.<br>4. Layout: Dynamic action shot. | After: ## 6) ã¡ã‚‡ã„å…ˆå–ã‚Šï¼šLimited-use tokenï¼ˆãƒªãƒ—ãƒ¬ã‚¤è€æ€§ï¼‰â™»ï¸ğŸš« |
| 22 | docs/firebase_abuse_prevention_ts_study_002.md | firebase_abuse_prevention_ts_study_002_07_ttl_experiment.png | ./picture/firebase_abuse_prevention_ts_study_002_07_ttl_experiment.png | **Theme**: TTL Strategy<br><br>**Labels to Render**:<br>- High Risk: "Short TTL"<br>- Low Risk: "Long TTL"<br>- Default: "1 Day"<br><br>**Visual Details**:<br>1. Core Concept: Deciding TTL based on risk.<br>2. Metaphor: A dial or thermostat setting. High heat (Risk) -> Low time. Low heat -> High time.<br>3. Action: Adjusting the dial.<br>4. Layout: Control panel interface. | After: ## å®Ÿé¨“1ï¼šTTLæ–¹é‡ãƒ¡ãƒ¢ã‚’ä½œã‚‹âœï¸ï¼ˆ1æšã§OKï¼‰ |
| 23 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_01_score_scale.png | ./picture/firebase_abuse_prevention_ts_study_003_01_score_scale.png | **Theme**: reCAPTCHA Score Scale<br><br>**Labels to Render**:<br>- 0.0: "Bot (Bad)"<br>- 0.5: "Threshold (Default)"<br>- 1.0: "Human (Good)"<br><br>**Visual Details**:<br>1. Core Concept: The score range of reCAPTCHA.<br>2. Metaphor: A gauge or thermometer ranging from Red (0.0) to Green (1.0).<br>3. Action: A needle pointing at 0.5.<br>4. Layout: Horizontal or circular gauge. | After: ## 1) ã¾ãšã‚¤ãƒ¡ãƒ¼ã‚¸ï¼šã‚¹ã‚³ã‚¢ã¨ã—ãã„å€¤ã£ã¦ä½•ï¼ŸğŸ›ï¸ |
| 24 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_02_filtering.png | ./picture/firebase_abuse_prevention_ts_study_003_02_filtering.png | **Theme**: Threshold Filter<br><br>**Labels to Render**:<br>- High Score: "Pass"<br>- Low Score: "Block"<br>- Bar: "Threshold (0.5)"<br><br>**Visual Details**:<br>1. Core Concept: Requests below the threshold are blocked.<br>2. Metaphor: A high jump bar. High scorers clear it, low scorers hit the bar and fail.<br>3. Action: Jumping over or hitting the bar.<br>4. Layout: Side view of the jump. | After: Firebase App Check ã¯ã€è¨­å®šã—ãŸ **ã—ãã„å€¤ã‚’â€œæœ€ä½åˆæ ¼ç‚¹â€**ã¨ã—ã¦æ‰±ã„ã€**ãã‚Œæœªæº€ã®ã‚¹ã‚³ã‚¢ã¯æ‹’å¦**ã™ã‚‹ï¼ˆï¼æ­£è¦ã¨ã—ã¦èªã‚ãªã„ï¼‰ã‚ˆã€ã¨ã„ã†ä»•æ§˜ã«ãªã£ã¦ã‚‹ğŸ›¡ï¸ ([Firebase][1]) |
| 25 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_03_tradeoff.png | ./picture/firebase_abuse_prevention_ts_study_003_03_tradeoff.png | **Theme**: Threshold Trade-off<br><br>**Labels to Render**:<br>- High Threshold (0.9): "Secure but Strict"<br>- Low Threshold (0.1): "Easy but Risky"<br>- Balance: "UX vs Safety"<br><br>**Visual Details**:<br>1. Core Concept: The consequence of moving the threshold.<br>2. Metaphor: A slider. Moving it right locks the door tighter but makes the handle harder to turn. Moving it left opens the door wide.<br>3. Action: Adjusting the slider.<br>4. Layout: Comparative view of two states (0.9 vs 0.1). | After: ## 2) ã—ãã„å€¤ã¯ â€œä¸Šã’ã‚‹ã»ã©å®‰å…¨â€ ã ã‘ã© â€œç—›ã„â€ğŸ˜‡ |
| 26 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_04_default_setting.png | ./picture/firebase_abuse_prevention_ts_study_003_04_default_setting.png | **Theme**: Starting Point<br><br>**Labels to Render**:<br>- Start: "0.5 (Default)"<br>- Then: "Monitor"<br>- Finally: "Adjust"<br><br>**Visual Details**:<br>1. Core Concept: The recommended workflow.<br>2. Metaphor: A roadmap starting at a signpost "0.5".<br>3. Action: Looking at charts (Monitor) then moving the dial (Adjust).<br>4. Layout: Sequential steps. | After: ## 3) ã¾ãšã¯ 0.5 ã§å§‹ã‚ã‚‹ã®ãŒåŸºæœ¬ç·šğŸ‘ï¼ˆç†ç”±ã¤ãï¼‰ |
| 27 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_05_console_ui.png | ./picture/firebase_abuse_prevention_ts_study_003_05_console_ui.png | **Theme**: Firebase Console Setting<br><br>**Labels to Render**:<br>- Tab: "App Check"<br>- Section: "reCAPTCHA v3"<br>- Slider: "Risk Threshold"<br><br>**Visual Details**:<br>1. Core Concept: Where to find the setting.<br>2. Metaphor: A simplified UI mockup of the Firebase Console.<br>3. Action: Highlighting the specific slider.<br>4. Layout: UI mockup. | After: ## 4-1. ã—ãã„å€¤ã®å ´æ‰€ï¼ˆFirebase Consoleï¼‰ğŸ” |
| 28 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_06_flow_diagram.png | ./picture/firebase_abuse_prevention_ts_study_003_06_flow_diagram.png | **Theme**: Verification Logic<br><br>**Labels to Render**:<br>- Input: "User Action"<br>- Process: "reCAPTCHA Score"<br>- Decision: "Score >= Threshold?"<br>- Yes: "OK"<br>- No: "NG"<br><br>**Visual Details**:<br>1. Core Concept: The logical flow of verification.<br>2. Metaphor: A flowchart. Diamond shape for decision.<br>3. Action: Flowing through the decision node.<br>4. Layout: Vertical flowchart. | After: ## 6) å›³è§£ã£ã½ãï¼šã‚ãªãŸãŒã‚„ã£ã¦ã‚‹ã“ã¨ï¼ˆè¶…é‡è¦ï¼‰ğŸ§© |
| 29 | docs/firebase_abuse_prevention_ts_study_003.md | firebase_abuse_prevention_ts_study_003_07_ai_assistance.png | ./picture/firebase_abuse_prevention_ts_study_003_07_ai_assistance.png | **Theme**: AI Operations Assistant<br><br>**Labels to Render**:<br>- Human: "What threshold?"<br>- AI: "Start at 0.5"<br>- Task: "Write User Guide"<br><br>**Visual Details**:<br>1. Core Concept: AI helping with operational decisions.<br>2. Metaphor: A robot assistant handing a document (manual/guide) to a developer.<br>3. Action: Collaboration.<br>4. Layout: Two characters interacting. | After: ## 7) AIæ´»ç”¨ï¼ˆAntigravity / Geminiï¼‰ã§â€œã—ãã„å€¤èª¿æ•´â€ã‚’ãƒ©ã‚¯ã«ã™ã‚‹ğŸ¤–ğŸ§  |
| 30 | docs/firebase_abuse_prevention_ts_study_004.md | firebase_abuse_prevention_ts_study_004_01_v3_vs_enterprise.png | ./picture/firebase_abuse_prevention_ts_study_004_01_v3_vs_enterprise.png | **Theme**: v3 vs Enterprise<br><br>**Labels to Render**:<br>- v3: "Simple (0.5 Default)"<br>- Enterprise: "Granular (0.1 Steps)"<br>- Cost: "10k Free -> Paid"<br><br>**Visual Details**:<br>1. Core Concept: Distinguishing features.<br>2. Metaphor: A starter kit (v3) vs a pro toolkit (Enterprise).<br>3. Action: Displaying the tools.<br>4. Layout: Side-by-side comparison. | After: ## 2) v3 ã¨ Enterprise ã®é•ã„ï¼ˆè¶…ã–ã£ãã‚Šï¼‰ğŸ”âœ¨ |
| 31 | docs/firebase_abuse_prevention_ts_study_004.md | firebase_abuse_prevention_ts_study_004_02_decision_compass.png | ./picture/firebase_abuse_prevention_ts_study_004_02_decision_compass.png | **Theme**: Decision Compass<br><br>**Labels to Render**:<br>- North: "Robust Ops (Enterprise)"<br>- South: "Speed/Simple (v3)"<br>- Needle: "Your Needs"<br><br>**Visual Details**:<br>1. Core Concept: Choosing the right version.<br>2. Metaphor: A compass.<br>3. Action: Needle pointing based on "Needs".<br>4. Layout: Compass face. | After: ## 3) ã€Œã„ã¤Enterpriseã«ã™ã‚‹ï¼Ÿã€åˆ¤æ–­åŸºæº–ğŸ§­ğŸ§¿ |
| 32 | docs/firebase_abuse_prevention_ts_study_004.md | firebase_abuse_prevention_ts_study_004_03_billing_gate.png | ./picture/firebase_abuse_prevention_ts_study_004_03_billing_gate.png | **Theme**: Billing Unlock<br><br>**Labels to Render**:<br>- Locked: "Limited Scores (0.1/0.9)"<br>- Key: "Billing Account"<br>- Unlocked: "Full Control (0.1 Steps)"<br><br>**Visual Details**:<br>1. Core Concept: Billing unlocks full features.<br>2. Metaphor: A locked gate. The "Billing" key opens it to reveal the full control panel.<br>3. Action: Unlocking.<br>4. Layout: Before/After or Key/Lock interaction. | After: ## 4) è¶…é‡è¦ï¼šBillingã‚’ã¤ã‘ã‚‹å‰ã®ã€Œã—ãã„å€¤ã®åˆ¶é™ã€ğŸ§¯ |
| 33 | docs/firebase_abuse_prevention_ts_study_004.md | firebase_abuse_prevention_ts_study_004_04_setup_checklist.png | ./picture/firebase_abuse_prevention_ts_study_004_04_setup_checklist.png | **Theme**: Console Setup Steps<br><br>**Labels to Render**:<br>- 1: "Enable API"<br>- 2: "Create Key (Website)"<br>- 3: "NO Checkbox!"<br><br>**Visual Details**:<br>1. Core Concept: Key setup steps to avoid mistakes.<br>2. Metaphor: A checklist with a big red "X" over a checkbox UI element (to emphasize "No Checkbox").<br>3. Action: Marking the correct steps.<br>4. Layout: List with warning sign. | After: ## A. Consoleå´ï¼ˆè¨­å®šï¼‰ğŸ§° |
| 34 | docs/firebase_abuse_prevention_ts_study_004.md | firebase_abuse_prevention_ts_study_004_05_code_structure.png | ./picture/firebase_abuse_prevention_ts_study_004_05_code_structure.png | **Theme**: Code Structure<br><br>**Labels to Render**:<br>- File: "services/firebase.ts"<br>- Init: "initializeAppCheck"<br>- Option: "autoRefresh: true"<br><br>**Visual Details**:<br>1. Core Concept: Where and how to implement code.<br>2. Metaphor: A file folder structure showing the single file strategy.<br>3. Action: Highlighting the `autoRefresh` line.<br>4. Layout: Simplified code editor view. | After: ## B. ã‚¢ãƒ—ãƒªå´ï¼ˆã‚³ãƒ¼ãƒ‰ï¼‰âš›ï¸ |
| 35 | docs/firebase_abuse_prevention_ts_study_004.md | firebase_abuse_prevention_ts_study_004_06_ai_integration.png | ./picture/firebase_abuse_prevention_ts_study_004_06_ai_integration.png | **Theme**: AI & Remote Config<br><br>**Labels to Render**:<br>- AI: "Model"<br>- Config: "Remote Config"<br>- Update: "No App Update"<br><br>**Visual Details**:<br>1. Core Concept: Changing AI settings dynamically.<br>2. Metaphor: A control tower sending a signal to a satellite (AI Model) to change course without recalling it (App Update).<br>3. Action: Wireless update.<br>4. Layout: Diagram. | After: ## ãŠã¾ã‘ï¼šAIã§åˆ¤æ–­ã¨å®Ÿè£…ã‚’é€Ÿãã™ã‚‹ğŸš€ğŸ¤– |
| 36 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_01_concept.png | ./picture/firebase_abuse_prevention_ts_study_005_01_concept.png | **Theme**: App Check Pass<br><br>**Labels to Render**:<br>- App: "React App"<br>- Pass: "App Check"<br>- Gate: "Firebase"<br><br>**Visual Details**:<br>1. Core Concept: App Check acts as a pass/ticket.<br>2. Metaphor: A hand holding a ticket (App Check) to pass through a gate (Firebase).<br>3. Action: Presenting the ticket.<br>4. Layout: Side view of the gate. | ## ã–ã£ãã‚Šå›³è§£ã£ã½ã ğŸ§ ğŸ–¼ï¸ |
| 37 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_02_setup.png | ./picture/firebase_abuse_prevention_ts_study_005_02_setup.png | **Theme**: Setup Dependencies<br><br>**Labels to Render**:<br>- Box: "Project"<br>- Item 1: "firebase"<br>- Item 2: "vite"<br><br>**Visual Details**:<br>1. Core Concept: Installing necessary packages.<br>2. Metaphor: Putting items (packages) into a box (project).<br>3. Action: Dropping the 'firebase' package into the box.<br>4. Layout: Top-down view into the box. | ## æ‰‹ã‚’å‹•ã‹ã™ ãã®1 ä¾å­˜é–¢ä¿‚ã‚’å…¥ã‚Œã‚‹ ğŸ“¦ğŸ–±ï¸ |
| 38 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_03_structure.png | ./picture/firebase_abuse_prevention_ts_study_005_03_structure.png | **Theme**: Centralized Initialization<br><br>**Labels to Render**:<br>- File: "firebase.ts"<br>- Component 1: "App"<br>- Component 2: "App Check"<br><br>**Visual Details**:<br>1. Core Concept: Gathering initialization logic in one place.<br>2. Metaphor: A funnel or magnet pulling components into a single file.<br>3. Action: Components merging into the file.<br>4. Layout: Central composition. | ## æ‰‹ã‚’å‹•ã‹ã™ ãã®3 Firebase åˆæœŸåŒ–ã‚’ 1ã‹æ‰€ã«é›†ç´„ã™ã‚‹ ğŸ“¦ğŸ§  |
| 39 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_04_init_flow.png | ./picture/firebase_abuse_prevention_ts_study_005_04_init_flow.png | **Theme**: Startup Sequence<br><br>**Labels to Render**:<br>- 1: "Load firebase.ts"<br>- 2: "Render App"<br>- Result: "Safe"<br><br>**Visual Details**:<br>1. Core Concept: Correct order of operations.<br>2. Metaphor: A relay race baton pass. First runner (firebase.ts) passes to second (App).<br>3. Action: Passing the baton.<br>4. Layout: Horizontal sequence. | ## æ‰‹ã‚’å‹•ã‹ã™ ãã®4 React å´ã§ â€œæœ€åˆã«â€ èª­ã¿è¾¼ã¾ã›ã‚‹ ğŸš€âš›ï¸ |
| 40 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_05_metrics.png | ./picture/firebase_abuse_prevention_ts_study_005_05_metrics.png | **Theme**: Metrics Overview<br><br>**Labels to Render**:<br>- Green: "Verified"<br>- Gray: "Outdated"<br>- Red: "Invalid"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing the types of traffic.<br>2. Metaphor: A pie chart or bar graph showing mostly green (Verified).<br>3. Action: Static display of healthy metrics.<br>4. Layout: Chart view. | ## 2) Firebase Console ã® App Check ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’è¦‹ã‚‹ ğŸ“ˆ |
| 41 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_06_pitfalls.png | ./picture/firebase_abuse_prevention_ts_study_005_06_pitfalls.png | **Theme**: Troubleshooting<br><br>**Labels to Render**:<br>- Trap 1: "Double Init"<br>- Trap 2: "Order Wrong"<br>- Trap 3: "No Auto-Refresh"<br><br>**Visual Details**:<br>1. Core Concept: Identifying common mistakes.<br>2. Metaphor: Warning signs on a path.<br>3. Action: Highlighting the traps.<br>4. Layout: Path with obstacles. | ## ã‚ˆãã‚ã‚‹è©°ã¾ã‚Šãƒã‚¤ãƒ³ãƒˆé›† ğŸ˜µâ€ğŸ’«ğŸ§¯ |
| 42 | docs/firebase_abuse_prevention_ts_study_005.md | firebase_abuse_prevention_ts_study_005_07_ai_shield.png | ./picture/firebase_abuse_prevention_ts_study_005_07_ai_shield.png | **Theme**: Protecting AI<br><br>**Labels to Render**:<br>- Robot: "AI Logic"<br>- Shield: "App Check"<br>- Coin: "Cost"<br><br>**Visual Details**:<br>1. Core Concept: Preventing AI abuse to save money.<br>2. Metaphor: A shield protecting a robot from a rain of coins (costs).<br>3. Action: Shield deflecting the coins.<br>4. Layout: Protective stance. | ## AI æ©Ÿèƒ½ã¨ App Check ã‚’æœ€åˆã‹ã‚‰çµã³ã¤ã‘ã‚‹ ğŸ¤–ğŸ§¿ğŸ’¸ |
| 43 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_01_migration.png | ./picture/firebase_abuse_prevention_ts_study_006_01_migration.png | **Theme**: Migration Path<br><br>**Labels to Render**:<br>- Start: "reCAPTCHA v3"<br>- Goal: "Enterprise"<br>- Path: "Easy Switch"<br><br>**Visual Details**:<br>1. Core Concept: Upgrading from v3 to Enterprise.<br>2. Metaphor: A bridge or path connecting two islands (v3 and Enterprise).<br>3. Action: Crossing the bridge.<br>4. Layout: Left-to-right flow. | ## 1) ã¾ãšç†è§£ï¼šEnterprise ã£ã¦ä½•ãŒ â€œç§»è¡Œå‘ãâ€ ãªã®ï¼ŸğŸ§  |
| 44 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_02_factory.png | ./picture/firebase_abuse_prevention_ts_study_006_02_factory.png | **Theme**: Provider Factory<br><br>**Labels to Render**:<br>- Input: "Kind (v3/Ent)"<br>- Factory: "createProvider"<br>- Output: "Provider Instance"<br><br>**Visual Details**:<br>1. Core Concept: Generating the correct provider based on input.<br>2. Metaphor: A manufacturing machine (factory) taking a blueprint and outputting the correct part.<br>3. Action: Production line.<br>4. Layout: Process diagram. | ## 2) ä»Šæ—¥ã®ã‚´ãƒ¼ãƒ«ï¼ˆã§ããŸã‚‰å‹ã¡ğŸï¼‰ğŸ¯ |
| 45 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_03_encapsulation.png | ./picture/firebase_abuse_prevention_ts_study_006_03_encapsulation.png | **Theme**: Encapsulation<br><br>**Labels to Render**:<br>- File: "appCheck.ts"<br>- Inside: "Logic"<br>- Outside: "Clean API"<br><br>**Visual Details**:<br>1. Core Concept: Hiding complexity inside a file.<br>2. Metaphor: A sealed box (capsule) with a clean interface on the outside.<br>3. Action: Sealing the box.<br>4. Layout: Internal view of the box vs external view. | ## 5-1) App Check åˆæœŸåŒ–ã‚’1ãƒ•ã‚¡ã‚¤ãƒ«ã«å°å°ã™ã‚‹ğŸ“¦ |
| 46 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_04_switch.png | ./picture/firebase_abuse_prevention_ts_study_006_04_switch.png | **Theme**: Feature Switch<br><br>**Labels to Render**:<br>- Switch: "Env Var"<br>- Left: "v3"<br>- Right: "Enterprise"<br><br>**Visual Details**:<br>1. Core Concept: Toggling between two modes.<br>2. Metaphor: A large toggle switch or lever.<br>3. Action: Flipping the switch.<br>4. Layout: Close-up of the switch. | ## 6) åˆ‡æ›¿ã‚¹ã‚¤ãƒƒãƒã®ä½œã‚Šæ–¹ï¼ˆãŠã™ã™ã‚é †ï¼‰ğŸ›ï¸ |
| 47 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_05_api_token.png | ./picture/firebase_abuse_prevention_ts_study_006_05_api_token.png | **Theme**: Secure API Call<br><br>**Labels to Render**:<br>- Header: "X-Firebase-AppCheck"<br>- Content: "Token"<br>- Target: "My API"<br><br>**Visual Details**:<br>1. Core Concept: Sending the token in the header.<br>2. Metaphor: An envelope (request) with a wax seal (token) stamped on it.<br>3. Action: Sending the letter.<br>4. Layout: Envelope details. | ## 7) æ‰‹ã‚’å‹•ã‹ã™ï¼šEnterprise ã«å·®ã—æ›¿ãˆã¦å‹•ä½œç¢ºèªã™ã‚‹ğŸ§ªâœ¨ |
| 48 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_06_refresh_trap.png | ./picture/firebase_abuse_prevention_ts_study_006_06_refresh_trap.png | **Theme**: Auto Refresh Trap<br><br>**Labels to Render**:<br>- Setting: "isTokenAutoRefresh"<br>- Default: "False (Trap)"<br>- Correct: "True (Safe)"<br><br>**Visual Details**:<br>1. Core Concept: The danger of forgetting auto-refresh.<br>2. Metaphor: A battery running out of power (expired token) vs a battery being charged (auto-refresh).<br>3. Action: Battery draining.<br>4. Layout: Comparison. | ## 8) ã¤ã¾ãšããƒã‚¤ãƒ³ãƒˆï¼ˆã“ã“ã ã‘æ³¨æ„âš ï¸ï¼‰ğŸ˜µâ€ğŸ’« |
| 49 | docs/firebase_abuse_prevention_ts_study_006.md | firebase_abuse_prevention_ts_study_006_07_ai_audit.png | ./picture/firebase_abuse_prevention_ts_study_006_07_ai_audit.png | **Theme**: AI Code Audit<br><br>**Labels to Render**:<br>- AI: "Gemini CLI"<br>- Code: "Source"<br>- Result: "Bug Found"<br><br>**Visual Details**:<br>1. Core Concept: AI reviewing code for errors.<br>2. Metaphor: A robot detective examining code with a magnifying glass.<br>3. Action: Finding a bug.<br>4. Layout: Over-the-shoulder view. | ## 9) AIæ´»ç”¨ï¼šç§»è¡Œã®â€œäº‹æ•…ãƒã‚¤ãƒ³ãƒˆâ€ã‚’å…ˆã«æ½°ã™ğŸ¤–ğŸ›¡ï¸ |
| 50 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_01_safety_net.png | ./picture/firebase_abuse_prevention_ts_study_007_01_safety_net.png | **Theme**: Safety Net<br><br>**Labels to Render**:<br>- Top: "Enforcement"<br>- Net: "Metrics"<br>- Bottom: "User Accident"<br><br>**Visual Details**:<br>1. Core Concept: Metrics catching problems before they cause damage.<br>2. Metaphor: A trapeze artist (Enforcement) falling into a safety net (Metrics) above sharp spikes (Accidents).<br>3. Action: Falling safely.<br>4. Layout: Vertical composition. | ## 1) ã¾ãšè¶…é‡è¦ãªå‰æï¼šãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ã€Œå¼·åˆ¶ONã®äº‹æ•…é˜²æ­¢è£…ç½®ã€ğŸ§¯âœ¨ |
| 51 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_02_console_nav.png | ./picture/firebase_abuse_prevention_ts_study_007_02_console_nav.png | **Theme**: Console Navigation<br><br>**Labels to Render**:<br>- Menu: "App Check"<br>- Sub: "Metrics"<br>- Product: "Firestore"<br><br>**Visual Details**:<br>1. Core Concept: Finding the metrics screen.<br>2. Metaphor: A simplified UI map with a "You Are Here" pin.<br>3. Action: Pointing to the Metrics tab.<br>4. Layout: UI mockup. | ## 2) ã©ã“ã‚’è¦‹ã‚‹ï¼ŸFirebase ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã® App Check ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç”»é¢ğŸ‘€ |
| 52 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_03_4_categories.png | ./picture/firebase_abuse_prevention_ts_study_007_03_4_categories.png | **Theme**: Four Metric Types<br><br>**Labels to Render**:<br>- 1: "Verified (OK)"<br>- 2: "Outdated (Old)"<br>- 3: "Unknown (Bad?)"<br>- 4: "Invalid (Fake)"<br><br>**Visual Details**:<br>1. Core Concept: Distinguishing traffic types.<br>2. Metaphor: Four buckets or bins with different symbols (Check, Clock, Question Mark, X).<br>3. Action: Sorting mail into bins.<br>4. Layout: Row of bins. | ## 3) ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ã€Œ4åˆ†é¡ã€ã‚’è¦šãˆã‚ˆã†ï¼ˆã“ã“ãŒå¿ƒè‡“ï¼‰ğŸ«€ğŸ§  |
| 53 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_04_decision_guide.png | ./picture/firebase_abuse_prevention_ts_study_007_04_decision_guide.png | **Theme**: Decision Guide<br><br>**Labels to Render**:<br>- Condition: "Verified > 99%"<br>- Decision: "Enforce!"<br>- Else: "Wait"<br><br>**Visual Details**:<br>1. Core Concept: When to turn on enforcement.<br>2. Metaphor: A traffic light. Green light if Verified is high.<br>3. Action: Light changing to green.<br>4. Layout: Simple flowchart. | ## 4) ã€Œã„ã¤å¼·åˆ¶ONã§ãã‚‹ï¼Ÿã€åˆ¤æ–­ã®ç›®å®‰ï¼ˆå…¬å¼ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ï¼‰ğŸ§­ |
| 54 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_05_observation.png | ./picture/firebase_abuse_prevention_ts_study_007_05_observation.png | **Theme**: Generating Traffic<br><br>**Labels to Render**:<br>- User: "Action"<br>- App: "Request"<br>- Metrics: "Count Up"<br><br>**Visual Details**:<br>1. Core Concept: Creating traffic to populate metrics.<br>2. Metaphor: Pressing buttons on a control panel and seeing dials move.<br>3. Action: Pressing a button.<br>4. Layout: Interaction view. | ## 5) æ‰‹ã‚’å‹•ã‹ã™ï¼šã¾ãšã¯â€œæ¸¬ã‚‹â€ç”¨ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œã‚‹ğŸ§ªğŸ‘€ |
| 55 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_06_enforce_button.png | ./picture/firebase_abuse_prevention_ts_study_007_06_enforce_button.png | **Theme**: The Big Button<br><br>**Labels to Render**:<br>- Button: "Enforce"<br>- Warning: "Reject Unverified"<br>- Timer: "15 min"<br><br>**Visual Details**:<br>1. Core Concept: The final step of enforcement.<br>2. Metaphor: A protected red button (like a missile launch button) under a glass cover.<br>3. Action: Lifting the cover.<br>4. Layout: Close-up of button. | ## 8) ã“ã“ã ã‘å…ˆã«çŸ¥ã£ã¦ãŠãï¼šå¼·åˆ¶ONã¯â€œã‚ã¨ã§â€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰3ã‚¯ãƒªãƒƒã‚¯ğŸ›ï¸ |
| 56 | docs/firebase_abuse_prevention_ts_study_007.md | firebase_abuse_prevention_ts_study_007_07_antigravity.png | ./picture/firebase_abuse_prevention_ts_study_007_07_antigravity.png | **Theme**: Mission Control<br><br>**Labels to Render**:<br>- Screen: "Antigravity"<br>- Task: "Audit Metrics"<br>- AI: "Pilot"<br><br>**Visual Details**:<br>1. Core Concept: AI managing the monitoring task.<br>2. Metaphor: A futuristic cockpit or mission control screen with AI pilot.<br>3. Action: AI pointing at data.<br>4. Layout: Cockpit view. | ## 9) AIã§çˆ†é€Ÿï¼šãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–ã‚’â€œä½œæ¥­åŒ–â€ã—ã‚ˆã†ğŸ¤–ğŸš€ |
| 57 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_01_two_shields.png | ./picture/firebase_abuse_prevention_ts_study_008_01_two_shields.png | **Theme**: Double Defense Layers<br><br>**Labels to Render**:<br>- Outer: "App Check (App)"<br>- Inner: "Rules (User)"<br>- Core: "Firestore"<br><br>**Visual Details**:<br>1. Core Concept: Two distinct layers of security.<br>2. Metaphor: A castle with an outer wall (App Check) and an inner keep (Rules) protecting the treasure (Firestore).<br>3. Action: Defending against different threats.<br>4. Layout: Concentric defense. | ## 2) å½¹å‰²åˆ†æ‹…ã‚’ã€Œä¸€è¨€ã§ã€è¦šãˆã‚‹ğŸ§ âœ¨ |
| 58 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_02_threats.png | ./picture/firebase_abuse_prevention_ts_study_008_02_threats.png | **Theme**: Firestore Threats<br><br>**Labels to Render**:<br>- Threat 1: "Mass Read"<br>- Threat 2: "Spam Write"<br>- Threat 3: "AI Abuse"<br><br>**Visual Details**:<br>1. Core Concept: Visualizing the risks.<br>2. Metaphor: Three monsters attacking a database icon.<br>3. Action: Attacking.<br>4. Layout: Three panels or cluster. | ## 1) ã¾ãšã€ä½•ãŒæ€–ã„ã®ï¼ŸğŸ˜±ï¼ˆFirestoreãŒç‹™ã‚ã‚Œã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰ |
| 59 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_03_repo_pattern.png | ./picture/firebase_abuse_prevention_ts_study_008_03_repo_pattern.png | **Theme**: Centralized Access<br><br>**Labels to Render**:<br>- App: "Components"<br>- Funnel: "Repo"<br>- DB: "Firestore"<br><br>**Visual Details**:<br>1. Core Concept: All database access going through one point.<br>2. Metaphor: Multiple pipes feeding into a single large pipe (funnel) that connects to the tank (Firestore).<br>3. Action: Flow control.<br>4. Layout: Diagram. | ## Step Aï¼šFirestoreã‚¢ã‚¯ã‚»ã‚¹ã‚’ã€Œçª“å£ãƒ•ã‚¡ã‚¤ãƒ«ã€ã«å¯„ã›ã‚‹ğŸ“¦ |
| 60 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_04_lab_ui.png | ./picture/firebase_abuse_prevention_ts_study_008_04_lab_ui.png | **Theme**: Security Lab UI<br><br>**Labels to Render**:<br>- Title: "Security Lab"<br>- Btn 1: "Read"<br>- Btn 2: "Write"<br>- Log: "Result"<br><br>**Visual Details**:<br>1. Core Concept: A test interface for security.<br>2. Metaphor: A simple dashboard or control panel.<br>3. Action: User about to press a button.<br>4. Layout: UI mockup. | ## Step Bï¼šã€Œå®ˆã‚Šå®Ÿé¨“ç”¨ã€1ç”»é¢ã‚’ä½œã‚‹ğŸ§ªğŸ–¥ï¸ |
| 61 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_05_rules_logic.png | ./picture/firebase_abuse_prevention_ts_study_008_05_rules_logic.png | **Theme**: Rules Logic<br><br>**Labels to Render**:<br>- Input: "Request"<br>- Check: "Is Signed In?"<br>- Check: "Is Owner?"<br>- Output: "Allow/Deny"<br><br>**Visual Details**:<br>1. Core Concept: The decision process of security rules.<br>2. Metaphor: A gatekeeper checking credentials.<br>3. Action: Stamping "Approved" or "Denied".<br>4. Layout: Flowchart. | ## 3) Firestore Rules ã‚’æ›¸ãğŸ§¾ï¼ˆâ€œèª°ãŒä½•ã§ãã‚‹â€ã‚’å›ºå®šã™ã‚‹ï¼‰ |
| 62 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_06_bypass.png | ./picture/firebase_abuse_prevention_ts_study_008_06_bypass.png | **Theme**: Admin SDK Bypass<br><br>**Labels to Render**:<br>- Wall: "Rules"<br>- User: "Client (Blocked)"<br>- Admin: "Server (Pass)"<br><br>**Visual Details**:<br>1. Core Concept: Admin SDK bypasses security rules.<br>2. Metaphor: A VIP entrance that bypasses the main security line.<br>3. Action: Admin walking through the VIP gate.<br>4. Layout: Comparison of two paths. | ## 6) â€œã‚µãƒ¼ãƒãƒ¼å´ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§å©ãâ€ã¨ã€Rulesã®å®ˆã‚Šã‚’ã™ã‚ŠæŠœã‘ã‚‹è©±ï¼ˆè¶…é‡è¦ï¼‰ğŸš¨ |
| 63 | docs/firebase_abuse_prevention_ts_study_008.md | firebase_abuse_prevention_ts_study_008_07_ai_cost.png | ./picture/firebase_abuse_prevention_ts_study_008_07_ai_cost.png | **Theme**: AI Cost Control<br><br>**Labels to Render**:<br>- Input: "Requests"<br>- Filter: "App Check"<br>- Valve: "Rate Limit"<br>- Output: "Safe AI"<br><br>**Visual Details**:<br>1. Core Concept: Controlling flow to AI to prevent high costs.<br>2. Metaphor: A water pipe with a filter and a valve leading to a golden tank (AI).<br>3. Action: Regulating flow.<br>4. Layout: Flow diagram. | ## 7) AIã‚‚çµ¡ã‚ãŸâ€œç¾å®Ÿçš„ãªè¨­è¨ˆâ€ğŸ¤–ğŸ’¸ |
| 64 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_01_storage_threats.png | ./picture/firebase_abuse_prevention_ts_study_009_01_storage_threats.png | **Theme**: Storage Threats<br><br>**Labels to Render**:<br>- Threat 1: "Large File"<br>- Threat 2: "Spam Upload"<br>- Threat 3: "Fake Ext"<br><br>**Visual Details**:<br>1. Core Concept: Risks to Cloud Storage.<br>2. Metaphor: A heavy weight (large file) breaking a shelf, and a trash can overflowing (spam).<br>3. Action: Overloading storage.<br>4. Layout: Disaster scene. | ## 0) ã¾ãšã€ŒãªãœStorageãŒç‹™ã‚ã‚Œã‚‹ã®ï¼Ÿã€ğŸ˜±ğŸ’¸ |
| 65 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_02_defense_layers.png | ./picture/firebase_abuse_prevention_ts_study_009_02_defense_layers.png | **Theme**: Storage Defense<br><br>**Labels to Render**:<br>- Layer 1: "App Check"<br>- Layer 2: "Auth"<br>- Layer 3: "Rules"<br><br>**Visual Details**:<br>1. Core Concept: Multiple security layers.<br>2. Metaphor: An onion or layered shield protecting a folder icon.<br>3. Action: Blocking arrows at different layers.<br>4. Layout: Layered cross-section. | ## 1) èª­ã‚€ğŸ“–ï¼šå®ˆã‚Šã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’1æšçµµã§ç†è§£ã—ã‚ˆã†ğŸ§ ğŸ—ºï¸ |
| 66 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_03_upload_ui.png | ./picture/firebase_abuse_prevention_ts_study_009_03_upload_ui.png | **Theme**: Upload UI<br><br>**Labels to Render**:<br>- Step 1: "Pick File"<br>- Step 2: "Check Size"<br>- Step 3: "Upload"<br><br>**Visual Details**:<br>1. Core Concept: The user interaction flow.<br>2. Metaphor: A smartphone screen showing a file picker, a progress bar, and a success checkmark.<br>3. Action: Uploading.<br>4. Layout: UI Sequence. | ## 2-2) Reactï¼ˆTSï¼‰ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ + é€²æ—ãƒãƒ¼ğŸš€ |
| 67 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_04_rules.png | ./picture/firebase_abuse_prevention_ts_study_009_04_rules.png | **Theme**: Rules Logic (Storage)<br><br>**Labels to Render**:<br>- Check: "Is Image?"<br>- Check: "Size < 2MB"<br>- Check: "Is Owner?"<br><br>**Visual Details**:<br>1. Core Concept: Validating file properties.<br>2. Metaphor: A scanner checking a package's weight and contents.<br>3. Action: Scanning.<br>4. Layout: Scanner view. | ## 3) ã“ã“ãŒæœ¬ä¸¸ğŸ§¾ï¼šStorage Rules ã§ â€œæœ€ä½é™ã®é˜²æ³¢å ¤â€ ã‚’ä½œã‚‹ğŸ›¡ï¸ |
| 68 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_05_enforcement.png | ./picture/firebase_abuse_prevention_ts_study_009_05_enforcement.png | **Theme**: Storage Enforcement<br><br>**Labels to Render**:<br>- Gate: "App Check"<br>- Action: "Enforce"<br>- Result: "Block Unverified"<br><br>**Visual Details**:<br>1. Core Concept: Turning on the gate for storage.<br>2. Metaphor: A padlock snapping shut on a cloud storage box.<br>3. Action: Locking.<br>4. Layout: Close-up of lock. | ## 4) App Check ã‚’ Cloud Storage ã«åŠ¹ã‹ã›ã‚‹ğŸ§¿ğŸ“¦ |
| 69 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_06_secure_download.png | ./picture/firebase_abuse_prevention_ts_study_009_06_secure_download.png | **Theme**: Secure Download<br><br>**Labels to Render**:<br>- Public: "URL (Shareable)"<br>- Private: "SDK (Blob)"<br>- Warning: "Don't Leak"<br><br>**Visual Details**:<br>1. Core Concept: The difference between a public URL and a direct SDK download.<br>2. Metaphor: A public billboard (URL) vs a private letter delivered by hand (SDK).<br>3. Action: Reading.<br>4. Layout: Comparison. | ## è½ã¨ã—ç©´Aï¼šgetDownloadURL() ã‚’ â€œã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡â€ ã ã¨æ€ã†ğŸ˜‡ |
| 70 | docs/firebase_abuse_prevention_ts_study_009.md | firebase_abuse_prevention_ts_study_009_07_ai_alt.png | ./picture/firebase_abuse_prevention_ts_study_009_07_ai_alt.png | **Theme**: AI Alt Text Generation<br><br>**Labels to Render**:<br>- Input: "Image"<br>- Process: "AI Vision"<br>- Output: "Alt Text"<br><br>**Visual Details**:<br>1. Core Concept: AI analyzing an image to generate text.<br>2. Metaphor: A robot looking at a photo and typing on a typewriter.<br>3. Action: Typing.<br>4. Layout: Process flow. | ## 7-1) ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¾Œã«ã€Œèª¬æ˜æ–‡ï¼ˆaltï¼‰ã€ã‚’AIã«ä½œã‚‰ã›ã‚‹ğŸ“ğŸ¤– |
| 71 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_01_defense_layers.png | ./picture/firebase_abuse_prevention_ts_study_010_01_defense_layers.png | **Theme**: Three Defense Layers<br><br>**Labels to Render**:<br>- Layer 1: "Auth (Who)"<br>- Layer 2: "App Check (What)"<br>- Core: "Callable (Action)"<br><br>**Visual Details**:<br>1. Core Concept: Three layers of security protecting the core function.<br>2. Metaphor: A castle keep (Callable) protected by an inner wall (App Check) and an outer moat/gate (Auth).<br>3. Action: Defending the keep.<br>4. Layout: Concentric or layered defense. | ## 0) ã¾ãšã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚ã†ğŸ§ ğŸ—ºï¸ |
| 72 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_02_migration.png | ./picture/firebase_abuse_prevention_ts_study_010_02_migration.png | **Theme**: Moving Logic to Server<br><br>**Labels to Render**:<br>- Client: "Unsafe Logic"<br>- Move: "Migrate"<br>- Server: "Safe Callable"<br><br>**Visual Details**:<br>1. Core Concept: Moving sensitive code from client to server.<br>2. Metaphor: A moving truck transporting a box labeled "Logic" from a fragile house (Client) to a secure vault (Server).<br>3. Action: Transporting.<br>4. Layout: Left-to-right flow. | ## 1) â€œå®ˆã‚‹ã¹ãå‡¦ç†â€ã‚’ Callable ã«å¯„ã›ã‚‹ã‚³ãƒ„ğŸ§²âœ¨ |
| 73 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_03_enforcement_mechanism.png | ./picture/firebase_abuse_prevention_ts_study_010_03_enforcement_mechanism.png | **Theme**: Enforcement Gate<br><br>**Labels to Render**:<br>- Request: "Token Missing"<br>- Gate: "enforceAppCheck: true"<br>- Action: "Reject"<br><br>**Visual Details**:<br>1. Core Concept: The `enforceAppCheck` setting acts as a strict gate.<br>2. Metaphor: A security guard (Gate) stopping a person without a badge (Request).<br>3. Action: Blocking access.<br>4. Layout: Gate interaction. | ## 3) å®Ÿè£…ï¼ˆNode/TypeScriptï¼‰ï¼šç®¡ç†è€…ç”¨ Callable ã‚’1æœ¬ä½œã‚‹ğŸ§‘â€ğŸ’¼â˜ï¸ |
| 74 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_04_client_auto_token.png | ./picture/firebase_abuse_prevention_ts_study_010_04_client_auto_token.png | **Theme**: Automatic Token Attachment<br><br>**Labels to Render**:<br>- Code: "httpsCallable"<br>- SDK: "Auto-Attach"<br>- Packet: "Token + Data"<br><br>**Visual Details**:<br>1. Core Concept: The SDK automatically adds the token to the request.<br>2. Metaphor: A robot arm (SDK) stamping a package (Data) with a seal (Token) before shipping it.<br>3. Action: Stamping.<br>4. Layout: Process close-up. | ## 4) React å´ï¼šå‘¼ã³å‡ºã™ã ã‘ï¼ˆApp Check ã¯è£ã§å‹æ‰‹ã«ä»˜ãï¼‰âš›ï¸â˜ï¸ |
| 75 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_05_ai_protection.png | ./picture/firebase_abuse_prevention_ts_study_010_05_ai_protection.png | **Theme**: AI Fortress<br><br>**Labels to Render**:<br>- Guard 1: "App Check"<br>- Guard 2: "Auth (Admin)"<br>- Core: "AI Logic"<br><br>**Visual Details**:<br>1. Core Concept: protecting AI with multiple checks.<br>2. Metaphor: A futuristic AI core protected by two energy shields.<br>3. Action: Shields humming.<br>4. Layout: Central core with surrounding shields. | ## 5) â€œAIæ•´å½¢â€ã‚‚ Callable ã«å¯„ã›ã‚‹ã¨å¼·ã„ğŸ¤–ğŸ§± |
| 76 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_06_replay_teaser.png | ./picture/firebase_abuse_prevention_ts_study_010_06_replay_teaser.png | **Theme**: Anti-Replay Token<br><br>**Labels to Render**:<br>- Token: "One-Time Use"<br>- First: "OK"<br>- Second: "Blocked"<br><br>**Visual Details**:<br>1. Core Concept: A token that can only be used once.<br>2. Metaphor: A ticket that is torn upon entry. The second attempt with the torn ticket is rejected.<br>3. Action: Tearing the ticket.<br>4. Layout: Sequential view (Time 1 vs Time 2). | ## 6) äºˆå‘Šï¼šã‚‚ã£ã¨å¼·ãã™ã‚‹ãªã‚‰ã€Œãƒªãƒ—ãƒ¬ã‚¤å¯¾ç­–ã€â™»ï¸ğŸš« |
| 77 | docs/firebase_abuse_prevention_ts_study_010.md | firebase_abuse_prevention_ts_study_010_07_ai_assist.png | ./picture/firebase_abuse_prevention_ts_study_010_07_ai_assist.png | **Theme**: AI Developer Assist<br><br>**Labels to Render**:<br>- Human: "Make it Secure"<br>- AI: "Generates Code"<br>- Result: "Secure Callable"<br><br>**Visual Details**:<br>1. Core Concept: AI helping to write secure code.<br>2. Metaphor: A developer shaking hands with a robot coder over a secure blueprint.<br>3. Action: Collaboration.<br>4. Layout: Side view. | ## 7) Antigravity / Gemini ã§ã€ã“ã®ç« ã‚’â€œçˆ†é€Ÿâ€ã«çµ‚ã‚ã‚‰ã›ã‚‹ğŸš€ğŸ¤– |
| 78 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_01_replay_concept.png | ./picture/firebase_abuse_prevention_ts_study_011_01_replay_concept.png | **Theme**: Replay Attack<br><br>**Labels to Render**:<br>- Attacker: "Stolen Token"<br>- Server: "API"<br>- Result: "Success x 100"<br><br>**Visual Details**:<br>1. Core Concept: A single token being used repeatedly.<br>2. Metaphor: An attacker using a photocopied ticket to enter a venue multiple times.<br>3. Action: Entering repeatedly.<br>4. Layout: Loop or multiple arrows. | ## 0) ã¾ãšã€Œãƒªãƒ—ãƒ¬ã‚¤ã€ã£ã¦ä½•ï¼ŸğŸ˜ˆğŸ“¼ |
| 79 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_02_consume_mechanism.png | ./picture/firebase_abuse_prevention_ts_study_011_02_consume_mechanism.png | **Theme**: Token Consumption<br><br>**Labels to Render**:<br>- Client: "Limited Token"<br>- Server: "Verify & Consume"<br>- Reuse: "Denied"<br><br>**Visual Details**:<br>1. Core Concept: The token is destroyed upon use.<br>2. Metaphor: A ticket being punched or torn by a conductor. The torn ticket cannot be used again.<br>3. Action: Punching/Tearing.<br>4. Layout: Sequential steps. | ## 1) Replay protectionï¼ˆÎ²ï¼‰ã®å…¨ä½“åƒğŸ§ ğŸ§© |
| 80 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_03_latency_tradeoff.png | ./picture/firebase_abuse_prevention_ts_study_011_03_latency_tradeoff.png | **Theme**: Security vs Speed<br><br>**Labels to Render**:<br>- Normal: "Fast (1 Trip)"<br>- Replay Protect: "Slower (2 Trips)"<br>- Cost: "Latency"<br><br>**Visual Details**:<br>1. Core Concept: Replay protection adds network overhead.<br>2. Metaphor: A direct flight (Normal) vs a flight with a layover/security check (Replay Protect).<br>3. Action: Comparison of travel time.<br>4. Layout: Two parallel paths. | ## âœ… â‘¢ é€Ÿåº¦ã‚³ã‚¹ãƒˆãŒã‚ã‚‹ï¼ˆè¿½åŠ ã®å¾€å¾©ãŒå¢—ãˆã‚‹ï¼‰ğŸ¢ |
| 81 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_04_target_selection.png | ./picture/firebase_abuse_prevention_ts_study_011_04_target_selection.png | **Theme**: Selecting Targets<br><br>**Labels to Render**:<br>- High Risk: "AI / Admin (ON)"<br>- High Freq: "Chat / Like (OFF)"<br>- Goal: "Balance"<br><br>**Visual Details**:<br>1. Core Concept: Choosing where to apply protection.<br>2. Metaphor: Putting armor only on vital organs (Heart/Head) rather than the whole body to stay agile.<br>3. Action: Equipping armor.<br>4. Layout: Anatomy or list comparison. | ## 3) ã“ã®ãƒŸãƒ‹ã‚¢ãƒ—ãƒªã ã¨ã€Œã©ã“ã«å…¥ã‚Œã‚‹ï¼Ÿã€ğŸ¯ğŸ¤– |
| 82 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_05_server_code.png | ./picture/firebase_abuse_prevention_ts_study_011_05_server_code.png | **Theme**: Server Configuration<br><br>**Labels to Render**:<br>- File: "functions/index.ts"<br>- Flag: "consumeAppCheckToken: true"<br>- Effect: "One-Time Use"<br><br>**Visual Details**:<br>1. Core Concept: The code flag that enables consumption.<br>2. Metaphor: A switch or checkbox in the code being toggled ON.<br>3. Action: Toggling.<br>4. Layout: Code snippet focus. | ## âœ… 4-1. Functionså´ï¼š`consumeAppCheckToken: true` ã‚’ä»˜ã‘ã‚‹ |
| 83 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_06_client_code.png | ./picture/firebase_abuse_prevention_ts_study_011_06_client_code.png | **Theme**: Client Request<br><br>**Labels to Render**:<br>- Client: "Request"<br>- Option: "limitedUseAppCheckTokens: true"<br>- Token: "Special Token"<br><br>**Visual Details**:<br>1. Core Concept: Requesting a special one-time token.<br>2. Metaphor: A client asking for a "Gold Ticket" instead of a regular one.<br>3. Action: Handing over the special ticket.<br>4. Layout: Interaction view. | ## âœ… 4-3. Reactå´ï¼šCallableå‘¼ã³å‡ºã—ã§ â€œlimited-useâ€ ã‚’è¦æ±‚ã™ã‚‹âš›ï¸ğŸ§¾ |
| 84 | docs/firebase_abuse_prevention_ts_study_011.md | firebase_abuse_prevention_ts_study_011_07_full_defense.png | ./picture/firebase_abuse_prevention_ts_study_011_07_full_defense.png | **Theme**: Complete Defense<br><br>**Labels to Render**:<br>- Shield 1: "Replay Protect"<br>- Shield 2: "Auth"<br>- Shield 3: "Rate Limit"<br><br>**Visual Details**:<br>1. Core Concept: Combining multiple defenses for maximum security.<br>2. Metaphor: A warrior with a shield (Replay), armor (Auth), and a force field (Rate Limit).<br>3. Action: Standing strong.<br>4. Layout: Layered character equipment. | ## 6) â€œAIæ©Ÿèƒ½â€ã¨çµ¡ã‚ãŸç¾å®Ÿã®é˜²å¾¡ç·šğŸ¤–ğŸ›¡ï¸ |
| 85 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_01_ai_risk.png | ./picture/firebase_abuse_prevention_ts_study_012_01_ai_risk.png | **Theme**: AI Cost Risk<br><br>**Labels to Render**:<br>- Bot: "Spam Request"<br>- API: "Expensive Call"<br>- Wallet: "Burning"<br><br>**Visual Details**:<br>1. Core Concept: AI calls are expensive and vulnerable to bots.<br>2. Metaphor: A bot pouring fuel (requests) into a fire that is burning money (wallet).<br>3. Action: Burning.<br>4. Layout: Cause and effect. | ## 1) ã¾ãšè…¹è½ã¡ï¼šAIã¯ â€œãŠé‡‘ãŒç‡ƒãˆã‚„ã™ã„APIâ€ ğŸ”¥ğŸ’¸ |
| 86 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_02_proxy_verification.png | ./picture/firebase_abuse_prevention_ts_study_012_02_proxy_verification.png | **Theme**: AI Proxy Gate<br><br>**Labels to Render**:<br>- App: "Request + Token"<br>- Proxy: "AI Logic Gate"<br>- AI: "Gemini"<br><br>**Visual Details**:<br>1. Core Concept: Firebase AI Logic acts as a secure gate.<br>2. Metaphor: A secure checkpoint (Proxy) between the public road (App) and the VIP lounge (AI).<br>3. Action: Checking the token.<br>4. Layout: Flow diagram. | ## 2) Firebase AI Logic ã§ â€œå®ˆã‚Œã‚‹AIå‘¼ã³å‡ºã—â€ ã«ã™ã‚‹ğŸ›¡ï¸ğŸ¤– |
| 87 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_03_defense_tools.png | ./picture/firebase_abuse_prevention_ts_study_012_03_defense_tools.png | **Theme**: Three Tools<br><br>**Labels to Render**:<br>- 1: "App Check (ID)"<br>- 2: "Limited Token (Short TTL)"<br>- 3: "Quota (Rate Limit)"<br><br>**Visual Details**:<br>1. Core Concept: The three pillars of AI defense.<br>2. Metaphor: A toolkit containing a Badge (App Check), a Stopwatch (Limited Token), and a Traffic Light (Quota).<br>3. Action: Displaying tools.<br>4. Layout: Triptych or group. | ## 3) å®ˆã‚Šã®åŸºæœ¬ã‚»ãƒƒãƒˆã¯3ã¤ğŸ§°ğŸ§¿ |
| 88 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_04_client_code.png | ./picture/firebase_abuse_prevention_ts_study_012_04_client_code.png | **Theme**: Secure Client Code<br><br>**Labels to Render**:<br>- Func: "getAI"<br>- Option: "useLimitedUseAppCheckTokens"<br>- Value: "True"<br><br>**Visual Details**:<br>1. Core Concept: Enabling limited use tokens in code.<br>2. Metaphor: A developer checking a box labeled "High Security" on a control panel.<br>3. Action: Activating.<br>4. Layout: Code focus. | ## 4-1. ã¾ãšã¯æœ€å°ã§ â€œAIæ•´å½¢â€ é–¢æ•°ã‚’ä½œã‚‹ğŸ› ï¸ |
| 89 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_05_verification.png | ./picture/firebase_abuse_prevention_ts_study_012_05_verification.png | **Theme**: Verification Process<br><br>**Labels to Render**:<br>- Step 1: "Monitor Mode"<br>- Step 2: "Test OK"<br>- Step 3: "Enforce Mode"<br>- Step 4: "Attack Blocked"<br><br>**Visual Details**:<br>1. Core Concept: The steps to verify security.<br>2. Metaphor: A scientist testing a shield. First with low power, then full power, then throwing a rock at it.<br>3. Action: Testing.<br>4. Layout: Sequence. | ## 5) ON/OFFæ¯”è¼ƒã§ â€œå®ˆã‚Œã¦ã‚‹æ„Ÿâ€ ã‚’ä½“æ„ŸğŸ‘€ğŸ§¿ |
| 90 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_06_quota.png | ./picture/firebase_abuse_prevention_ts_study_012_06_quota.png | **Theme**: Rate Limiting<br><br>**Labels to Render**:<br>- Limit: "100 RPM"<br>- Traffic: "Requests"<br>- Error: "429 Quota Exceeded"<br><br>**Visual Details**:<br>1. Core Concept: Blocking traffic that exceeds the limit.<br>2. Metaphor: A turnstile that locks after a certain number of spins. Or a bucket overflowing.<br>3. Action: Blocking excess.<br>4. Layout: Traffic flow. | ## 6) ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆQuotaï¼‰ã§ â€œç ´ç”£ã—ãªã„â€ ã‚’ä½œã‚‹ğŸ’¸ğŸš¦ |
| 91 | docs/firebase_abuse_prevention_ts_study_012.md | firebase_abuse_prevention_ts_study_012_07_structured_output.png | ./picture/firebase_abuse_prevention_ts_study_012_07_structured_output.png | **Theme**: Structured JSON<br><br>**Labels to Render**:<br>- Input: "Messy Text"<br>- AI Schema: "JSON Structure"<br>- Output: "Clean Data"<br><br>**Visual Details**:<br>1. Core Concept: AI converting unstructured text to structured JSON.<br>2. Metaphor: A machine taking a pile of scrap metal and outputting perfectly formed gears.<br>3. Action: Transformation.<br>4. Layout: Process flow. | ## 7) â€œæ§‹é€ åŒ–å‡ºåŠ›(JSON)â€ ã‚’ä½¿ã†ã¨äº‹æ•…ãŒæ¸›ã‚‹ğŸ§¾ğŸ¤– |
| 92 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_01_debug_workflow.png | ./picture/firebase_abuse_prevention_ts_study_013_01_debug_workflow.png | **Theme**: Debug Provider Flow<br><br>**Labels to Render**:<br>- Localhost: "Debug Token"<br>- Firebase: "Console (Allowlist)"<br>- Result: "Access Granted"<br><br>**Visual Details**:<br>1. Core Concept: The handshake between local dev and Firebase Console.<br>2. Metaphor: A developer showing a special VIP pass (Debug Token) to the bouncer (Firebase) who checks a guest list (Allowlist).<br>3. Action: Checking the list.<br>4. Layout: Flow diagram. | ## 1) ã¾ãšå…¨ä½“åƒã‚’1æšã§ğŸ§ ğŸ—ºï¸ |
| 93 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_02_code_setup.png | ./picture/firebase_abuse_prevention_ts_study_013_02_code_setup.png | **Theme**: Conditional Logic<br><br>**Labels to Render**:<br>- Env: "DEV"<br>- Action: "Set Debug Token"<br>- Init: "App Check"<br><br>**Visual Details**:<br>1. Core Concept: Enabling debug mode only in development.<br>2. Metaphor: A railway switch. If the sign says "DEV", the train goes to the "Debug" track. If "PROD", it goes to "reCAPTCHA".<br>3. Action: Switching tracks.<br>4. Layout: Branching path. | ## 2-1. App Check åˆæœŸåŒ–ã‚³ãƒ¼ãƒ‰ã«ã€Œãƒ­ãƒ¼ã‚«ãƒ«æ™‚ã ã‘ã€ãƒ‡ãƒãƒƒã‚°ONã‚’è¶³ã™ğŸ§¿ |
| 94 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_03_browser_console.png | ./picture/firebase_abuse_prevention_ts_study_013_03_browser_console.png | **Theme**: Token Extraction<br><br>**Labels to Render**:<br>- Browser: "DevTools"<br>- Console: "AppCheck debug token"<br>- Token: "uuid-string"<br><br>**Visual Details**:<br>1. Core Concept: Finding the token in the browser console.<br>2. Metaphor: A magnifying glass highlighting a specific line of text in a code terminal.<br>3. Action: Copying.<br>4. Layout: Screen close-up. | ## 2-2. ãƒ­ãƒ¼ã‚«ãƒ«èµ·å‹•ã—ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®Consoleã§ã€Œãƒ‡ãƒãƒƒã‚°ãƒˆãƒ¼ã‚¯ãƒ³ã€ã‚’æ‹¾ã†ğŸ‘€ğŸ§ª |
| 95 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_04_console_registration.png | ./picture/firebase_abuse_prevention_ts_study_013_04_console_registration.png | **Theme**: Whitelisting<br><br>**Labels to Render**:<br>- Menu: "Manage debug tokens"<br>- Input: "Paste Token"<br>- Action: "Save"<br><br>**Visual Details**:<br>1. Core Concept: Registering the token in Firebase Console.<br>2. Metaphor: Writing a name on the VIP guest list.<br>3. Action: Writing/Saving.<br>4. Layout: UI mockup. | ## 2-3. Firebase Console ã«ç™»éŒ²ï¼ˆallowlistï¼‰ã™ã‚‹ğŸ”ğŸ§¿ |
| 96 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_05_verification.png | ./picture/firebase_abuse_prevention_ts_study_013_05_verification.png | **Theme**: Service Check<br><br>**Labels to Render**:<br>- Firestore: "OK"<br>- Storage: "OK"<br>- Functions: "OK"<br>- AI: "OK"<br><br>**Visual Details**:<br>1. Core Concept: Verifying access to all services.<br>2. Metaphor: A dashboard with four green lights turning on one by one.<br>3. Action: All systems go.<br>4. Layout: Dashboard view. | ## 3) ã“ã“ã¾ã§å‡ºæ¥ãŸã‚‰å‹•ä½œãƒã‚§ãƒƒã‚¯ğŸ¯ï¼ˆFirestore/Storage/Functions/AIï¼‰ |
| 97 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_06_best_practices.png | ./picture/firebase_abuse_prevention_ts_study_013_06_best_practices.png | **Theme**: Security Rules<br><br>**Labels to Render**:<br>- Git: "No Token!"<br>- Leak: "Revoke!"<br>- Scope: "Local Only"<br><br>**Visual Details**:<br>1. Core Concept: Safety rules for debug tokens.<br>2. Metaphor: Warning signs. A "No Entry" sign on a Git logo. A "Reset" button for leaks.<br>3. Action: Enforcing rules.<br>4. Layout: Warning icons. | ## 4) Debug Provider ã®â€œé‹ç”¨ãƒ«ãƒ¼ãƒ«â€ğŸ”ï¼ˆãƒŸã‚¹ã‚‹ã¨äº‹æ•…ã‚‹ã‚„ã¤ï¼‰ |
| 98 | docs/firebase_abuse_prevention_ts_study_013.md | firebase_abuse_prevention_ts_study_013_07_ai_troubleshooting.png | ./picture/firebase_abuse_prevention_ts_study_013_07_ai_troubleshooting.png | **Theme**: AI Debugging<br><br>**Labels to Render**:<br>- Problem: "401 Error"<br>- AI: "Check Init Order"<br>- Solution: "Fix Code"<br><br>**Visual Details**:<br>1. Core Concept: AI diagnosing common setup errors.<br>2. Metaphor: A robot mechanic looking at an engine (code) and pointing to a loose wire (initialization order).<br>3. Action: Fixing.<br>4. Layout: Diagnostic view. | ## 6) ã‚‚ã£ã¨ãƒ©ã‚¯ã™ã‚‹ï¼šAntigravity / Gemini CLI ã§â€œè©°ã¾ã‚Šæ½°ã—â€ğŸ¤–ğŸ§° |
| 99 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_01_ci_failure.png | ./picture/firebase_abuse_prevention_ts_study_014_01_ci_failure.png | **Theme**: CI vs App Check<br><br>**Labels to Render**:<br>- CI Runner: "No Browser / No Human"<br>- App Check: "Who are you?"<br>- Result: "Blocked (403)"<br><br>**Visual Details**:<br>1. Core Concept: CI cannot prove humanity like a real user.<br>2. Metaphor: A robot (CI) trying to solve a CAPTCHA and failing.<br>3. Action: Being blocked.<br>4. Layout: Problem illustration. | ## ã¾ãšçµè«–ï¼šCIã§ã¯â€œDebug Provider + ãƒ‡ãƒãƒƒã‚°ãƒˆãƒ¼ã‚¯ãƒ³â€ã§é€šã™ğŸ§ªğŸ§¿ |
| 100 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_02_secrets.png | ./picture/firebase_abuse_prevention_ts_study_014_02_secrets.png | **Theme**: GitHub Secrets<br><br>**Labels to Render**:<br>- Repo: "Code (Public/Private)"<br>- Secrets: "Debug Token (Hidden)"<br>- Action: "Inject at Build"<br><br>**Visual Details**:<br>1. Core Concept: Storing tokens securely.<br>2. Metaphor: A safe box (Secrets) separate from the bookshelf (Repo). The builder takes the key from the safe only when needed.<br>3. Action: Unlocking the safe.<br>4. Layout: Secure storage. | ## 2) GitHub Secrets ã«å…¥ã‚Œã‚‹ğŸ”ï¼ˆçµ¶å¯¾ã«ãƒªãƒã‚¸ãƒˆãƒªã¸ã‚³ãƒŸãƒƒãƒˆã—ãªã„ï¼‰ |
| 101 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_03_dynamic_import.png | ./picture/firebase_abuse_prevention_ts_study_014_03_dynamic_import.png | **Theme**: Order of Operations<br><br>**Labels to Render**:<br>- Step 1: "Set Debug Token"<br>- Step 2: "Import App Check"<br>- Step 3: "Init SDK"<br><br>**Visual Details**:<br>1. Core Concept: Setting the token global variable before the SDK loads.<br>2. Metaphor: Putting on a VIP badge (Token) *before* walking through the door (Import).<br>3. Action: Putting on badge.<br>4. Layout: Sequential steps. | ## 3) ãƒ•ãƒ­ãƒ³ãƒˆå´ï¼šCIã ã‘ Debug Provider ã‚’ONã«ã™ã‚‹ï¼ˆé‡è¦ï¼šèª­ã¿è¾¼ã¿é †ï¼‰âš›ï¸ğŸ§¿ |
| 102 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_04_workflow.png | ./picture/firebase_abuse_prevention_ts_study_014_04_workflow.png | **Theme**: CI Pipeline<br><br>**Labels to Render**:<br>- 1: "Checkout"<br>- 2: "Install (Node 24)"<br>- 3: "Build + Token"<br>- 4: "E2E Test"<br><br>**Visual Details**:<br>1. Core Concept: The steps of the CI job.<br>2. Metaphor: A factory conveyor belt. Parts are assembled, painted (Token injected), and then inspected (Tested).<br>3. Action: Moving along the belt.<br>4. Layout: Pipeline diagram. | ## 4) CIãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼šNode 24 LTSã§ãƒ“ãƒ«ãƒ‰â†’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼â†’E2EğŸ§ª |
| 103 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_05_e2e_scenario.png | ./picture/firebase_abuse_prevention_ts_study_014_05_e2e_scenario.png | **Theme**: Smoke Test<br><br>**Labels to Render**:<br>- Browser: "Headless"<br>- Action: "Click AI Button"<br>- Check: "Result Visible?"<br><br>**Visual Details**:<br>1. Core Concept: A simple test to verify the app works.<br>2. Metaphor: A robot finger pressing a button and checking for a green light.<br>3. Action: Testing.<br>4. Layout: Test execution. | ## 5) Playwrightå´ï¼šApp CheckãŒåŠ¹ã„ã¦ã‚‹æœ€ä½é™ã®1æœ¬ã‚’ä½œã‚‹ğŸ§ªğŸ§¿ğŸ¤– |
| 104 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_06_ai_strategy.png | ./picture/firebase_abuse_prevention_ts_study_014_06_ai_strategy.png | **Theme**: PR vs Nightly<br><br>**Labels to Render**:<br>- PR: "Mock AI (Fast/Free)"<br>- Nightly: "Real AI (Deep/Cost)"<br>- Goal: "Save Money"<br><br>**Visual Details**:<br>1. Core Concept: Using mocks for frequent tests and real AI for infrequent ones.<br>2. Metaphor: Using a crash test dummy (Mock) for routine checks vs a real driver (Real AI) for the final run.<br>3. Action: Comparison.<br>4. Layout: Split view. | ## ãŠã™ã™ã‚æ–¹é‡ï¼šPRã§ã¯â€œè»½ã„ç¢ºèªâ€ã€é‡ã„ã®ã¯å¤œé–“ or mainã ã‘ğŸŒ™ |
| 105 | docs/firebase_abuse_prevention_ts_study_014.md | firebase_abuse_prevention_ts_study_014_07_pitfalls.png | ./picture/firebase_abuse_prevention_ts_study_014_07_pitfalls.png | **Theme**: Security Leaks<br><br>**Labels to Render**:<br>- Log: "Console.log(Token)"<br>- Artifact: "Upload dist/"<br>- Risk: "Leak!"<br><br>**Visual Details**:<br>1. Core Concept: Ways tokens can leak in CI.<br>2. Metaphor: Water leaking from a pipe labeled "Logs" or a box labeled "Artifacts".<br>3. Action: Leaking.<br>4. Layout: Warning illustration. | ## è½ã¨ã—ç©´ã¾ã¨ã‚ï¼ˆã“ã“ã ã‘èª­ã‚“ã§ã‚‚ä¾¡å€¤ã‚ã‚‹ã‚„ã¤ï¼‰ğŸ•³ï¸ğŸ˜‡ |
