# ç¬¬21ç« ï¼šDB/æ°¸ç¶šåŒ–ã‚’å¤–ã«æŠ¼ã—å‡ºã™ğŸ—„ï¸ğŸ§©

![testable_ts_study_021_repository_librarian.png](./picture/testable_ts_study_021_repository_librarian.png)

ã“ã®ç« ã¯ã­ã€ã€Œ**DBã®éƒ½åˆã§ãƒ­ã‚¸ãƒƒã‚¯ãŒãƒ™ã‚¿ãƒ™ã‚¿æ±šã‚Œã‚‹å•é¡Œ**ã€ã‚’ã‚¹ãƒ‘ãƒƒã¨è§£æ±ºã™ã‚‹å›ã ã‚ˆã€œï¼ğŸ˜†âœ¨
ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯ **Repositoryï¼ˆãƒªãƒã‚¸ãƒˆãƒªï¼‰** ğŸŒŸ

---

## 1) ä»Šæ—¥ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ğŸ¯âœ¨* DBã‚¢ã‚¯ã‚»ã‚¹ï¼ˆSQL/ORMï¼‰

ã‚’ **ä¸­å¿ƒï¼ˆãƒ­ã‚¸ãƒƒã‚¯ï¼‰ã‹ã‚‰è¿½ã„å‡ºã™** ğŸšªğŸ’¨


* ä¸­å¿ƒã¯ **DBã®å­˜åœ¨ã‚’çŸ¥ã‚‰ãªã„** ã¾ã¾å‹•ãã‚ˆã†ã«ã™ã‚‹ğŸ™ˆâœ¨
* ãƒ†ã‚¹ãƒˆã¯ **çˆ†é€Ÿ**ï¼ˆDBãªã—ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä¸­å¿ƒï¼‰ã«ã™ã‚‹âš¡ğŸ§ª
* DBã¯ **å·®ã—æ›¿ãˆå¯èƒ½**ï¼ˆSQLiteâ†’Postgresã§ã‚‚ä¸­å¿ƒã¯ç„¡å‚·ï¼‰ğŸ”ğŸ§©

---

## 2) ãªã‚“ã§DBãŒä¸­å¿ƒã«ã„ã‚‹ã¨ãƒ„ãƒ©ã„ã®ï¼ŸğŸ˜µâ€ğŸ’«ğŸŒ€ä¸­å¿ƒã‚³ãƒ¼ãƒ‰ã®ä¸­ã«â€¦



* SQLãŒæ··ã–ã‚‹ğŸ§‚
* ORMã®å‹ãŒæ··ã–ã‚‹ğŸ§±
* ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚„æ¥ç¶šç®¡ç†ãŒæ··ã–ã‚‹ğŸ”Œ
* DBã®éƒ½åˆï¼ˆnull/å‹/å‘½åï¼‰ãŒæ··ã–ã‚‹ğŸ§Ÿâ€â™€ï¸

ã“ã†ãªã‚‹ã¨ã€**ãƒ†ã‚¹ãƒˆãŒé…ã„ãƒ»å£Šã‚Œã‚„ã™ã„ãƒ»å¤‰æ›´ãŒæ€–ã„** ãŒä¸€æ°—ã«æ¥ã‚‹ã‚ˆã­ğŸ˜­

ã ã‹ã‚‰æ–¹é‡ã¯ã“ã‚ŒğŸ‘‡

* **ä¸­å¿ƒ**ï¼šãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ï¼ˆç´”ç²‹ãƒ­ã‚¸ãƒƒã‚¯ï¼‰ğŸ°
* **å¤–å´**ï¼šDBã‚„SQLã€æ¥ç¶šã€æ°¸ç¶šåŒ–ã®äº‹æƒ…ğŸ—„ï¸
* **å¢ƒç•Œ**ï¼šRepository interfaceï¼ˆæœ€å°ã®ç´„æŸï¼‰ğŸ“œâœ¨

---

## 3) Repositoryã¯ã€Œæ°¸ç¶šåŒ–ã®çª“å£ã€ğŸšª

ğŸ“ŒRepositoryã¯ã€ã–ã£ãã‚Šè¨€ã†ã¨

> ã€Œä¿å­˜ãƒ»å–å¾—ã®â€œæ“ä½œã ã‘â€ã‚’ç´„æŸã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€

ã ã‚ˆğŸ˜Šâœ¨
**ä¸­å¿ƒã¯Repositoryâ€œã ã‘â€ã‚’çŸ¥ã£ã¦ã€DBã®ã“ã¨ã¯ä¸€åˆ‡çŸ¥ã‚‰ãªã„**ã®ãŒãƒã‚¤ãƒ³ãƒˆï¼

---

## 4) ãƒãƒ³ã‚ºã‚ªãƒ³é¡Œæï¼šTodoã‚’ä¿å­˜ã—ãŸã„ğŸ“

ğŸ’–ã‚„ã‚‹ã“ã¨ã¯ã‚·ãƒ³ãƒ—ãƒ«ï¼



* Todoã‚’è¿½åŠ ã™ã‚‹â•
* Todoã‚’å–å¾—ã™ã‚‹ğŸ”
* Todoä¸€è¦§ã‚’è¦‹ã‚‹ğŸ“š

**ä¸­å¿ƒã¯ãƒ«ãƒ¼ãƒ«ã ã‘**ã«ã—ãŸã„ã®ã§ã€DBã®è©±ã¯å¤–å´ã¸ğŸ—„ï¸â¡ï¸ğŸšª

---

## 5) ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã‚¤ãƒ¡ãƒ¼ã‚¸ğŸ“âœ¨

ã“ã‚“ãªæ„Ÿã˜ã«åˆ†ã‘ã‚‹ã¨è¿·å­ã«ãªã‚Šã«ãã„ã‚ˆã€œğŸ˜Š



* `src/domain/`ï¼šãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆå‹ãƒ»ãƒ«ãƒ¼ãƒ«ï¼‰ğŸ°
* `src/usecases/`ï¼šãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼ˆã‚„ã‚ŠãŸã„ã“ã¨ï¼‰ğŸ®
* `src/ports/`ï¼šå¢ƒç•Œï¼ˆinterfaceï¼‰ğŸ“œ
* `src/adapters/`ï¼šå¤–å´ï¼ˆDBå®Ÿè£…ãƒ»ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªå®Ÿè£…ï¼‰ğŸ§©
* `src/main.ts`ï¼šçµ„ã¿ç«‹ã¦å ´æ‰€ï¼ˆComposition Rootï¼‰ğŸ—ï¸

---

## 6) ä¸­å¿ƒï¼šãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½œã‚‹ğŸ°âœ¨

ã¾ãšä¸­å¿ƒã¯ã€ŒDBãªã‚“ã¦çŸ¥ã‚‰ãªã„ä¸–ç•Œã€ã‚’ä½œã‚ã†ğŸ˜†



```ts
// src/domain/todo.ts
export type TodoId = string;

export type Todo = Readonly<{
  id: TodoId;
  title: string;
  done: boolean;
}>;

export function createTodo(id: TodoId, title: string): Todo {
  const t = title.trim();
  if (t.length === 0) throw new Error("ã‚¿ã‚¤ãƒˆãƒ«ã¯å¿…é ˆã ã‚ˆğŸ¥º");
  if (t.length > 40) throw new Error("ã‚¿ã‚¤ãƒˆãƒ«é•·ã™ãï¼40æ–‡å­—ã¾ã§ã­âœ‚ï¸");

  return { id, title: t, done: false };
}
```

---

## 7) å¢ƒç•Œï¼šRepository interfaceã‚’ä½œã‚‹ğŸ“œğŸ§©

ã€Œå¿…è¦ãªæ“ä½œã ã‘ã€ã­ï¼âœ¨ï¼ˆã“ã“è¶…å¤§äº‹ï¼‰



```ts
// src/ports/todoRepository.ts
import type { Todo, TodoId } from "../domain/todo.js";

export interface TodoRepository {
  save(todo: Todo): Promise<void>;
  findById(id: TodoId): Promise<Todo | null>;
  list(): Promise<Todo[]>;
}
```

âœ… **ã“ã“ã«SQLã®åŒ‚ã„ã‚’å…¥ã‚Œãªã„**ï¼ˆwhere ã¨ã‹ join ã¨ã‹è¨€ã„å‡ºã™ã¨å±é™ºğŸ‘ƒğŸ’¨ï¼‰

---

## 8) ä¸­å¿ƒï¼šãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’æ›¸ãğŸ®âœ¨

ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¯Repositoryã‚’ä½¿ã†ã ã‘ï¼DBã®è©±ã‚¼ãƒ­ï¼ğŸ˜†



```ts
// src/usecases/addTodo.ts
import { createTodo } from "../domain/todo.js";
import type { TodoRepository } from "../ports/todoRepository.js";

export async function addTodo(
  repo: TodoRepository,
  id: string,
  title: string,
): Promise<void> {
  const todo = createTodo(id, title);
  await repo.save(todo);
}
```

---

## 9) ãƒ†ã‚¹ãƒˆç”¨ï¼šã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªRepositoryã‚’ä½œã‚‹ğŸ§¸âš¡ã“ã“ãŒæ°—æŒã¡ã„ã„ãƒã‚¤ãƒ³ãƒˆï¼
DBãªã—ã§ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‹ã‚‰ **é€Ÿã„ãƒ»å®‰å®šãƒ»ãƒ©ã‚¯** ğŸ˜‡âœ¨

```ts
// src/adapters/inMemoryTodoRepository.ts
import type { Todo, TodoId } from "../domain/todo.js";
import type { TodoRepository } from "../ports/todoRepository.js";

export class InMemoryTodoRepository implements TodoRepository {
  private map = new Map<TodoId, Todo>();

  async save(todo: Todo): Promise<void> {
    this.map.set(todo.id, todo);
  }

  async findById(id: TodoId): Promise<Todo | null> {
    return this.map.get(id) ?? null;
  }

  async list(): Promise<Todo[]> {
    return [...this.map.values()];
  }
}
```

---

## 10) ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆğŸ§ªğŸ‰Vitestã¯æœ€è¿‘ **Vitest 4** ãŒå‡ºã¦ã‚‹ã‚ˆã€œï¼ˆ2025-10-22ï¼‰

ğŸ“£âœ¨ ([Vitest][1])



```ts
// test/addTodo.test.ts
import { describe, it, expect } from "vitest";
import { InMemoryTodoRepository } from "../src/adapters/inMemoryTodoRepository.js";
import { addTodo } from "../src/usecases/addTodo.js";

describe("addTodo", () => {
  it("ã‚¿ã‚¤ãƒˆãƒ«ãŒä¿å­˜ã•ã‚Œã‚‹ğŸ€", async () => {
    const repo = new InMemoryTodoRepository();

    await addTodo(repo, "t1", "ç‰›ä¹³ã‚’è²·ã†");

    const saved = await repo.findById("t1");
    expect(saved?.title).toBe("ç‰›ä¹³ã‚’è²·ã†");
    expect(saved?.done).toBe(false);
  });

  it("ç©ºã‚¿ã‚¤ãƒˆãƒ«ã¯ã‚¨ãƒ©ãƒ¼ğŸ¥º", async () => {
    const repo = new InMemoryTodoRepository();

    await expect(addTodo(repo, "t2", "   ")).rejects.toThrow();
  });
});
```

ã“ã“ã¾ã§ã§ã€**ä¸­å¿ƒã¯DBãªã—ã§å®Œå…¨ã«å®ˆã‚Œã‚‹** ã‚ˆï¼æœ€å¼·ã€œâš¡ğŸ§ª

---

## 11) å¤–å´ï¼šSQLiteã§æ°¸ç¶šåŒ–ã™ã‚‹Adapterã‚’æ›¸ãğŸ—„ï¸

ğŸ§©ã“ã“ã‹ã‚‰DBã®è©±ï¼ã§ã‚‚ **å¤–å´ã ã‘** ã ã‚ˆğŸ˜Šâœ¨



### Nodeã® `node:sqlite` ã£ã¦ã©ã†ãªã®ï¼ŸğŸ§ Nodeã«ã¯ `node:sqlite` ãŒå…¥ã£ã¦ã„ã¦ã€SQLiteã‚’æ‰±ãˆã‚‹ã‚ˆã€œï¼
ãŸã ã— **ã¾ã  experimentalï¼ˆé–‹ç™ºä¸­ï¼‰** æ‰±ã„ã ã‚ˆğŸ“Œ ([Node.js][2])

* Node v22ç³»ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ `--experimental-sqlite` ãŒå¿…è¦ã£ã¦æ›¸ã„ã¦ã‚ã‚‹ç‰ˆã‚‚ã‚ã‚‹ã‚ˆ ([Node.js][3])
* æ–°ã—ã‚ã®Nodeãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€Œãƒ•ãƒ©ã‚°ä¸è¦ã«ãªã£ãŸã‘ã© experimentalã€ã¯ç¶™ç¶šã€ã£ã¦æµã‚Œã ã‚ˆ ([Node.js][2])

ï¼ˆã“ã®ç« ã®å­¦ç¿’ã«ã¯ã¡ã‚‡ã†ã©ã„ã„âœ¨ ä¾å­˜è¿½åŠ ã„ã‚‰ãªã„ã®ãŒæ¥½ã ã—ã­ğŸ˜†ï¼‰

---

## 12) SQLite Repositoryå®Ÿè£…ä¾‹ğŸ§©

ğŸ—„ï¸

```ts
// src/adapters/sqliteTodoRepository.ts
import { DatabaseSync } from "node:sqlite";
import type { Todo, TodoId } from "../domain/todo.js";
import type { TodoRepository } from "../ports/todoRepository.js";

function toRow(todo: Todo) {
  return {
    id: todo.id,
    title: todo.title,
    done: todo.done ? 1 : 0,
  };
}

function toDomain(row: any): Todo {
  return {
    id: row.id as TodoId,
    title: row.title as string,
    done: row.done === 1,
  };
}

export class SqliteTodoRepository implements TodoRepository {
  private db: DatabaseSync;

  constructor(dbFile: string) {
    this.db = new DatabaseSync(dbFile);
    this.db.exec(`
      CREATE TABLE IF NOT EXISTS todos (
        id TEXT PRIMARY KEY,
        title TEXT NOT NULL,
        done INTEGER NOT NULL
      );
    `);
  }

  async save(todo: Todo): Promise<void> {
    const r = toRow(todo);
    const stmt = this.db.prepare(`
      INSERT INTO todos (id, title, done)
      VALUES (?, ?, ?)
      ON CONFLICT(id) DO UPDATE SET title=excluded.title, done=excluded.done
    `);
    stmt.run(r.id, r.title, r.done);
  }

  async findById(id: TodoId): Promise<Todo | null> {
    const stmt = this.db.prepare(`SELECT id, title, done FROM todos WHERE id = ?`);
    const row = stmt.get(id);
    return row ? toDomain(row) : null;
  }

  async list(): Promise<Todo[]> {
    const stmt = this.db.prepare(`SELECT id, title, done FROM todos ORDER BY id`);
    const rows = stmt.all();
    return rows.map(toDomain);
  }
}
```

ğŸŒŸãƒã‚¤ãƒ³ãƒˆ

* SQLãƒ»ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ãƒ»æ•°å€¤/booleanå¤‰æ›ã¯ **å…¨éƒ¨ã“ã“ï¼ˆå¤–å´ï¼‰** ğŸ§©
* ä¸­å¿ƒã¯ `TodoRepository` ã ã‘çŸ¥ã£ã¦ã‚Œã°OKğŸ’–

---

## 13) çµ„ã¿ç«‹ã¦å ´æ‰€ã§æ¥ç¶šã™ã‚‹ğŸ—ï¸

ğŸ”Œä¸­å¿ƒã¨å¤–å´ã‚’â€œçµå©šâ€ã•ã›ã‚‹ã®ã¯ **mainã ã‘** ğŸ‘°â€â™€ï¸ğŸ¤µâ€â™‚ï¸âœ¨



```ts
// src/main.ts
import { SqliteTodoRepository } from "./adapters/sqliteTodoRepository.js";
import { addTodo } from "./usecases/addTodo.js";

async function main() {
  const repo = new SqliteTodoRepository("app.db");

  await addTodo(repo, "t1", "ãƒ¬ãƒãƒ¼ãƒˆæå‡ºğŸ“„");
  await addTodo(repo, "t2", "ãŠæ˜¼ã”ã¯ã‚“ğŸ™");

  console.log(await repo.list());
}

main();
```

---

## 14) å¤–å´ã®ãƒ†ã‚¹ãƒˆã¯ã€Œæœ€å°é™ã€ãŒãŠã™ã™ã‚ğŸ”ŒğŸ§ªä¸­å¿ƒã¯ãƒ¦ãƒ‹ãƒƒãƒˆã§ã‚¬ãƒã‚¬ãƒã«å®ˆã£ãŸã‹ã‚‰ã€å¤–å´ã¯



* SQLãŒæ­£ã—ã„ã‹
* å¤‰æ›ï¼ˆrowâ†”domainï¼‰ãŒåˆã£ã¦ã‚‹ã‹

ã ã‘ã‚’ **å°‘æ•°ã®çµåˆãƒ†ã‚¹ãƒˆ** ã§ç¢ºèªã™ã‚Œã°OKğŸ˜Šâœ¨

```ts
// test/sqliteRepo.test.ts
import { describe, it, expect } from "vitest";
import { SqliteTodoRepository } from "../src/adapters/sqliteTodoRepository.js";

describe("SqliteTodoRepository", () => {
  it("ä¿å­˜ã—ã¦å–å¾—ã§ãã‚‹ğŸ—„ï¸âœ¨", async () => {
    const repo = new SqliteTodoRepository(":memory:");

    await repo.save({ id: "t1", title: "ã­ã“ã«ã”ã¯ã‚“ğŸ±", done: false });

    const got = await repo.findById("t1");
    expect(got?.title).toBe("ã­ã“ã«ã”ã¯ã‚“ğŸ±");
    expect(got?.done).toBe(false);
  });
});
```

`:memory:` ã§ä¸€ç¬ã§çµ‚ã‚ã‚‹ã®æ°—æŒã¡ã„ã„ã€œâš¡ğŸ˜†

---

## 15) ã‚ˆãã‚ã‚‹ãƒŸã‚¹é›†ğŸ‘ƒ

ğŸ’¨ â†’ ç›´ã—æ–¹ğŸ› ï¸âœ¨### âŒ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å†…ã«SQLã‚’æ›¸ãâ¡ï¸ âœ… Repositoryã¸è¿½ã„å‡ºã™ğŸ§©



### âŒ RepositoryãŒã€Œãªã‚“ã§ã‚‚å±‹ã€ã«ãªã‚‹ï¼ˆwhere/joinæ¸¡ã—å§‹ã‚ã‚‹ï¼‰

â¡ï¸ âœ… **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒå¿…è¦ãªæ“ä½œã ã‘**ã«çµã‚‹âœ‚ï¸âœ¨

### âŒ ORM/DBã®å‹ã‚’ä¸­å¿ƒã¸æŒã¡è¾¼ã‚€ï¼ˆRowå‹ãŒæ¼ã‚Œã‚‹ï¼‰

â¡ï¸ âœ… å¤‰æ›ã¯Adapterå†…ã§å®Œçµã•ã›ã‚‹ğŸ”ğŸ’



### âŒ ãƒ†ã‚¹ãƒˆãŒå…¨éƒ¨DBçµåˆãƒ†ã‚¹ãƒˆâ¡ï¸ âœ… ä¸­å¿ƒã¯ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªå·®ã—æ›¿ãˆã§ãƒ¦ãƒ‹ãƒƒãƒˆä¸­å¿ƒã«âš¡ğŸ§ª

---

## 16) AIæ‹¡å¼µã®ä½¿ã„ã©ã“ã‚ğŸ¤–ğŸ€### ä½¿ã†ã¨é€Ÿã„âœ¨* Repository interfaceæ¡ˆã‚’å‡ºã•ã›ã‚‹ğŸ“œ


* ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªå®Ÿè£…ã®é››å½¢ã‚’ä½œã‚‰ã›ã‚‹ğŸ§¸
* ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®æ´—ã„å‡ºã—ã‚’ã•ã›ã‚‹ğŸ§ª

### ä½¿ã†ã¨å±é™ºâš ï¸* ã€ŒDBã®éƒ½åˆã€ã‚’ä¸­å¿ƒã¸æ··ãœãŸè¨­è¨ˆã‚’å¹³æ°—ã§å‡ºã™ğŸ˜‡ï¼ˆãã‚Œã£ã½ã„ã‘ã©åœ°é›·ğŸ’£ï¼‰



#### ãŠã™ã™ã‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹ğŸ’¬âœ¨* ã€Œ`TodoRepository` ã‚’ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼ˆè¿½åŠ /å–å¾—/ä¸€è¦§ï¼‰

ã«å¿…è¦æœ€å°é™ã®æ“ä½œã ã‘ã§è¨­è¨ˆã—ã¦ã€‚SQLã‚„ORMå‹ã¯æ¼ã‚‰ã•ãªã„ã§ã€


* ã€Œã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªå®Ÿè£…ã‚’Mapã§ã€‚ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„å½¢ã«ã—ã¦ã€

---

## 17) æ¼”ç¿’ğŸ“ğŸŒˆ### æ¼”ç¿’1ï¼šå®Œäº†ã«ã™ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹âœ…* `completeTodo(repo, id)` ã‚’ä½œã‚‹


* ã™ã§ã« `done=true` ãªã‚‰ã‚¨ãƒ©ãƒ¼ã«ã™ã‚‹ğŸ˜¤
* ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¯ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã§ğŸ§ªâœ¨

### æ¼”ç¿’2ï¼šRepositoryã‚’å¢—ã‚„ã•ãšã«å¯¾å¿œã™ã‚‹ğŸ§ * `list()` ã‚’ä½¿ã£ã¦ã€Œæœªå®Œäº†ã ã‘è¡¨ç¤ºã€ã‚’ä¸­å¿ƒã§ã‚„ã£ã¦ã¿ã‚ˆã†ï¼ˆå°è¦æ¨¡ãªã‚‰OKï¼‰

ğŸ™‚


* å¤§è¦æ¨¡ãªã‚‰ã€Œæ¤œç´¢æ“ä½œã€è¿½åŠ ã‚‚ã‚ã‚Šã ã‘ã©ã€**å¿…è¦ã«ãªã£ã¦ã‹ã‚‰**ã§OKï¼ˆYAGNIã£ã½ãã­ğŸ˜‰ï¼‰

---

## 18) ã¾ã¨ã‚âœ…ğŸ€* DBã¯I/Oã ã‹ã‚‰ **å¤–å´ã¸** ğŸ—„ï¸

â¡ï¸ğŸšª


* ä¸­å¿ƒã¯ **Repository interfaceã ã‘**ã‚’çŸ¥ã‚‹ğŸ“œâœ¨
* ãƒ†ã‚¹ãƒˆã¯ **ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªå·®ã—æ›¿ãˆ**ã§çˆ†é€Ÿâš¡ğŸ§ª
* å¤–å´ã¯ **æœ€å°é™ã®çµåˆãƒ†ã‚¹ãƒˆ**ã§OKğŸ”ŒğŸ™‚

ãŠã¤ã‹ã‚Œã•ã¾ã€œï¼ç¬¬21ç« ã§ã€ã„ã‚ˆã„ã‚ˆã€ŒDBã®å¤‰æ›´ãŒæ€–ããªã„ã€ä¸–ç•ŒãŒè¦‹ãˆã¦ããŸã‚ˆğŸ˜†ğŸŒŸ

---

### ã¡ã‚‡ã„ãƒ¡ãƒ¢ï¼šæœ€æ–°ç‰ˆã®æ ¹æ‹ ï¼ˆã•ã‚‰ã£ã¨ï¼‰

ğŸ“Œâœ¨* TypeScript 5.9 ã¯å…¬å¼ã§ã‚¢ãƒŠã‚¦ãƒ³ã‚¹æ¸ˆã¿ï¼ˆ2025-08-01å…¬é–‹ï¼‰ ([Microsoft for Developers][4])


* Nodeã¯ 2026å¹´1æœˆæ™‚ç‚¹ã§ v24 ãŒActive LTSã€v22ãŒMaintenance LTSï¼ˆå…¬å¼ã®ãƒªãƒªãƒ¼ã‚¹ä¸€è¦§ï¼‰ ([Node.js][5])
* `node:sqlite` ã¯ experimentalï¼ˆãŸã ã—æœ€è¿‘ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ãƒ•ãƒ©ã‚°å‘¨ã‚ŠãŒæ›´æ–°ã•ã‚Œã¦ã‚‹æµã‚Œï¼‰ ([Node.js][2])

[1]: https://vitest.dev/blog/vitest-4?utm_source=chatgpt.com "Vitest 4.0 is out!"
[2]: https://nodejs.org/api/sqlite.html?utm_source=chatgpt.com "SQLite | Node.js v25.3.0 Documentation"
[3]: https://nodejs.org/download/release/v22.9.0/docs/api/sqlite.html?utm_source=chatgpt.com "SQLite | Node.js v22.9.0 Documentation"
[4]: https://devblogs.microsoft.com/typescript/announcing-typescript-5-9/?utm_source=chatgpt.com "Announcing TypeScript 5.9"
[5]: https://nodejs.org/en/about/previous-releases?utm_source=chatgpt.com "Node.js Releases"
