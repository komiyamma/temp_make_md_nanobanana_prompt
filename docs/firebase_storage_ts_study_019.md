### ç¬¬19ç« ï¼šã‚µãƒ ãƒç”Ÿæˆã®ä½œæˆ¦ï¼ˆã©ã“ã§ä½œã‚‹ï¼Ÿï¼‰ğŸ—ºï¸ğŸ–¼ï¸âœ¨

ã“ã®ç« ã¯ã€Œã‚µãƒ ãƒï¼ˆå°ã•ã„ç”»åƒï¼‰ã€ã‚’ **ã©ã†ã„ã†æ–¹é‡ã§ä½œã‚‹ã®ãŒä¸€ç•ªãƒ©ã‚¯ã§äº‹æ•…ã‚‰ãªã„ã‹** ã‚’æ±ºã‚ã¦ã€å®Ÿéš›ã®ã‚¢ãƒ—ãƒªè¨­è¨ˆã«è½ã¨ã—è¾¼ã‚€å›ã ã‚ˆã€œï¼ğŸ˜†ğŸ‘
ï¼ˆæ¬¡ã®ç¬¬20ç« ã§ã€ŒExtensions/Functions/AIã§è‡ªå‹•åŒ–ğŸ”¥ã€ã«å…¥ã‚Œã‚‹ã‚ˆã†ã«ã€ã“ã“ã§ä½œæˆ¦ã‚’å›ºã‚ã‚‹ï¼ï¼‰

---

## 1) ã¾ãšã‚µãƒ ãƒã£ã¦ä½•ãŒå¬‰ã—ã„ã®ï¼ŸğŸ¤”ğŸ“·

ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã£ã¦ã€å…ƒç”»åƒãŒã‚¹ãƒãƒ›å†™çœŸã ã¨ **æ•°MB** ã«ãªã‚‹ã“ã¨ã‚‚æ™®é€šã ã‚ˆã­ğŸ“±ğŸ’¦
ãã®ã¾ã¾ä¸€è¦§ç”»é¢ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¹ãƒˆã¨ã‹ï¼‰ã§å…¨éƒ¨èª­ã¿è¾¼ã‚€ã¨â€¦

* èª­ã¿è¾¼ã¿ãŒé…ã„ğŸ¢
* é€šä¿¡é‡ãŒå¢—ãˆã‚‹ğŸ“¶ğŸ’¸
* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒé‡ã„ğŸ˜µâ€ğŸ’«
* ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚‚åŠ¹ãã«ãã„ğŸŒ€

ã ã‹ã‚‰å®Ÿå‹™ã§ã¯ã ã„ãŸã„ã“ã†ã™ã‚‹ğŸ‘‡

* **ã‚ªãƒªã‚¸ãƒŠãƒ«**ï¼ˆä¿ç®¡ç”¨ãƒ»æ‹¡å¤§è¡¨ç¤ºç”¨ï¼‰ğŸ“¦
* **ã‚µãƒ ãƒ 128**ï¼ˆã‚¢ã‚¤ã‚³ãƒ³ç”¨ï¼‰ğŸ™‚
* **ã‚µãƒ ãƒ 512**ï¼ˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¡¨ç¤ºç”¨ï¼‰ğŸ§‘â€ğŸ’»âœ¨
  ï¼ˆå¿…è¦ãªã‚‰ 1024 ã‚‚è¿½åŠ ğŸ“¸ï¼‰

---

## 2) ã‚µãƒ ãƒã‚’ä½œã‚‹å ´æ‰€ã¯3æŠã ã‚ˆğŸ§©

### â‘  ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ï¼‰ã§ç¸®å°ã—ã¦ã€Œ1æšã ã‘ã€ç½®ãğŸ–¥ï¸â¡ï¸ğŸ—œï¸

**å‘ã„ã¦ã‚‹ï¼š** é€Ÿã„ãƒ»ç°¡å˜ãƒ»å­¦ç¿’å‘ãâœ¨
**å¼±ç‚¹ï¼š** ç«¯æœ«æ€§èƒ½ã«å·¦å³ã•ã‚Œã‚‹ã€è¤‡æ•°ã‚µã‚¤ã‚ºã‚’ä½œã‚‹ã¨å®Ÿè£…ãŒå¢—ãˆã‚‹ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒâ€œãƒ‡ã‚«ã„ç”»åƒâ€ã‚’ä¸Šã’ãŸã‚‰ä¿å­˜ã‚³ã‚¹ãƒˆã¯å¢—ãˆãŒã¡ğŸ“¦

> ã“ã‚Œã¯ç¬¬8ç« ã®ã€Œã‚¢ãƒƒãƒ—å‰åœ§ç¸®ãƒ»ãƒªã‚µã‚¤ã‚ºğŸ—œï¸ã€ã§ã€ã™ã§ã«å¼·ã„æ­¦å™¨ã«ãªã£ã¦ã‚‹ã‚„ã¤ã ã­ğŸ’ª

---

### â‘¡ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¾Œã«ã‚µãƒ¼ãƒãƒ¼å´ã§ã€Œè¤‡æ•°ã‚µã‚¤ã‚ºã€ã‚’ç”Ÿæˆã™ã‚‹âš™ï¸â˜ï¸

ãŸã¨ãˆã° **Cloud Functions for Firebaseï¼ˆç¬¬2ä¸–ä»£ï¼‰** ã® **Cloud Storageãƒˆãƒªã‚¬ãƒ¼**ã§ã€ç”»åƒãŒç½®ã‹ã‚ŒãŸã‚‰è‡ªå‹•ã§ã‚µãƒ ãƒã‚’ä½œã‚‹ã‚„ã‚Šæ–¹ï¼
å…¬å¼ã§ã‚‚ã€ç”»åƒã‚¢ãƒƒãƒ—æ™‚ã« **Node.jsãªã‚‰ sharp / Pythonãªã‚‰ Pillow** ã‚’ä½¿ã£ã¦ã‚µãƒ ãƒç”Ÿæˆã§ãã‚‹ä¾‹ãŒã‚ã‚‹ã‚ˆã€‚([Firebase][1])

**å‘ã„ã¦ã‚‹ï¼š** å®Ÿå‹™ã£ã½ã„ğŸ”¥ è¤‡æ•°ã‚µã‚¤ã‚ºãŒå®‰å®šã€ç«¯æœ«å·®ãŒãªã„
**å¼±ç‚¹ï¼š** åˆæœŸè¨­å®šãŒå¢—ãˆã‚‹ã€ã‚³ã‚¹ãƒˆã¨é‹ç”¨ï¼ˆå¤±æ•—æ™‚ã®å†ç”Ÿæˆãªã©ï¼‰ã‚‚è€ƒãˆã‚‹å¿…è¦ã‚ã‚Š

> æ³¨æ„ï¼šé–¢æ•°ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯ **ãƒã‚±ãƒƒãƒˆã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¨åˆã‚ã›ãªã„ã¨ãƒ‡ãƒ—ãƒ­ã‚¤å¤±æ•—**ã‚„ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·åŸå› ã«ãªã‚Šã‚„ã™ã„ã‚ˆã€‚([Firebase][1])

---

### â‘¢ Extensionsã§è‡ªå‹•åŒ–ã™ã‚‹ğŸ§©âœ¨ï¼ˆã¾ãšã¯ã“ã‚ŒãŒæœ€å¼·ï¼‰

ã€ŒResize Imagesï¼ˆç”»åƒãƒªã‚µã‚¤ã‚ºï¼‰ã€æ‹¡å¼µã‚’å…¥ã‚Œã‚‹ã¨ã€**ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸç”»åƒã‹ã‚‰è¤‡æ•°ã‚µã‚¤ã‚ºã‚’è‡ªå‹•ç”Ÿæˆ**ã—ã¦ãã‚Œã‚‹ï¼
ã—ã‹ã‚‚ã€**ç”Ÿæˆå…ˆãƒã‚±ãƒƒãƒˆã‚’åˆ†ã‘ã‚‹**ã®ãŒæ¨å¥¨ï¼ˆï¼é–¢æ•°ãŒä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚‚åå¿œã—ã¡ã‚ƒã†ã®ã‚’é˜²ãï¼‰ã£ã¦å…¬å¼ã«æ›¸ã‹ã‚Œã¦ã‚‹ã€‚([extensions.dev][2])

**å‘ã„ã¦ã‚‹ï¼š** æœ€é€Ÿã§â€œå®Ÿå‹™æ„Ÿâ€ãŒå‡ºã‚‹ğŸš€ / è‡ªä½œã‚ˆã‚Šäº‹æ•…ã‚Šã«ãã„
**å¼±ç‚¹ï¼š** ã“ã ã‚ã‚Šï¼ˆç‰¹æ®Šãªå‘½åãƒ»ç‰¹æ®Šãªã‚¯ãƒ­ãƒƒãƒ—ï¼‰ã‚’ã‚„ã‚ŠãŸã„ã¨ãã¯è‡ªä½œãŒå¿…è¦

> Resize Images ã¯ **Blazeï¼ˆå¾“é‡èª²é‡‘ï¼‰** ãŒå¿…è¦ã ã‚ˆã€‚([extensions.dev][2])

---

## 3) ã“ã“ã‚’æ±ºã‚ã‚Œã°å‹ã¡ğŸ†ï¼ˆã‚µãƒ ãƒè¨­è¨ˆã®3ç‚¹ã‚»ãƒƒãƒˆï¼‰

### A. ä½•ã‚µã‚¤ã‚ºã‚’ä½œã‚‹ï¼ŸğŸ“

è¿·ã£ãŸã‚‰ã“ã‚Œã§OKğŸ‘‡

* `128x128`ï¼šãƒ˜ãƒƒãƒ€ãƒ¼ã‚„ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã®ä¸¸ã‚¢ã‚¤ã‚³ãƒ³ğŸ™‚
* `512x512`ï¼šãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢ã®â€œãã“ãã“å¤§ãã„è¡¨ç¤ºâ€âœ¨
* ï¼ˆä½™è£•ãŒã‚ã‚Œã°ï¼‰`1024x1024`ï¼šé«˜è§£åƒåº¦ç«¯æœ«ç”¨ğŸ“±âœ¨

> ã€Œæ­£æ–¹å½¢ã€ã¯UIãŒç¶ºéº—ã«æƒã„ã‚„ã™ãã¦ã€åˆå¿ƒè€…ã«ã¨ã£ã¦ã‚‚äº‹æ•…ãŒå°‘ãªã„ğŸ‘

---

### B. ã©ã“ã«ç½®ãï¼Ÿï¼ˆãƒ‘ã‚¹è¨­è¨ˆï¼‰ğŸ“

ãŠã™ã™ã‚ã¯ã€Œã‚ªãƒªã‚¸ãƒŠãƒ«ã€ã¨ã€Œã‚µãƒ ãƒã€ã‚’åˆ†ã‘ã‚‹ğŸ‘‡

* ã‚ªãƒªã‚¸ãƒŠãƒ«ï¼š`users/{uid}/profile/original/{fileId}`
* ã‚µãƒ ãƒï¼š`users/{uid}/profile/thumb/{fileId}_128x128.jpg` ã¿ãŸã„ã«

Resize Imagesæ‹¡å¼µã ã¨ã€å…ƒãƒ•ã‚¡ã‚¤ãƒ«åã« **`_{width}x{height}` ã®ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹**ãŒä»˜ã„ã¦å‡ºåŠ›ã•ã‚Œã‚‹æŒ™å‹•ãŒåŸºæœ¬ï¼ˆä¾‹ï¼š`cat.jpg` â†’ `cat_200x200.jpg`ï¼‰ã ã‚ˆã€‚([extensions.dev][2])

---

### C. ç”»é¢å´ã¯ã€Œã©ã‚Œã‚’å„ªå…ˆã—ã¦ä½¿ã†ï¼Ÿã€ğŸ–¼ï¸

UIãƒ«ãƒ¼ãƒ«ã‚’æ±ºã‚ã‚‹ã¨ã€ç”»é¢å®Ÿè£…ãŒä¸€æ°—ã«ãƒ©ã‚¯ã«ãªã‚‹ğŸ˜†

* ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆå°ï¼‰ï¼š`thumb128` ãŒã‚ã‚Œã°ãã‚Œã€ãªã‘ã‚Œã° `original`
* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼ˆä¸­ï¼‰ï¼š`thumb512` ãŒã‚ã‚Œã°ãã‚Œã€ãªã‘ã‚Œã° `original`
* æ‹¡å¤§è¡¨ç¤ºï¼š`original`

---

## 4) Firestoreå´ã®æŒã¡æ–¹ï¼ˆè¶…ãŠã™ã™ã‚å½¢ï¼‰ğŸ§ ğŸ—ƒï¸

ã€ŒURLã‚’ãƒ™ã‚¿ä¿å­˜ã€ã‚ˆã‚Šã€**pathã‚’ä¸»å½¹**ã«ã—ã¦ãŠãã¨å¼·ã„ğŸ’ª
ï¼ˆURLã¯ãƒˆãƒ¼ã‚¯ãƒ³ã‚„ã‚­ãƒ£ãƒƒã‚·ãƒ¥éƒ½åˆã§å¤‰åŒ–ã—ã†ã‚‹ã®ã§ã€â€œå¿…è¦ãªã¨ãå†å–å¾—â€ãŒå®‰å…¨å¯„ã‚Šï¼‰

ä¾‹ï¼š`users/{uid}` ã«ã“ã†æŒã¤ğŸ‘‡

* `photo.originalPath`
* `photo.thumbPaths.128`
* `photo.thumbPaths.512`
* `photo.updatedAt`

```
ts
type UserPhoto = {
  originalPath: string;
  thumbPaths: {
    "128"?: string;
    "512"?: string;
  };
  updatedAt: number;
};
```

> Resize Images ã¯ **ç”Ÿæˆç”»åƒã«æ–°ã—ã„ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä»˜ä¸**ã—ã€å…ƒç”»åƒã¨åŒã˜ãƒˆãƒ¼ã‚¯ãƒ³ã«ã¯ãªã‚‰ãªã„ï¼ˆï¼URLãŒåˆ¥ç‰©ã«ãªã‚‹ï¼‰æŒ™å‹•ãŒã‚ã‚‹ã‚ˆã€‚([extensions.dev][2])
> ãªã®ã§ã€ŒURLä¿å­˜æ´¾ã€ã®å ´åˆã¯ã€**å„ã‚µãƒ ãƒURLã‚‚åˆ¥ã§ä¿å­˜**ãŒå¿…è¦ã«ãªã‚ŠãŒã¡ã€‚

---

## 5) æ‰‹ã‚’å‹•ã‹ã™ğŸ› ï¸âœ¨ï¼šç”»é¢å´ã®â€œã‚µãƒ ãƒå„ªå…ˆãƒ­ã‚¸ãƒƒã‚¯â€ã‚’ä½œã‚ã†

### 5-1. ã©ã®ç”»åƒã‚’ä½¿ã†ã‹é¸ã¶é–¢æ•°ã‚’ä½œã‚‹ğŸ™‚

```
ts
type PhotoDoc = {
  originalUrl?: string; // ã™ã§ã«URLã‚’æŒã£ã¦ã‚‹å ´åˆã®é€ƒã’é“
  thumbUrls?: { "128"?: string; "512"?: string };
};

export function pickPhotoUrl(photo: PhotoDoc | undefined, want: "128" | "512") {
  if (!photo) return undefined;
  return photo.thumbUrls?.[want] ?? photo.originalUrl;
}
```

### 5-2. Reactã§ä½¿ã†ğŸ§‘â€ğŸ’»âœ¨

```
tsx
const avatarUrl = pickPhotoUrl(user.photo, "128");
const profileUrl = pickPhotoUrl(user.photo, "512");

return (
  <>
    <img src={avatarUrl ?? "/default-avatar.png"} width={48} height={48} />
    <img src={profileUrl ?? "/default-avatar.png"} width={256} height={256} />
  </>
);
```

ã“ã‚Œã§ã€Œã‚µãƒ ãƒãŒç”¨æ„ã•ã‚Œã¦ã‚‹ãªã‚‰å‹æ‰‹ã«è»½ã„æ–¹ã‚’ä½¿ã†ã€å‹•ããŒå®ŒæˆğŸ‰
ã‚ã¨ã¯ç¬¬20ç« ã§ **è‡ªå‹•ç”Ÿæˆ** ã‚’å…¥ã‚Œã‚Œã°ã€ç¾å®Ÿã‚¢ãƒ—ãƒªæ„ŸãŒä¸€æ°—ã«å‡ºã‚‹ğŸ”¥

---

## 6) è‡ªå‹•ç”Ÿæˆã®é¸ã³æ–¹ï¼ˆãŠã™ã™ã‚ãƒ«ãƒ¼ãƒˆï¼‰ğŸš¦

### ãƒ«ãƒ¼ãƒˆAï¼šResize Imagesæ‹¡å¼µï¼ˆæœ€çŸ­ã§â€œãã‚Œã£ã½ã„â€ï¼‰ğŸ§©ğŸš€

ã‚„ã‚‹ã“ã¨ã¯è¶…ã‚·ãƒ³ãƒ—ãƒ«ğŸ‘‡

1. Extensions ã‹ã‚‰ **Resize Images** ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. ã€Œå…¥åŠ›ãƒã‚±ãƒƒãƒˆã€ã¨ã€Œå‡ºåŠ›ãƒã‚±ãƒƒãƒˆï¼ˆåˆ†ã‘ã‚‹ã®æ¨å¥¨ï¼‰ã€ã‚’è¨­å®š([extensions.dev][2])
3. ç”Ÿæˆã‚µã‚¤ã‚ºã‚’ `128x128, 512x512` ã¿ãŸã„ã«ç™»éŒ²
4. ã‚¢ãƒ—ãƒªå´ã¯ã€Œæ±ºã‚ãŸå‘½åè¦å‰‡ã€ã§ path/URL ã‚’ä½œã‚‹ or Firestoreã¸ä¿å­˜ã™ã‚‹

æ‹¡å¼µã¯ **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼**ã§ããŸã‚Šã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç³»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ãˆã‚‹ä»•æ§˜ã‚‚ã‚ã‚‹ã‚ˆã€‚([extensions.dev][2])
ã•ã‚‰ã«é¢ç™½ã„ã®ãŒã€æ‹¡å¼µå´ã« **Genkitï¼ˆGeminiï¼‰ã‚’ä½¿ã£ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚£ãƒ«ã‚¿**æ©Ÿèƒ½ï¼ˆä¸é©åˆ‡ç”»åƒã®æ¤œçŸ¥ãªã©ï¼‰ã‚‚ç”¨æ„ã•ã‚Œã¦ã‚‹ã“ã¨ï¼ğŸ˜³ğŸ¤–([extensions.dev][2])

---

### ãƒ«ãƒ¼ãƒˆBï¼šCloud Functionsï¼ˆè‡ªä½œã§è‡ªç”±åº¦MAXï¼‰âš™ï¸ğŸ”¥

å…¬å¼ã®ãƒˆãƒªã‚¬ãƒ¼ä¾‹ã§ã‚‚ã€Œã‚µãƒ ãƒã¯ `thumb_` ã¿ãŸã„ãªæ¥é ­è¾ã‚’ä»˜ã‘ã¦ã€**ã‚µãƒ ãƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§å†ãƒˆãƒªã‚¬ãƒ¼ã—ãªã„ã‚ˆã†ã«é™¤å¤–**ã™ã‚‹ã€ã¨ã„ã£ãŸå®Ÿå‹™ãƒ†ã‚¯ãŒæ›¸ã‹ã‚Œã¦ã‚‹ã‚ˆã€‚([extensions.dev][2])

ã—ã‹ã‚‚ Firebase Functions ã¯ Node.js ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¨ã—ã¦ **Node.js 22 / 20 ã‚’é¸ã¹ã‚‹**ï¼ˆNode.js 18ã¯éæ¨å¥¨ï¼‰ã¨æ˜è¨˜ã•ã‚Œã¦ã‚‹ã€‚([Firebase][3])
ESMï¼ˆ`"type":"module"`ï¼‰ã‚‚OKã€‚([Firebase][3])

> ã€Œã©ã£ã¡ä½¿ã†ï¼Ÿã€ã¯ã€æœ€åˆã¯ **Node.js 20 or 22** ã§OKğŸ‘ï¼ˆæ–°ã—ã‚ã‚’é¸ã¹ã°OKï¼‰

---

## 7) AIã‚‚çµ¡ã‚ã‚‹ğŸ¤–ğŸ–¼ï¸âœ¨ï¼ˆã‚µãƒ ãƒè¨­è¨ˆãŒâ€œæ¬¡ã®ç« â€ã«ç¹‹ãŒã‚‹ï¼ï¼‰

ã‚µãƒ ãƒã®â€œç”Ÿæˆâ€ãã®ã‚‚ã®ã¯AIã˜ã‚ƒãªãã¦ã‚‚ã§ãã‚‹ã‚“ã ã‘ã©ã€AIã‚’è¶³ã™ã¨ä¸€æ°—ã«å®Ÿå‹™ã£ã½ããªã‚‹ğŸ”¥

* **ç”»åƒã®èª¬æ˜æ–‡ï¼ˆaltãƒ†ã‚­ã‚¹ãƒˆï¼‰**ã‚’è‡ªå‹•ç”ŸæˆğŸ“
* **æ¤œç´¢ç”¨ã‚¿ã‚°**ã‚’è‡ªå‹•ä»˜ä¸ğŸ·ï¸
* **ä¸é©åˆ‡ç”»åƒãƒã‚§ãƒƒã‚¯**ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡Œãã«ã™ã‚‹ğŸ§¯

Firebase AI Logic ã¯ **ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆç”»åƒURLå…¥åŠ›OKï¼‰**ã§ã€ç”»åƒã‹ã‚‰èª¬æ˜æ–‡ã‚’ä½œã‚‹ç³»ãŒã‚„ã‚Œã‚‹ã€‚([Firebase][4])
ã•ã‚‰ã« **App Check å¯¾å¿œ**ã‚‚æ›¸ã‹ã‚Œã¦ã‚‹ã®ã§ã€â€œæ­£è¦ã‚¢ãƒ—ãƒªä»¥å¤–ã‹ã‚‰å©ã‹ã‚Œã«ããã™ã‚‹â€ã‚‚åˆã‚ã›ã‚„ã™ã„ã‚ˆã€‚([Firebase][4])
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚ãŸã‚Šãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆä¾‹ï¼š100 rpmï¼‰**ã®è©±ã‚‚ã‚ã‚‹ã‹ã‚‰ã€ä¹±ç”¨å¯¾ç­–ã®è¨­è¨ˆã«ã‚‚ç¹‹ãŒã‚‹ã­ğŸ›¡ï¸([Firebase][4])

ã‚ã¨ã€ãƒ¢ãƒ‡ãƒ«ã®å…¥ã‚Œæ›¿ã‚ã‚Šã‚‚ã‚ã‚‹ã®ã§ã€Œã„ã¤ã¾ã§ä½¿ãˆã‚‹ï¼Ÿã€ã¯è¦ãƒã‚§ãƒƒã‚¯ï¼
ä¾‹ã¨ã—ã¦ã€ã‚ã‚‹ãƒ¢ãƒ‡ãƒ«ã¯ **2026-03-31 ã«å¼•é€€äºˆå®š**ã¨æ¡ˆå†…ã•ã‚Œã¦ãŸã‚Šã™ã‚‹ã€‚([Firebase][4])

---

## 8) Antigravity / Gemini CLI / Firebase MCP server ã§â€œä½œæˆ¦ä¼šè­°â€ã‚’çˆ†é€Ÿã«ã™ã‚‹ğŸš€ğŸ§ 

### Gemini CLI ã« Firebaseæ‹¡å¼µã‚’å…¥ã‚Œã‚‹ï¼ˆã‚³ãƒãƒ³ãƒ‰1ç™ºï¼‰âš¡

Firebaseå…¬å¼ãŒã€Gemini CLIæ‹¡å¼µã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã‚’æ¡ˆå†…ã—ã¦ã‚‹ã‚ˆã€‚([Firebase][5])

```
bash
gemini extensions install https://github.com/gemini-cli-extensions/firebase/
```

ã“ã®æ‹¡å¼µã¯ **Firebase MCP server ã‚’è‡ªå‹•ã§å°å…¥ãƒ»è¨­å®š**ã—ã¦ã€Firebaseæ“ä½œã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‚ç…§ã‚’ã‚„ã‚Šã‚„ã™ãã™ã‚‹ã£ã¦èª¬æ˜ã•ã‚Œã¦ã‚‹ã€‚([Firebase][5])

### Firebase MCP serverï¼ˆAntigravityã‚‚å¯¾å¿œï¼‰ğŸ§©

Firebase MCP server ã¯ Antigravity ã‚„ Gemini CLI ãªã©ã®MCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ä½¿ãˆã¦ã€
**Cloud Storage/Firestore ã® Security Rules ã‚’ç†è§£ã™ã‚‹**ã¿ãŸã„ãªç”¨é€”ã«ã‚‚åŠ¹ãã‚ˆã€‚([Firebase][6])

Antigravityå´ã®è¨­å®šä¾‹ã‚‚å…¬å¼ã«å‡ºã¦ã¦ã€`firebase-tools@latest mcp` ã‚’ä½¿ã†å½¢ã«ãªã£ã¦ã‚‹ã€‚([Firebase][6])

---

## 9) è¶…é‡è¦âš ï¸ï¼šãƒ—ãƒ©ãƒ³ã¨ãƒã‚±ãƒƒãƒˆè¦ä»¶ï¼ˆ2026-02-03ãŒçµ¡ã‚€è©±ï¼‰

ã‚‚ã—ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ `*.appspot.com` ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒã‚±ãƒƒãƒˆã‚’ä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã«è©²å½“ã™ã‚‹ãªã‚‰ã€**2026-02-03 ã¾ã§ã« Blaze ã«ç§»è¡ŒãŒå¿…è¦**ãªã©ã®è¦ä»¶ãŒæ¡ˆå†…ã•ã‚Œã¦ã‚‹ã‚ˆã€‚([Firebase][7])
ã‚µãƒ ãƒè‡ªå‹•ç”Ÿæˆï¼ˆExtensions/Functionsï¼‰ã‚’ã‚„ã‚‹ã»ã©ã€ãƒã‚±ãƒƒãƒˆå‘¨ã‚Šã¯é¿ã‘ã¦é€šã‚Œãªã„ã®ã§ã“ã“ã¯æ—©ã‚ã«ç¢ºèªã—ã‚ˆã€œï¼ğŸ§¯

---

## ãƒŸãƒ‹èª²é¡ŒğŸ“âœ¨ï¼ˆã“ã®ç« ã®ã‚´ãƒ¼ãƒ«ç¢ºèªï¼‰

1. ã‚ãªãŸã®ã‚¢ãƒ—ãƒªã§å¿…è¦ãªã‚µãƒ ãƒã‚µã‚¤ã‚ºã‚’ **2ã¤** æ±ºã‚ã‚‹ï¼ˆä¾‹ï¼š128ã¨512ï¼‰ğŸ“
2. ãƒ‘ã‚¹è¨­è¨ˆã‚’æ±ºã‚ã‚‹ï¼ˆ`original/` ã¨ `thumb/` ã‚’åˆ†ã‘ã‚‹ï¼‰ğŸ“
3. Reactå´ã§ã€Œã‚µãƒ ãƒå„ªå…ˆã§è¡¨ç¤ºã™ã‚‹é–¢æ•°ã€ã‚’å…¥ã‚Œã‚‹ğŸ™‚
4. è‡ªå‹•ç”Ÿæˆã®æ–¹å¼ã‚’ **Aï¼ˆExtensionï¼‰ or Bï¼ˆFunctionsï¼‰** ã®ã©ã¡ã‚‰ã«ã™ã‚‹ã‹æ±ºã‚ã‚‹ğŸš¦

---

## ãƒã‚§ãƒƒã‚¯âœ…ï¼ˆã§ããŸã‚‰å‹ã¡ï¼ï¼‰

* ã€Œã©ã®ç”»é¢ã§ã€ã©ã®ã‚µã‚¤ã‚ºã‚’ä½¿ã†ã‹ã€èª¬æ˜ã§ãã‚‹ğŸ™‚âœ…
* Storageä¸Šã®ãƒ‘ã‚¹ãŒã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã¨ã‚µãƒ ãƒã§åˆ†ã‹ã‚Œã¦ã‚‹ğŸ“âœ…
* Firestoreã« â€œpathï¼ˆã¾ãŸã¯URLï¼‰ï¼‹thumbæƒ…å ±â€ ã‚’æŒã¤æ–¹é‡ãŒè¨€ãˆã‚‹ğŸ§ âœ…
* Extensionã‹Functionsã€ã©ã£ã¡ã§è‡ªå‹•åŒ–ã™ã‚‹ã‹æ±ºã‚ãŸğŸš€âœ…

---

æ¬¡ã®ç¬¬20ç« ã¯ã€ã“ã“ã§æ±ºã‚ãŸä½œæˆ¦ã‚’ **Extensions/Functions/AIã§åˆä½“ğŸ”¥**ã•ã›ã¦ã€
ã€Œã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰â†’ã‚µãƒ ãƒç”Ÿæˆâ†’èª¬æ˜æ–‡/ã‚¿ã‚°â†’Firestoreåæ˜ ã€ã¾ã§ä¸€æ°—ã«â€œç¾å®Ÿã‚¢ãƒ—ãƒªâ€ã«ä»•ä¸Šã’ã‚‹ã‚ˆğŸ˜âœ¨

[1]: https://firebase.google.com/docs/storage/extend-with-functions?hl=ja "Cloud Storage ã‚’ Cloud Functions ã§æ‹¡å¼µã™ã‚‹ Â |Â  Cloud Storage for Firebase"
[2]: https://extensions.dev/extensions/firebase/storage-resize-images "Resize Images | Firebase Extensions Hub"
[3]: https://firebase.google.com/docs/functions/1st-gen/manage-functions-1st?hl=ja "é–¢æ•°ã‚’ç®¡ç†ã™ã‚‹ï¼ˆç¬¬ 1 ä¸–ä»£ï¼‰ Â |Â  Cloud Functions for Firebase"
[4]: https://firebase.google.com/docs/ai-logic/faq-and-troubleshooting "FAQ and troubleshooting Â |Â  Firebase AI Logic"
[5]: https://firebase.google.com/docs/ai-assistance/gcli-extension "Firebase extension for the Gemini CLI Â |Â  Develop with AI assistance"
[6]: https://firebase.google.com/docs/ai-assistance/mcp-server "Firebase MCP server Â |Â  Develop with AI assistance"
[7]: https://firebase.google.com/docs/storage/extend-with-functions "Extend Cloud Storage with Cloud Functions Â |Â  Cloud Storage for Firebase"
