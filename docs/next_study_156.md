# ç¬¬156ç« ï¼šRSC/Server Functionså‘¨ã‚Šã®è„†å¼±æ€§æƒ…å ±ã¯å¿…ãšè¿½ã†ğŸ§¯

ã“ã®ç« ã¯ã²ã¨ã“ã¨ã§è¨€ã†ã¨â€¦
**ã€ŒRSCï¼ˆReact Server Componentsï¼‰ã‚„ Server Functionsï¼ˆServer Actionså«ã‚€ï¼‰ã¯ã€â€œæ–°ã—ã‚ã§æ”»æ’ƒã•ã‚Œã‚„ã™ã„å¢ƒç•Œâ€ã ã‹ã‚‰ã€è„†å¼±æ€§æƒ…å ±ã‚’â€œé€šçŸ¥ã§å—ã‘å–ã‚Œã‚‹çŠ¶æ…‹â€ã«ã—ã¦ãŠã“ã†ã­ã€**ã£ã¦è©±ã ã‚ˆã€œï¼ğŸ“£âœ¨

---

## 1) ãªã‚“ã§ã“ã“ã ã‘â€œå¿…ãšè¿½ã†â€ãªã®ï¼ŸğŸ¥ºğŸ§ 

![next study 156 rsc entry](./picture/next_study_156_rsc_entry.png)


RSCã‚„Server Functionsã¯ã€ã–ã£ãã‚Šè¨€ã†ã¨ **ã€Œã‚µãƒ¼ãƒãƒ¼å´ã«â€œå®Ÿè¡Œã•ã‚Œã‚‹å…¥å£â€ãŒå¢—ãˆã‚‹ä»•çµ„ã¿ã€** ãªã®ã­ğŸšªğŸ–¥ï¸
ã ã‹ã‚‰ã€ã‚‚ã—ä»•çµ„ã¿ã«ç©´ãŒã‚ã‚‹ã¨ **ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒ¤ãƒã„ã“ã¨ãŒèµ·ãã‚‹** å¯èƒ½æ€§ãŒå‡ºã‚‹ã®â€¦ğŸ˜±

å®Ÿéš›ã« **2025å¹´12æœˆã«ã€RSCã¾ã‚ã‚Šã§â€œæœªèªè¨¼ã®RCEï¼ˆãƒªãƒ¢ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰å®Ÿè¡Œï¼‰â€ãŒå‡ºã¦ã€å³ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ¨å¥¨** ã£ã¦ã„ã†ãƒ¬ãƒ™ãƒ«ã®ã‚‚ã®ãŒå…¬å¼ã‹ã‚‰å‡ºã¦ã‚‹ã‚ˆã€‚([React][1])
ã•ã‚‰ã«è¿½åŠ ã®å•é¡Œï¼ˆDoSã‚„ã‚½ãƒ¼ã‚¹éœ²å‡ºï¼‰ã‚‚ç¶šã‘ã¦å‘ŠçŸ¥ã•ã‚Œã¦ã„ã¦ã€ã€Œè¿½ã£ã¦ãªã„ã¨ç½®ã„ã¦ã‹ã‚Œã‚‹ã€æ„Ÿã˜ã«ãªã‚Šã‚„ã™ã„ã®ğŸ¥²([Next.js][2])
ï¼ˆã—ã‹ã‚‚å…¬é–‹å¾Œã™ãæ‚ªç”¨ãŒè¦³æ¸¬ã•ã‚ŒãŸã€ã¨ã„ã†ãƒ¬ãƒãƒ¼ãƒˆã‚‚ã‚ã‚‹ã‚ˆï¼‰([Amazon Web Services, Inc.][3])

---

## 2) ã¾ãšã“ã‚Œã ã‘ï¼RSC / Server Functions ã®â€œå¢ƒç•Œâ€ã‚¤ãƒ¡ãƒ¼ã‚¸ğŸŒ‰âœ¨

![RSC Security](./picture/next_study_156_rsc_security.png)

* **RSC**ï¼šãƒšãƒ¼ã‚¸ã®ä¸€éƒ¨ãŒã‚µãƒ¼ãƒãƒ¼ã§çµ„ã¿ç«‹ã¦ã‚‰ã‚Œã¦ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸é€ã‚‰ã‚Œã‚‹ä»•çµ„ã¿ğŸ§ŠğŸ“¦
* **Server Functionsï¼ˆServer Actionsãªã©ï¼‰**ï¼šãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚„æ“ä½œã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒãƒ¼å´ã®é–¢æ•°ã‚’å‘¼ã¹ã‚‹ä»•çµ„ã¿ğŸ§‘â€ğŸ³â¡ï¸ğŸ–¥ï¸

å›³ã«ã™ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã ã‚ˆğŸ‘‡

```mermaid
sequenceDiagram
  participant B as Browser
  participant N as Next.js Server
  participant C as Client UI
  participant F as Server Function ("Actionãªã©")
  participant D as DB/å¤–éƒ¨API

  B->>N: GET /page
  N-->>B: HTML + RSC payload
  B->>C: ("å¿…è¦ãªã‚‰") ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§æ“ä½œ
  C->>F: æ“ä½œ/é€ä¿¡ã§ã‚µãƒ¼ãƒãƒ¼é–¢æ•°ã‚’å‘¼ã¶
  F->>D: DB/å¤–éƒ¨APIã‚¢ã‚¯ã‚»ã‚¹
  D-->>F: çµæœ
  F-->>C: çµæœã‚’è¿”ã™
```

ã“ã®ã€ŒCâ†’Fã€ã®éƒ¨åˆ†ãŒâ€œå…¥å£â€ã«ãªã‚Šã‚„ã™ã„ã‹ã‚‰ã€**RSC/Server Functionsç³»ã®è„†å¼±æ€§ã¯ç‰¹ã«é€Ÿæ”»ã§è¿½ã†ä¾¡å€¤ãŒé«˜ã„**ã£ã¦æ„Ÿã˜ï¼ğŸ§¯ğŸ’¨

---

## 3) è¿½ã†ã¹ãæƒ…å ±æºã‚»ãƒƒãƒˆï¼ˆã“ã“ã ã‘è¦‹ã‚Œã°OKï¼‰ğŸ“ŒğŸ””

![next study 156 info sources](./picture/next_study_156_info_sources.png)


æœ€ä½ãƒ©ã‚¤ãƒ³ã¯ã“ã®4ã¤ã«ã—ã‚ˆã€œï¼âœ¨

1. **Reactå…¬å¼ãƒ–ãƒ­ã‚°ï¼ˆç‰¹ã«RSCé–¢é€£ã®Securityè¨˜äº‹ï¼‰**
   ä¾‹ï¼šRSCã®é‡å¤§è„†å¼±æ€§ã®å‘ŠçŸ¥ãŒå‡ºãŸã‚ˆï¼ˆCVEä»˜ãã§è©³ç´°ã‚ã‚Šï¼‰([React][1])
2. **Next.jså…¬å¼ãƒ–ãƒ­ã‚°ã®Security Update / CVEè¨˜äº‹**
   ã€Œå½±éŸ¿ã‚ã‚‹Next.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€ã€Œç›´ã™ã¹ããƒãƒ¼ã‚¸ãƒ§ãƒ³ã€ã€Œã‚„ã‚‹ã“ã¨ã€ãŒã¾ã¨ã¾ã£ã¦ã‚‹ã“ã¨ãŒå¤šã„ã‚ˆ([Next.js][4])
3. **GitHubã® Next.js ãƒªãƒã‚¸ãƒˆãƒª Security Advisories**
   ã¾ã¨ã¾ã£ã¦ä¸€è¦§ã§è¦‹ã‚‰ã‚Œã‚‹ï¼([GitHub][5])
4. **Dependabot alertsï¼ˆGitHubï¼‰ï¼‹é€šçŸ¥è¨­å®š**
   â€œæ°—ã¥ã‘ã‚‹ä»•çµ„ã¿â€ã‚’ä½œã‚‹ã®ãŒæœ€å¼·ğŸ¥³ï¼ˆé€±1ãƒ¡ãƒ¼ãƒ«ã¨ã‹ã‚‚ã§ãã‚‹ï¼‰([GitHub Docs][6])

ãŠã¾ã‘ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã§ã‚µã‚¯ãƒƒã¨ç¢ºèªï¼‰

* **npm audit**ï¼šä¾å­˜é–¢ä¿‚ã®æ—¢çŸ¥ã®è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯ğŸ•µï¸â€â™€ï¸([npmãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][7])

---

## 4) â€œè¿½ã†â€ã‚’ãƒ©ã‚¯ã«ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ï¼ˆé€šçŸ¥â†’åˆ¤æ–­â†’å¯¾å¿œï¼‰ğŸ§ âœ…

![next study 156 update flow](./picture/next_study_156_update_flow.png)


ã€Œèª­ã‚€ãï¼ã€ã£ã¦æ°—åˆã˜ã‚ƒãªãã¦ã€**æµã‚Œã‚’å›ºå®š**ã—ã‚ˆã€œğŸ˜†

```mermaid
flowchart TD
  A["é€šçŸ¥ã§å—ã‘å–ã‚‹ğŸ””"] --> B["è‡ªåˆ†ã®Next/Reactã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªğŸ”"]
  B --> C{"å½±éŸ¿ã‚ã‚Šï¼ŸğŸ¤”"}
  C -->|"Yes"| D["ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒªé€šã‚Šã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆâ¬†ï¸"]
  D --> E["å‹•ä½œç¢ºèªâœ…"]
  E --> F["æœ¬ç•ªåæ˜ ğŸš€"]
  C -->|"No"| G["ãƒ¡ãƒ¢ã ã‘æ®‹ã™ğŸ“"]
```

ãƒã‚¤ãƒ³ãƒˆã¯ã“ã“ğŸ‘‡

* **ã€Œå½±éŸ¿ã‚ã‚Šï¼Ÿã€ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã€æ™®æ®µã‹ã‚‰è‡ªåˆ†ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒåˆ†ã‹ã‚‹çŠ¶æ…‹**ã«ã—ã¦ãŠãã®ãŒå¤§äº‹ğŸ’¡
* ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒªã«ã‚ˆã£ã¦ã¯ã€Œæœªãƒ‘ãƒƒãƒã§ç¨¼åƒã—ã¦ãŸãªã‚‰ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¦ã­ã€ã¿ãŸã„ãªè¿½åŠ æŒ‡ç¤ºãŒã‚ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã‚ˆ([Next.js][4])

---

## 5) Windowsã§ã§ãã‚‹â€œã„ã¤ã‚‚ã®ç‚¹æ¤œã‚³ãƒãƒ³ãƒ‰â€ğŸªŸğŸ’»

![next study 156 audit command](./picture/next_study_156_audit_command.png)


ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€ã§ï¼ˆPowerShellã§ã‚‚OKï¼‰ğŸ‘‡

```bash
npm audit
```

è‡ªå‹•ã§ç›´ã›ã‚‹ã‚‚ã®ã¯ğŸ‘‡ï¼ˆãŸã ã—å¤§ããå¤‰ã‚ã‚Šãã†ãªã‚‰å·®åˆ†ã‚’è¦‹ã¦ã­âš ï¸ï¼‰

```bash
npm audit fix
```

CIã§ã€Œé‡å¤§ä»¥ä¸ŠãŒå‡ºãŸã‚‰è½ã¨ã™ã€ã‚‚ã§ãã‚‹ã‚ˆğŸ‘‡ï¼ˆãƒãƒ¼ãƒ é‹ç”¨ã ã¨ä¾¿åˆ©âœ¨ï¼‰
â€»`--audit-level`ã¯â€œå¤±æ•—ãƒ©ã‚¤ãƒ³â€ã®æŒ‡å®šã ã‚ˆã€œ([npmãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][7])

```bash
npm audit --audit-level=high
```

---

## 6) ã‚ã‚ŠãŒã¡ãªè½ã¨ã—ç©´ï¼ˆã“ã®ç« ã§è¦šãˆã¦ãŠãã¨å¼·ã„ï¼‰ğŸª¤ğŸ˜µ

* **ã€ŒServer FunctionsãŒã‚½ãƒ¼ã‚¹ã‚’è¿”ã—ã¡ã‚ƒã†ã€ç³»ã®äº‹æ•…**

![next study 156 source leak risk](./picture/next_study_156_source_leak_risk.png)

  Next.jsã®Security Updateã§ã¯ã€ç‰¹å®šæ¡ä»¶ã§ **Server Functionsã®â€œã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ¸ˆã¿ã‚½ãƒ¼ã‚¹â€ãŒè¿”ã‚‹å¯èƒ½æ€§** ãŒèª¬æ˜ã•ã‚Œã¦ã‚‹ã‚ˆã€‚
  ã•ã‚‰ã«ã€Œã‚³ãƒ¼ãƒ‰ã«ç›´æ›¸ãã—ãŸç§˜å¯†æƒ…å ±ãŒæ··ã–ã‚‹ã¨éœ²å‡ºã—ã†ã‚‹ã€ã£ã¦è©±ã‚‚å‡ºã¦ã‚‹â€¦ã“ã‚ã„ğŸ¥¶([Next.js][2])
  ğŸ‘‰ å¯¾ç­–ã®æ–¹å‘æ€§ï¼š**ç§˜å¯†ã¯ç’°å¢ƒå¤‰æ•°ã§æŒã¤**ã€**â€œç›´æ›¸ãâ€ã—ãªã„**ï¼ˆè©³ã—ãã¯å¾ŒåŠã§ã‚„ã‚‹ã‚„ã¤ï¼ï¼‰ğŸ”’âœ¨

* **ã€ŒRSCã¯ä½¿ã£ã¦ãªã„ã¤ã‚‚ã‚Šã€ã§ã‚‚å½±éŸ¿ã™ã‚‹ã“ã¨ãŒã‚ã‚‹**
  Reactå´ã®å‘ŠçŸ¥ã§ã‚‚ã€ŒServer Function endpointã‚’è‡ªåˆ†ã§ä½œã£ã¦ãªãã¦ã‚‚ã€RSCå¯¾å¿œãªã‚‰å½±éŸ¿ã—å¾—ã‚‹ã€ã£ã¦æ›¸ã‹ã‚Œã¦ã‚‹ã‚ˆ([React][1])
  ğŸ‘‰ å¯¾ç­–ï¼š**â€œä½¿ã£ã¦ãªã„ã‹ã‚‰é–¢ä¿‚ãªã„â€ã£ã¦æ±ºã‚ã¤ã‘ãªã„**ã§ã€ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒªã®ã€ŒAffected / Not affectedã€ã‚’èª­ã‚€ğŸ“–

---

## 7) ãƒŸãƒ‹èª²é¡ŒğŸ“âœ¨ï¼ˆ10åˆ†ã§ã§ãã‚‹ï¼ï¼‰

1. è‡ªåˆ†ã®Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã€ãƒ«ãƒ¼ãƒˆã« `SECURITY-WATCH.md` ã‚’ä½œã‚‹ğŸ“
2. ãã“ã«ã“ã‚Œã‚’æ›¸ãï¼ˆã‚³ãƒ”ãƒšOKï¼‰ğŸ‘‡

* Reactå…¬å¼ãƒ–ãƒ­ã‚°ï¼ˆSecurityï¼‰ã‚’è¦‹ã‚‹
* Next.jså…¬å¼ãƒ–ãƒ­ã‚°ï¼ˆSecurity Update / CVEï¼‰ã‚’è¦‹ã‚‹
* GitHub Security Advisoriesï¼ˆvercel/next.jsï¼‰ã‚’è¦‹ã‚‹
* Dependabot alerts ã‚’ONã«ã—ã¦ã€é€šçŸ¥ã‚’é€±1ã«ã™ã‚‹

Dependaboté€šçŸ¥ã®è¨­å®šã¯å…¬å¼æ‰‹é †ãŒã‚ã‚‹ã‚ˆï¼ˆé€±æ¬¡ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆã‚‚ã§ãã‚‹ï¼‰([GitHub Docs][6])

---

ã“ã“ã¾ã§ã§ããŸã‚‰ã€ç¬¬156ç« ã‚¯ãƒªã‚¢ã€œï¼ğŸ‰ğŸ§¯âœ¨
ã€Œé€šçŸ¥ã§æ°—ã¥ã‘ã‚‹çŠ¶æ…‹ã€ã•ãˆä½œã‚ŒãŸã‚‰ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯ä¸€æ°—ã«ãƒ©ã‚¯ã«ãªã‚‹ã‚ˆã€œğŸ˜†ğŸ””

[1]: https://react.dev/blog/2025/12/03/critical-security-vulnerability-in-react-server-components "Critical Security Vulnerability in React Server Components â€“ React"
[2]: https://nextjs.org/blog/security-update-2025-12-11 "Next.js Security Update: December 11, 2025 | Next.js"
[3]: https://aws.amazon.com/jp/blogs/news/china-nexus-cyber-threat-groups-rapidly-exploit-react2shell-vulnerability-cve-2025-55182/?utm_source=chatgpt.com "React2Shell è„†å¼±æ€§ (CVE-2025-55182) ã«å¯¾ã™ã‚‹ä¸­å›½é–¢é€£è„…å¨ ..."
[4]: https://nextjs.org/blog/CVE-2025-66478 "Security Advisory: CVE-2025-66478 | Next.js"
[5]: https://github.com/vercel/next.js/security/advisories "Security Advisories Â· vercel/next.js Â· GitHub"
[6]: https://docs.github.com/en/code-security/dependabot/dependabot-alerts/configuring-notifications-for-dependabot-alerts?utm_source=chatgpt.com "Configuring notifications for Dependabot alerts"
[7]: https://docs.npmjs.com/cli/v8/commands/npm-audit/ "npm-audit | npm Docs"
